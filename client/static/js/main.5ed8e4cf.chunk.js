(this["webpackJsonpjadwal-pwa"]=this["webpackJsonpjadwal-pwa"]||[]).push([[0],{871:function(e){e.exports=JSON.parse('{"isRTL":false,"words":{"all":"All","newInvoice":"New Invoice","addInvoice":"Create Invoice","addCategory":"Add Category","categoryName":"Category Name","categoryNameAr":"Category name Arabic","categoryNameEn":"Category name English","department":"Department","addDepartment":"Add Department","departmentName":"Department Name","departmentNameAr":"Name in Arabic","employee":"Employee","addEmployee":"Add Employee","employeeName":"Employee Name","employeeNameAr":"Employee Name Arabic","service":"Service","product":"Product","services":"Services","products":"Products","serviceproduct":"Service / Product","newService":"New Service","serviceName":"Service Name","serviceNameAr":"Service Name Arabic","customer":"Customer","supplier":"Supplier","newCustomer":"New Customer","customerName":"Customer Name","customerNameAr":"Customer Name Arabic","addBrand":"Add Brand","brandName":"Brand Name","brandNameAr":"Brand name Arabic","newProducts":"New Products","productName":"Product Name","newspecialproducts":"New Special Products","serailNo":"Serail No","newSupplier":"New Supplier","supplierName":"Supplier Name","phoneNumber":"Phone Number","email":"Email","category":"Category","brand":"Brand","cost":"Cost","price":"Price","used":"Used","underSale":"Under Sale","save":"Save","cancel":"Cancel","close":"Close","color":"Color","name":"Name","nameAr":"Name in Arabic","nameEn":"Name in English","username":"Username","password":"Password","login":"Login","logout":"Logout","signup":"Signup","edituser":"Edit User","adduser":"Add New User","deleteuser":"Delete User","delete":"Delete","discount":"Discount","total":"Total","amount":"Amount","grandtotal":"Grand Total","profit":"Profit","day":"Day","tdays":"3 Days","week":"Week","month":"Month","year":"Year","finance":"Cash","cashbox":"Cash","cash":"Cash","paid":"Cash Invoice","credit":"Credit Invoice","card":"Card","bank":"Bank","partner":"Partner","income":"\u064dSales Income","sales":"Sales","appointments":"Appointments","past":"Past","today":"Today","coming":"Coming","discounts":"Sales Discount","status":"Status","start":"Start","end":"End","no":"No","qty":"QTY","print":"Print","printsave":"Save/Print","time":"Date","timedate":"Time","to":"To","from":"From","type":"Type","description":"Description","ref":"Ref","depdraw":"Deposit - Draw","depositbank":"Deposit in Bank","addpartner":"Add - Partner","drawpartner":"Draw - Partner","customerpay":"Client Payment","fromdate":"From Date","todate":"To Date","period":"Period","avatar":"Avatar","roles":"Role","duration":"Duration","companyName":"Company Name","companyNameAr":"Company Name Arabic","mobile":"Mobile","fax":"Fax","phone2":"Phone 2","website":"Website","accounts":"Accouus","account":"Accoount","address":"Address","theaddress":"Address","unit":"Unit","info":"Information","expenses":"Expenses","hresource":"Human Resources","oresource":"Other Resources","resourses":"Resourses","generalkaid":"General Accountant","interval":"Interval","task":"task","addaction":"Add Action","title":"Title","receipts":"Receipt Voucher","notification":"Notification","reminder":"Reminder","subject":"Subject","body":"Body","weekdays":"Weekdays"},"messages":{"itemadded":"Item Added","itemexist":"This Item is already exist","erroronadd":"Error occurred while adding"}}')},872:function(e){e.exports=JSON.parse('{"isRTL":true,"words":{"all":"\u0627\u0644\u0643\u0644","newInvoice":"\u0641\u0627\u062a\u0648\u0631\u0629 \u062c\u062f\u064a\u062f\u0629","addInvoice":"\u0627\u0646\u0634\u0627\u0621 \u0641\u0627\u062a\u0648\u0631\u0629","addCategory":"\u0627\u0636\u0627\u0641\u0629 \u062a\u0635\u0646\u064a\u0641 \u062c\u062f\u064a\u062f","categoryName":"\u0627\u0633\u0645 \u0627\u0644\u062a\u0635\u0646\u064a\u0641","categoryNameAr":"\u0627\u0633\u0645 \u0627\u0644\u062a\u0635\u0646\u064a\u0641 \u0628\u0627\u0644\u0639\u0631\u0628\u064a","categoryNameEn":"\u0627\u0633\u0645 \u0627\u0644\u062a\u0635\u0646\u064a\u0641 \u0628\u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a","department":"\u0627\u0644\u0642\u0633\u0645","addDepartment":"\u0627\u0636\u0627\u0641\u0629 \u0642\u0633\u0645 \u062c\u062f\u064a\u062f","departmentName":"\u0627\u0633\u0645 \u0627\u0644\u0642\u0633\u0645","departmentNameAr":"\u0627\u0633\u0645 \u0627\u0644\u0642\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a","employee":"\u0627\u0644\u0645\u0648\u0638\u0641","addEmployee":"\u0627\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641 \u062c\u062f\u064a\u062f","employeeName":"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641","employeeNameAr":"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641 \u0628\u0627\u0644\u0639\u0631\u0628\u064a","service":"\u0627\u0644\u062e\u062f\u0645\u0629","product":"\u0627\u0644\u0645\u0646\u062a\u062c","services":"\u0627\u0644\u062e\u062f\u0645\u0627\u062a","products":"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a","serviceproduct":"\u062e\u062f\u0645\u0629 / \u0645\u0646\u062a\u062c","newService":"\u0627\u0636\u0627\u0641\u0629 \u062e\u062f\u0645\u0629 \u062c\u062f\u064a\u062f\u0629","serviceName":"\u0627\u0633\u0645 \u0627\u0644\u062e\u062f\u0645\u0629","serviceNameAr":"\u0627\u0633\u0645 \u0627\u0644\u062e\u062f\u0645\u0629 \u0628\u0627\u0644\u0639\u0631\u0628\u064a","supplier":"\u0627\u0644\u0645\u0648\u0631\u062f","customer":"\u0627\u0644\u0639\u0645\u064a\u0644","newCustomer":"\u0627\u0636\u0627\u0641\u0629 \u0639\u0645\u064a\u0644 \u062c\u062f\u064a\u062f","customerName":"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644","customerNameAr":"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 \u0628\u0627\u0644\u0639\u0631\u0628\u064a","addBrand":"\u0627\u0636\u0627\u0641\u0629 \u0628\u0631\u0627\u0646\u062f \u062c\u062f\u064a\u062f","brandName":"\u0627\u0633\u0645 \u0627\u0644\u0628\u0631\u0627\u0646\u062f","brandNameAr":"\u0627\u0633\u0645 \u0627\u0644\u0628\u0631\u0627\u0646\u062f \u0628\u0627\u0644\u0639\u0631\u0628\u064a","newProducts":"\u0627\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u062c\u062f\u064a\u062f","productName":"\u0627\u0633\u0645 \u0627\u0644\u0646\u062a\u062c","newspecialproducts":"\u0627\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u062e\u0627\u0635","serailNo":"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u062a\u0633\u0644\u0633\u0644\u064a","newSupplier":"\u0627\u0636\u0627\u0641\u0629 \u0645\u0648\u0631\u062f \u062c\u062f\u064a\u062f","supplierName":"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0631\u062f","phoneNumber":"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641","email":"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a","category":"\u0627\u0644\u062a\u0635\u0646\u064a\u0641","brand":"\u0627\u0644\u0628\u0631\u0627\u0646\u062f","cost":"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629","price":"\u0633\u0639\u0631 \u0627\u0644\u0645\u0628\u064a\u0639","used":"\u0645\u0633\u062a\u0639\u0645\u0644","underSale":"\u0645\u0646\u062a\u062c \u0639\u0644\u0649 \u0627\u0644\u0645\u0628\u064a\u0639","save":"\u062d\u0641\u0638","cancel":"\u0627\u0644\u063a\u0627\u0621","close":"\u0627\u063a\u0644\u0627\u0642","color":"\u0627\u0644\u0644\u0648\u0646","name":"\u0627\u0644\u0627\u0633\u0645","nameAr":"\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a","nameEn":"\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a","username":"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","password":"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","login":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644","logout":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c","signup":"\u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f","edituser":"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062d\u0633\u0627\u0628","adduser":"\u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f","deleteuser":"\u062d\u0630\u0641 \u0627\u0644\u062d\u0633\u0627\u0628","delete":"\u062d\u0630\u0641","discount":"\u062d\u0633\u0645","total":"\u0627\u0644\u0645\u062c\u0645\u0648\u0639","amount":"\u0627\u0644\u0642\u064a\u0645\u0629","grandtotal":"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0646\u0647\u0627\u0626\u064a\u0629","profit":"\u0642\u064a\u0645\u0629 \u0627\u0644\u0631\u0628\u062d","day":"\u064a\u0648\u0645","tdays":"\u062b\u0644\u0627\u062b\u0629 \u0623\u064a\u0627\u0645","week":"\u0627\u0633\u0628\u0648\u0639","month":"\u0634\u0647\u0631","year":"\u0633\u0646\u0629","finance":"\u0627\u0644\u0646\u0642\u062f\u064a\u0629","cashbox":"\u0627\u0644\u0635\u0646\u062f\u0648\u0642","cash":"\u0646\u0642\u062f\u064a","paid":"\u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u062f\u0641\u0648\u0639\u0629 \u0646\u0642\u062f\u064a","credit":"\u0641\u0627\u062a\u0648\u0631\u0629 \u0623\u062c\u0644\u0629 \u0627\u0644\u062f\u0641\u0639","card":"\u0627\u0644\u0628\u0637\u0627\u0642\u0629","bank":"\u0627\u0644\u0628\u0646\u0643","partner":"\u062d\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u064a\u0643","income":"\u0627\u064a\u0631\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a","sales":"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a","appointments":"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f","past":"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0633\u0627\u0628\u0642\u0629","today":"\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u064a\u0648\u0645","coming":"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0642\u0627\u062f\u0645\u0629","discounts":"\u062e\u0635\u0645 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a","status":"\u0627\u0644\u062d\u0627\u0644\u0629","start":"\u0627\u0644\u0628\u062f\u0627\u064a\u0629","end":"\u0627\u0644\u0646\u0647\u0627\u064a\u0629","no":"\u0631\u0642\u0645","qty":"\u0627\u0644\u0639\u062f\u062f","print":"\u0637\u0628\u0627\u0639\u0629","printsave":"\u062d\u0641\u0638/\u0637\u0628\u0627\u0639\u0629","time":"\u0627\u0644\u062a\u0627\u0631\u064a\u062e","timedate":"\u0627\u0644\u0648\u0642\u062a","to":"\u0627\u0644\u062d\u0633\u0627\u0628 \u0627\u0644\u0645\u062f\u064a\u0646","from":"\u0627\u0644\u062d\u0633\u0627\u0628 \u0627\u0644\u062f\u0627\u0626\u0646","type":"\u0627\u0644\u0646\u0648\u0639","description":"\u0627\u0644\u0628\u064a\u0627\u0646","ref":"\u0627\u0644\u0645\u0631\u062c\u0639","depdraw":"\u0627\u064a\u062f\u0627\u0639 - \u0633\u062d\u0628","depositbank":"\u0627\u064a\u062f\u0627\u0639 \u0641\u064a \u0627\u0644\u0628\u0646\u0643","addpartner":"\u0627\u0636\u0627\u0641\u0629 - \u0634\u0631\u064a\u0643","drawpartner":"\u0633\u062d\u0628 - \u0634\u0631\u064a\u0643","customerpay":"\u062f\u0641\u0639\u0629 \u0645\u0646 \u0639\u0645\u064a\u0644","fromdate":"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e","todate":"\u0627\u0644\u0649 \u062a\u0627\u0631\u064a\u062e","period":"\u0627\u0644\u0641\u062a\u0631\u0629","avatar":"\u0627\u0644\u062d\u0633\u0627\u0628","roles":"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a","duration":"\u0627\u0644\u0645\u062f\u0629","companyName":"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629","companyNameAr":"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 \u0628\u0627\u0644\u0639\u0631\u0628\u064a","mobile":"\u0631\u0642\u0645 \u0627\u0644\u062c\u0648\u0627\u0644","fax":"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u0643\u0633","phone2":"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0627\u0644\u062b\u0627\u0646\u064a","website":"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a","accounts":"\u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a","account":"\u0627\u0644\u062d\u0633\u0627\u0628","address":"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0634\u0631\u0643\u0629","theaddress":"\u0627\u0644\u0639\u0646\u0648\u0627\u0646","unit":"\u0627\u0644\u0648\u062d\u062f\u0629","info":"\u0645\u0639\u0644\u0648\u0645\u0627\u062a","expenses":"\u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641","hresource":"\u0645\u0648\u0627\u0631\u062f \u0628\u0634\u0631\u064a\u0629 (\u0645\u0648\u0638\u0641\u064a\u0646)","oresource":"\u0645\u0648\u0627\u0631\u062f \u0627\u062e\u0631\u0649 (\u0645\u0627\u0643\u064a\u0646\u0627\u062a)","resourses":"\u0627\u0644\u0645\u0648\u0631\u062f","generalkaid":"\u0642\u064a\u062f \u0639\u0627\u0645","interval":"\u0641\u0627\u0635\u0644 \u0632\u0645\u0646\u064a","task":"\u0627\u0644\u0645\u0647\u0645\u0629","addaction":"\u0627\u0636\u0627\u0641\u0629 \u062a\u0646\u0628\u064a\u0647","title":"\u0627\u0644\u0639\u0646\u0648\u0627\u0646","receipts":"\u0633\u0646\u062f \u0642\u0628\u0636","notification":"\u062a\u0646\u0628\u064a\u0647","reminder":"\u062a\u0630\u0643\u064a\u0631","subject":"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0631\u0633\u0627\u0644\u0629","body":"\u0646\u0635 \u0627\u0644\u0631\u0633\u0627\u0644\u0629","weekdays":"\u0627\u064a\u0627\u0645 \u0627\u0644\u0627\u0633\u0628\u0648\u0639"},"messages":{"itemadded":"\u062a\u0645\u062a \u0627\u0644\u0627\u0636\u0627\u0641\u0629","itemexist":"\u0647\u0630\u0627 \u0627\u0644\u0645\u062f\u062e\u0644 \u0645\u0648\u062c\u0648\u062f \u0633\u0627\u0628\u0642\u0627\u064b","erroronadd":"\u062d\u062f\u062b \u062e\u0637\u0623 \u0639\u0646\u062f \u0627\u0644\u0625\u0636\u0627\u0641\u0629"}}')},900:function(e,t,n){},901:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"brandResolver",(function(){return Ba})),n.d(a,"loginResolver",(function(){return za})),n.d(a,"catResolver",(function(){return Fa})),n.d(a,"departResolver",(function(){return Ha})),n.d(a,"custResolver",(function(){return Qa})),n.d(a,"itmResolver",(function(){return Ka})),n.d(a,"emppResolver",(function(){return Ja})),n.d(a,"invItemResolver",(function(){return Za}));var r={};n.r(r),n.d(r,"brandResolver",(function(){return el})),n.d(r,"loginResolver",(function(){return nl})),n.d(r,"addUserResolver",(function(){return rl})),n.d(r,"editUserResolver",(function(){return il})),n.d(r,"catResolver",(function(){return sl})),n.d(r,"passResolver",(function(){return dl})),n.d(r,"departResolver",(function(){return ml})),n.d(r,"custResolver",(function(){return bl})),n.d(r,"itmResolver",(function(){return Ol})),n.d(r,"emppResolver",(function(){return fl})),n.d(r,"depositResolver",(function(){return yl})),n.d(r,"invoiceResolver",(function(){return gl}));var o,i,c,s,l,d,u,m,j,b,p,O,v,f,h,y,x,g,w,C,S,I,N,A,T,$,k,D,R,E,L,_,P,q,B,W,z,V,F,M,H,U,Q,G,K,Y,J,X,Z,ee,te,ne,ae,re,oe,ie,ce,se,le,de,ue,me,je,be,pe,Oe,ve,fe,he,ye,xe,ge,we,Ce,Se,Ie,Ne,Ae,Te,$e,ke,De,Re,Ee,Le,_e,Pe,qe,Be,We,ze,Ve,Fe,Me,He,Ue,Qe,Ge,Ke,Ye,Je,Xe=n(0),Ze=n.n(Xe),et=n(43),tt=n.n(et),nt=n(3),at=n(25),rt=n(982),ot=n(87),it=n(570),ct=n.n(it),st=n(985),lt=n(993),dt=n(981),ut={props:{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiInputLabel:{margin:"dense"},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense"},MuiToolbar:{variant:"dense"}},overrides:{MuiIconButton:{sizeSmall:{marginLeft:4,marginRight:4,padding:12}}}},mt={direction:"rtl",typography:{fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif",fontSize:13,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500},props:{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiInputLabel:{margin:"dense"},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense"},MuiToolbar:{variant:"dense"}},overrides:{MuiIconButton:{sizeSmall:{marginLeft:4,marginRight:4,padding:12}}}},jt=[{palette:{primary:{main:"#252B3B"},secondary:{main:"#FFC107"},background:{default:"#F8F5F5"}}},{palette:{primary:{main:"#be0c5f"},secondary:{main:"#ce93d8"},background:{default:"#F8F5F5"}}},{palette:{primary:{main:"#472D30"},secondary:{main:"#929487"},background:{default:"#F8F5F5"}}},{palette:{primary:{main:"#0068B8"},secondary:{main:"#FFC107"},background:{default:"#F8F5F5"}}},{palette:{primary:{main:"#874cbe"},secondary:{main:"#59c783"},background:{default:"#F8F5F5"}}}],bt=n(2),pt=n(662),Ot=n(134),vt=n(369),ft=Object(Ot.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{marginTop:e.spacing(8),margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ht=Object(Ot.a)((function(e){return Object(vt.a)({root:{display:"flex"},toolbar:e.mixins.toolbar,content:{flex:1}})})),yt=(Object(Ot.a)((function(e){return Object(vt.a)({popup:{height:"45vh",width:"65vh"},margin:{margin:8,height:36,width:100}})})),Object(Ot.a)((function(e){return Object(vt.a)({popup:{width:"85vh",height:"80vh"},margin:{margin:8,height:36,width:100}})})),Object(Ot.a)({root:{maxWidth:400},media:{height:140}})),xt=Object(Ot.a)((function(e){return Object(vt.a)({formControl:{margin:e.spacing(1)},selectEmpty:{marginTop:e.spacing(2)}})})),gt=Object(Ot.a)((function(e){return Object(vt.a)({popup:{height:"120vh",width:"140vh","overflow-y":"overlay"},root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"80ch"}},margin:{margin:8,height:36,width:100},smallFont:{fontSize:12}})})),wt=(Object(Ot.a)((function(e){return Object(vt.a)({popup:{height:"70vh",width:"80vh","overflow-y":"overlay"},root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"80ch"}},margin:{margin:8,height:36,width:100},smallFont:{fontSize:12}})})),Object(Ot.a)((function(e){return Object(vt.a)({popup:{height:"20vh",width:"100vh","overflow-y":"overlay"},root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"80ch"}},margin:{margin:8,height:36,width:100},smallFont:{fontSize:12}})}))),Ct=(Object(Ot.a)((function(e){return Object(vt.a)({popup:{height:"55vh",width:"75vh"},margin:{margin:8,height:36,width:100}})})),Object(Ot.a)((function(e){return Object(vt.a)({popup:{height:"80vh",width:"65vh"},margin:{margin:8,height:36,width:100}})})),Object(Ot.a)((function(e){return Object(vt.a)({popup:{height:"75vh",width:"75vh"},margin:{margin:8,height:36,width:100}})})),Object(Ot.a)((function(e){return Object(vt.a)({popup:{height:"80vh",width:"70vh"},margin:{margin:8,height:36,width:100}})})),Object(Ot.a)((function(e){return Object(vt.a)({popup:{height:"80vh",width:"70vh"},margin:{margin:8,height:36,width:100}})})),Object(Ot.a)((function(e){return Object(vt.a)({popup:{height:"70vh",width:"90vh"},margin:{marginTop:18,height:36,width:100},root:{width:"100%"}})})),Object(Ot.a)((function(e){return Object(vt.a)({popupadd:{height:"65vh",width:"100vh","overflow-y":"overlay"},root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"80ch"}},margin:{margin:8,height:36,width:100}})})),n(661)),St=n(983),It=n(986),Nt=n(576),At=localStorage.getItem("store"),Tt=At?JSON.parse(At):null,$t=Tt?Tt.token:null,kt=Object(Ct.a)({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).GRAPHQL_URI}),Dt=Object(Nt.a)((function(e,t){var n=t.headers;return{headers:Object(bt.a)(Object(bt.a)({},n),{},{authorization:$t?"Jadwal ".concat($t):""})}})),Rt=new St.a({link:Dt.concat(kt),cache:new It.a}),Et=n(13),Lt=n(984),_t=(Object(Lt.a)(o||(o=Object(Et.a)(["\n  query getCategories($isRTL: Boolean) {\n    getCategories(isRTL: $isRTL) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        catType\n        name\n        nameAr\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Object(Lt.a)(i||(i=Object(Et.a)(["\n  query getBrands($isRTL: Boolean) {\n    getBrands(isRTL: $isRTL) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        name\n        nameAr\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Object(Lt.a)(c||(c=Object(Et.a)(["\n  query getGroups($isRTL: Boolean) {\n    getGroups(isRTL: $isRTL) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        name\n        nameAr\n        userId\n        tasks\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Object(Lt.a)(s||(s=Object(Et.a)(["\n  query getDepartments($isRTL: Boolean, $depType: Int) {\n    getDepartments(isRTL: $isRTL, depType: $depType) {\n      ok\n      error\n      data {\n        _id\n        depType\n        branch\n        autoNo\n        docNo\n        name\n        nameAr\n        color\n        desc\n        amount\n        totalinvoiced\n        totalDiscount\n        totalpaid\n        toatlExpenses\n        progress\n        evQty\n        evDone\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"])))),Pt=Object(Lt.a)(l||(l=Object(Et.a)(["\n  query getEmployees($isRTL: Boolean, $resType: Int, $resKind: Int) {\n    getEmployees(isRTL: $isRTL, resType: $resType, resKind: $resKind) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        name\n        nameAr\n        color\n        resKind\n        resType\n\n        amount\n        totalinvoiced\n        totalDiscount\n        totalpaid\n        toatlExpenses\n\n        progress\n        evQty\n        evDone\n\n        phone\n        email\n        comPercent\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n        daysoff\n        info\n        userId\n\n        documentNo\n        startDate\n        endDate\n        cost\n        model\n        type\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),qt=Object(Lt.a)(d||(d=Object(Et.a)(["\n  query getCustomers($isRTL: Boolean) {\n    getCustomers(isRTL: $isRTL) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        name\n        nameAr\n        phone\n        mobile\n        address\n        email\n\n        amount\n        totalinvoiced\n        totalDiscount\n        totalpaid\n        toatlExpenses\n\n        progress\n        evQty\n        evDone\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Bt=(Object(Lt.a)(u||(u=Object(Et.a)(["\n  query getItems($isRTL: Boolean) {\n    getItems(isRTL: $isRTL) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        itemType\n        barcode\n\n        name\n        nameAr\n        desc\n        qty\n        cost\n        price\n        photo\n\n        categoryId\n        categoryName\n        categoryNameAr\n\n        brandId\n        brandName\n        brandNameAr\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Object(Lt.a)(m||(m=Object(Et.a)(["\n  query getServices($isRTL: Boolean) {\n    getServices(isRTL: $isRTL) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        itemType\n        barcode\n\n        name\n        nameAr\n        desc\n        cost\n        price\n        unit\n        photo\n\n        categoryId\n        categoryName\n        categoryNameAr\n\n        brandId\n        brandName\n        brandNameAr\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"])))),Wt=(Object(Lt.a)(j||(j=Object(Et.a)(["\n  query getProducts($isRTL: Boolean) {\n    getProducts(isRTL: $isRTL) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        itemType\n        barcode\n\n        name\n        nameAr\n        desc\n        cost\n        qty\n        price\n        photo\n\n        categoryId\n        categoryName\n        categoryNameAr\n\n        brandId\n        brandName\n        brandNameAr\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Object(Lt.a)(b||(b=Object(Et.a)(["\n  query getNoStockProducts($isRTL: Boolean) {\n    getNoStockProducts(isRTL: $isRTL) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        itemType\n        barcode\n\n        name\n        nameAr\n        desc\n        cost\n        qty\n        price\n        photo\n\n        categoryId\n        categoryName\n        categoryNameAr\n\n        brandId\n        brandName\n        brandNameAr\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Object(Lt.a)(p||(p=Object(Et.a)(["\n  query getEvents(\n    $categoryId: String\n    $departmentId: String\n    $employeeId: String\n    $customerId: String\n    $status: Int\n    $start: Date\n    $end: Date\n    $taskId: Int\n    $due: Boolean\n  ) {\n    getEvents(\n      categoryId: $categoryId\n      departmentId: $departmentId\n      employeeId: $employeeId\n      customerId: $customerId\n      status: $status\n      start: $start\n      end: $end\n      taskId: $taskId\n      due: $due\n    ) {\n      ok\n      error\n      data {\n        _id\n        id\n        taskId\n        branch\n        title\n        startDate\n        endDate\n        allDay\n        rRule\n        reminder\n        exDate\n        allowDrag\n\n        autoNo\n        docNo\n        priority\n        amount\n        status\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        refNo\n        refType\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"])))),zt=Object(Lt.a)(O||(O=Object(Et.a)(["\n  query getUsers {\n    getUsers {\n      ok\n      error\n      data {\n        _id\n        branch\n        type\n        username\n        name\n        email\n        phone\n        avatar\n        address\n        color\n        lang\n        tel\n        fax\n        mob\n\n        isSuperAdmin\n\n        roles\n\n        isDepartAdmin\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeePhone\n        employeeColor\n\n        block\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Vt=Object(Lt.a)(v||(v=Object(Et.a)(["\n  query getInvoices(\n    $start: Date\n    $end: Date\n    $search: String\n    $taskId: Int\n    $customerId: String\n    $departmentId: String\n    $employeeId: String\n  ) {\n    getInvoices(\n      start: $start\n      end: $end\n      search: $search\n      taskId: $taskId\n      customerId: $customerId\n      departmentId: $departmentId\n      employeeId: $employeeId\n    ) {\n      ok\n      error\n      count\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        opType\n        time\n        title\n        desc\n        taskId\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        supplierId\n        supplierName\n        supplierNameAr\n        supplierPhone\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        refNo\n        refType\n        eventNo\n\n        costAmount\n        total\n        discount\n        amount\n        profit\n\n        debitAcc\n        creditAcc\n\n        paymentType\n\n        inhand\n        change\n\n        amountPaid\n        isPaid\n        isCash\n        opId\n\n        userId\n        note\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Ft=Object(Lt.a)(f||(f=Object(Et.a)(["\n  query getLastNos {\n    getLastNos {\n      ok\n      error\n      data\n    }\n  }\n"]))),Mt=Object(Lt.a)(h||(h=Object(Et.a)(["\n  query getBranches {\n    getBranches {\n      ok\n      error\n      data {\n        _id\n\n        basename\n        systems\n        users\n\n        name\n        nameAr\n        logo\n        tel1\n        tel2\n        fax\n        mob\n        email\n        website\n        address\n        poBox\n        CR\n        city\n        country\n        location {\n          lat\n          lon\n        }\n        userId\n        note\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Ht=Object(Lt.a)(y||(y=Object(Et.a)(["\n  query getAccounts {\n    getAccounts {\n      ok\n      error\n      data {\n        _id\n\n        branch\n        code\n        name\n        nameAr\n        parent\n        parentAr\n        parentcode\n        accType\n        balance\n        canedit\n        closedAcc\n        note\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Ut=Object(Lt.a)(x||(x=Object(Et.a)(["\n  query getFinances($start: Date, $end: Date, $search: String) {\n    getFinances(start: $start, end: $end, search: $search) {\n      ok\n      error\n      count\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        opType\n        time\n        title\n        desc\n        taskId\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        refNo\n        refType\n\n        amount\n\n        debitAcc\n        debitAccName\n        debitAccNameAr\n        creditAcc\n        creditAccName\n        creditAccNameAr\n\n        userId\n        note\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Qt=Object(Lt.a)(g||(g=Object(Et.a)(["\n  query getGeneralFinances($start: Date, $end: Date, $search: String) {\n    getGeneralFinances(start: $start, end: $end, search: $search) {\n      ok\n      error\n      count\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        opType\n        time\n        title\n        desc\n        taskId\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        refNo\n        refType\n\n        amount\n\n        debitAcc\n        debitAccName\n        debitAccNameAr\n        creditAcc\n        creditAccName\n        creditAccNameAr\n\n        userId\n        note\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Gt=(Object(Lt.a)(w||(w=Object(Et.a)(["\n  query getRasseds {\n    getRasseds {\n      ok\n      error\n      data\n      message\n    }\n  }\n"]))),Object(Lt.a)(C||(C=Object(Et.a)(["\n  query getReportEvents(\n    $serviceIds: [String]\n    $categoryIds: [String]\n    $departmentIds: [String]\n    $employeeIds: [String]\n    $customerIds: [String]\n    $supplierIds: [String]\n    $taskIds: [Int]\n    $status: Int\n    $start: Date\n    $end: Date\n  ) {\n    getReportEvents(\n      serviceIds: $serviceIds\n      categoryIds: $categoryIds\n      departmentIds: $departmentIds\n      employeeIds: $employeeIds\n      customerIds: $customerIds\n      supplierIds: $supplierIds\n      taskIds: $taskIds\n      status: $status\n      start: $start\n      end: $end\n    ) {\n      ok\n      error\n      message\n      count\n      data {\n        _id\n        id\n        taskId\n        branch\n        title\n        startDate\n        endDate\n        allDay\n        rRule\n        reminder\n        exDate\n        allowDrag\n\n        autoNo\n        docNo\n        priority\n        amount\n        status\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        itemId\n        itemName\n        itemNameAr\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        refNo\n        refType\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"])))),Kt=(Object(Lt.a)(S||(S=Object(Et.a)(["\n  query getSalesReport(\n    $itemId: String\n    $categoryId: String\n    $departmentId: String\n    $employeeId: String\n    $customerId: String\n    $supplierId: String\n    $start: Date\n    $end: Date\n  ) {\n    getSalesReport(\n      itemId: $itemId\n      categoryId: $categoryId\n      departmentId: $departmentId\n      employeeId: $employeeId\n      customerId: $customerId\n      supplierId: $supplierId\n      start: $start\n      end: $end\n    ) {\n      ok\n      error\n      message\n      data {\n        _id\n\n        opId\n        opType\n        opTime\n        opDocNo\n\n        customerId\n        customerName\n        customerNameAr\n\n        departmentId\n        departmentName\n        departmentNameAr\n\n        employeeId\n        employeeName\n        employeeNameAr\n\n        categoryId\n        categoryName\n        categoryNameAr\n\n        itemId\n        itemName\n        itemNameAr\n\n        qty\n        itemPrice\n        amount\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Object(Lt.a)(I||(I=Object(Et.a)(["\n  query getEventsInfo {\n    getEventsInfo {\n      ok\n      error\n      data\n    }\n  }\n"]))),Object(Lt.a)(N||(N=Object(Et.a)(["\n  query getChartsData(\n    $itemId: String\n    $categoryId: String\n    $departmentId: String\n    $employeeId: String\n    $customerId: String\n    $status: Int\n    $start: Date\n    $end: Date\n  ) {\n    getChartsData(\n      itemId: $itemId\n      categoryId: $categoryId\n      departmentId: $departmentId\n      employeeId: $employeeId\n      customerId: $customerId\n      status: $status\n      start: $start\n      end: $end\n    ) {\n      ok\n      error\n      message\n      data\n    }\n  }\n"]))),Object(Lt.a)(A||(A=Object(Et.a)(["\n  query getCompany {\n    getCompany {\n      ok\n      error\n      data\n      message\n    }\n  }\n"])))),Yt=Object(Lt.a)(T||(T=Object(Et.a)(["\n  query getOperationItems($opId: String) {\n    getOperationItems(opId: $opId) {\n      ok\n      error\n      count\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        indx\n        itemId\n        itemType\n        itemBarcode\n        itemName\n        itemNameAr\n        itemDesc\n        itemDescPurchase\n        itemSize\n        itemWeight\n        itemColor\n        itemCost\n        itemUnit\n        itemPrice\n        itemPhoto\n        opId\n        opType\n        opDocNo\n        eventId\n        taskId\n        qty\n        doneQty\n        totalCost\n        total\n        amount\n        categoryId\n        categoryName\n        categoryNameAr\n        brandId\n        brandName\n        brandNameAr\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Jt=(Object(Lt.a)($||($=Object(Et.a)(["\n  query getFinanceReport(\n    $accCode: Int\n    $accPCode: Int\n    $opaccCode: Int\n    $opaccPCode: Int\n    $itemId: String\n    $categoryId: String\n    $departmentId: String\n    $employeeId: String\n    $customerId: String\n    $supplierId: String\n    $start: Date\n    $end: Date\n  ) {\n    getFinanceReport(\n      accCode: $accCode\n      accPCode: $accPCode\n      opaccCode: $opaccCode\n      opaccPCode: $opaccPCode\n      itemId: $itemId\n      categoryId: $categoryId\n      departmentId: $departmentId\n      employeeId: $employeeId\n      customerId: $customerId\n      supplierId: $supplierId\n      start: $start\n      end: $end\n    ) {\n      ok\n      error\n      message\n      data {\n        _id\n\n        opId\n        opType\n        opTime\n        opDocNo\n\n        accCode\n        accName\n        accNameAr\n\n        opaccCode\n        opaccName\n        opaccNameAr\n\n        customerId\n        customerName\n        customerNameAr\n\n        departmentId\n        departmentName\n        departmentNameAr\n\n        employeeId\n        employeeName\n        employeeNameAr\n\n        categoryId\n        categoryName\n        categoryNameAr\n\n        itemId\n        itemName\n        itemNameAr\n\n        qty\n        itemPrice\n\n        kaidType\n        amount\n        debit\n        credit\n        accType\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Object(Lt.a)(k||(k=Object(Et.a)(["\n  query getMonthlyReport(\n    $accPCode: Int\n    $itemType: Int\n    $accountIds: [String]\n    $serviceIds: [String]\n    $categoryIds: [String]\n    $departmentIds: [String]\n    $employeeIds: [String]\n    $customerIds: [String]\n    $supplierIds: [String]\n    $taskIds: [Int]\n    $start: Date\n    $end: Date\n  ) {\n    getMonthlyReport(\n      accPCode: $accPCode\n      itemType: $itemType\n      accountIds: $accountIds\n      serviceIds: $serviceIds\n      categoryIds: $categoryIds\n      departmentIds: $departmentIds\n      employeeIds: $employeeIds\n      customerIds: $customerIds\n      supplierIds: $supplierIds\n      taskIds: $taskIds\n      start: $start\n      end: $end\n    ) {\n      ok\n      error\n      message\n      data {\n        _id\n\n        opId\n        opType\n        opTime\n        opDocNo\n\n        refNo\n        refType\n\n        customerId\n        customerName\n        customerNameAr\n\n        departmentId\n        departmentName\n        departmentNameAr\n\n        employeeId\n        employeeName\n        employeeNameAr\n\n        categoryId\n        categoryName\n        categoryNameAr\n\n        itemId\n        itemName\n        itemNameAr\n\n        qty\n        itemPrice\n\n        eventId\n        taskId\n\n        amount\n        debit\n        credit\n\n        accName\n        accNameAr\n        accType\n        kaidType\n\n        opaccName\n        opaccNameAr\n\n        userId\n        desc\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"])))),Xt=(Object(Lt.a)(D||(D=Object(Et.a)(["\n  query getSimpleChartsData($start: Date, $end: Date) {\n    getSimpleChartsData(start: $start, end: $end) {\n      ok\n      accounts\n      events {\n        _id\n        amount\n        count\n        date\n        day\n        month\n        year\n        departmentId\n        departmentName\n        departmentNameAr\n        departmenColor\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        statusAr\n        statusEn\n        status\n      }\n      sales {\n        _id\n        amount\n        count\n        date\n        day\n        month\n        year\n        departmentId\n        departmentName\n        departmentNameAr\n        departmenColor\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n      }\n      error\n      message\n    }\n  }\n"]))),Object(Lt.a)(R||(R=Object(Et.a)(["\n  query getTodaySales {\n    getTodaySales {\n      ok\n      error\n      message\n      data {\n        _id\n\n        opId\n        opType\n        opTime\n        opDocNo\n\n        refNo\n        refType\n\n        customerId\n        customerName\n        customerNameAr\n\n        departmentId\n        departmentName\n        departmentNameAr\n\n        employeeId\n        employeeName\n        employeeNameAr\n\n        categoryId\n        categoryName\n        categoryNameAr\n\n        itemId\n        itemName\n        itemNameAr\n\n        qty\n        itemPrice\n\n        amount\n        debit\n        credit\n\n        accName\n        accNameAr\n        accType\n        kaidType\n\n        opaccName\n        opaccNameAr\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Object(Lt.a)(E||(E=Object(Et.a)(["\n  query getTodayEvents {\n    getTodayEvents {\n      ok\n      error\n      data {\n        _id\n        id\n        taskId\n        branch\n        title\n        startDate\n        endDate\n        allDay\n        reminder\n        rRule\n        exDate\n        allowDrag\n\n        autoNo\n        docNo\n        priority\n        amount\n        status\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        itemId\n        itemName\n        itemNameAr\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        refNo\n        refType\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Object(Lt.a)(L||(L=Object(Et.a)(["\n  query getDaysEvents($qty: Int) {\n    getDaysEvents(qty: $qty) {\n      ok\n      error\n      message\n      data {\n        _id\n        amount\n        count\n        date\n        day\n        month\n        year\n        statusAr\n        statusEn\n        status\n      }\n    }\n  }\n"]))),Object(Lt.a)(_||(_=Object(Et.a)(["\n  query getDaysSales($qty: Int) {\n    getDaysSales(qty: $qty) {\n      ok\n      error\n      message\n      data {\n        _id\n        amount\n        count\n        date\n        day\n        month\n        year\n      }\n    }\n  }\n"]))),Object(Lt.a)(P||(P=Object(Et.a)(["\n  query getMonthsSales($qty: Int) {\n    getMonthsSales(qty: $qty) {\n      ok\n      error\n      message\n      data {\n        _id\n        amount\n        count\n        date\n        day\n        month\n        year\n        departmentId\n        departmentName\n        departmentNameAr\n        departmenColor\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        statusAr\n        statusEn\n        status\n      }\n    }\n  }\n"]))),Object(Lt.a)(q||(q=Object(Et.a)(["\n  query getMonthsEvents($qty: Int) {\n    getMonthsEvents(qty: $qty) {\n      ok\n      error\n      message\n      data {\n        _id\n        amount\n        count\n        date\n        day\n        month\n        year\n        departmentId\n        departmentName\n        departmentNameAr\n        departmenColor\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        statusAr\n        statusEn\n        status\n      }\n    }\n  }\n"]))),Object(Lt.a)(B||(B=Object(Et.a)(["\n  query getAccountsRaseed {\n    getAccountsRaseed {\n      ok\n      error\n      data\n      message\n    }\n  }\n"]))),Object(Lt.a)(W||(W=Object(Et.a)(["\n  query getLandingChartData {\n    getLandingChartData {\n      ok\n      error\n      message\n      data\n    }\n  }\n"])))),Zt=(Object(Lt.a)(z||(z=Object(Et.a)(["\n  query getPurchaseInvoices($start: Date, $end: Date, $search: String) {\n    getPurchaseInvoices(start: $start, end: $end, search: $search) {\n      ok\n      error\n      count\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        opType\n        time\n        title\n        desc\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        supplierId\n        supplierName\n        supplierNameAr\n        supplierPhone\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        refNo\n        refType\n        eventNo\n\n        costAmount\n        total\n        discount\n        amount\n        profit\n\n        debitAcc\n        creditAcc\n\n        paymentType\n\n        inhand\n        change\n\n        amountPaid\n        isPaid\n        isCash\n        opId\n\n        userId\n        note\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Object(Lt.a)(V||(V=Object(Et.a)(["\n  query getSuppliers($isRTL: Boolean) {\n    getSuppliers(isRTL: $isRTL) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        name\n        nameAr\n        phone\n\n        email\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"])))),en=Object(Lt.a)(F||(F=Object(Et.a)(["\n  query getExpenses(\n    $start: Date\n    $end: Date\n    $search: String\n    $taskId: Int\n    $customerId: String\n    $departmentId: String\n    $employeeId: String\n  ) {\n    getExpenses(\n      start: $start\n      end: $end\n      search: $search\n      taskId: $taskId\n      customerId: $customerId\n      departmentId: $departmentId\n      employeeId: $employeeId\n    ) {\n      ok\n      error\n      count\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        opType\n        time\n        title\n        desc\n\n        taskId\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeePhone\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        refNo\n        refType\n\n        amount\n\n        debitAcc\n        debitAccName\n        debitAccNameAr\n        creditAcc\n        creditAccName\n        creditAccNameAr\n\n        userId\n        note\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),tn=(Object(Lt.a)(M||(M=Object(Et.a)(["\n  query getReminders {\n    getReminders {\n      ok\n      error\n      data {\n        _id\n        id\n        taskId\n        branch\n        title\n        startDate\n        endDate\n        allDay\n        rRule\n        reminder\n        exDate\n        allowDrag\n\n        autoNo\n        docNo\n        priority\n        amount\n        status\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        refNo\n        refType\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Object(Lt.a)(H||(H=Object(Et.a)(["\n  query getActions($type: Int, $active: Boolean, $eventId: Int, $taskId: Int) {\n    getActions(\n      type: $type\n      active: $active\n      eventId: $eventId\n      taskId: $taskId\n    ) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        indx\n        type\n        active\n        sendtime\n        phone\n        email\n        userId\n        title\n        body\n        eventId\n        taskId\n        data\n\n        timeunit\n        timerelate\n        qty\n        address\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"])))),nn=(Object(Lt.a)(U||(U=Object(Et.a)(["\n  mutation createCategory(\n    $branch: String\n    $catType: Int\n    $name: String\n    $nameAr: String\n  ) {\n    createCategory(\n      branch: $branch\n      catType: $catType\n      name: $name\n      nameAr: $nameAr\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Object(Lt.a)(Q||(Q=Object(Et.a)(["\n  mutation deleteCategory($_id: String) {\n    deleteCategory(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),Object(Lt.a)(G||(G=Object(Et.a)(["\n  mutation updateCategory(\n    $_id: String\n    $branch: String\n    $catType: Int\n    $name: String\n    $nameAr: String\n  ) {\n    updateCategory(\n      _id: $_id\n      branch: $branch\n      catType: $catType\n      name: $name\n      nameAr: $nameAr\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Object(Lt.a)(K||(K=Object(Et.a)(["\n  mutation createAction(\n    $branch: String\n    $type: Int\n    $active: Boolean\n    $sendtime: Date\n    $phone: String\n    $email: String\n    $userId: String\n    $title: String\n    $body: String\n    $eventId: Int\n    $taskId: Int\n    $data: String\n    $timeunit: String\n    $timerelate: String\n    $qty: Int\n    $address: String\n  ) {\n    createAction(\n      branch: $branch\n      type: $type\n      active: $active\n      sendtime: $sendtime\n      phone: $phone\n      email: $email\n      userId: $userId\n      title: $title\n      body: $body\n      eventId: $eventId\n      taskId: $taskId\n      data: $data\n      timeunit: $timeunit\n      timerelate: $timerelate\n      qty: $qty\n      address: $address\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Object(Lt.a)(Y||(Y=Object(Et.a)(["\n  mutation deleteAction($_id: String) {\n    deleteAction(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),Object(Lt.a)(J||(J=Object(Et.a)(["\n  mutation updateAction(\n    $_id: String\n    $branch: String\n    $type: Int\n    $active: Boolean\n    $sendtime: Date\n    $phone: String\n    $email: String\n    $userId: String\n    $title: String\n    $body: String\n    $eventId: Int\n    $taskId: Int\n    $data: String\n    $timeunit: String\n    $timerelate: String\n    $qty: Int\n    $address: String\n  ) {\n    updateAction(\n      _id: $_id\n      branch: $branch\n      type: $type\n      active: $active\n      sendtime: $sendtime\n      phone: $phone\n      email: $email\n      userId: $userId\n      title: $title\n      body: $body\n      eventId: $eventId\n      taskId: $taskId\n      data: $data\n      timeunit: $timeunit\n      timerelate: $timerelate\n      qty: $qty\n      address: $address\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Object(Lt.a)(X||(X=Object(Et.a)(["\n  mutation createBrand($branch: String, $name: String, $nameAr: String) {\n    createBrand(branch: $branch, name: $name, nameAr: $nameAr) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Object(Lt.a)(Z||(Z=Object(Et.a)(["\n  mutation deleteBrand($_id: String) {\n    deleteBrand(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),Object(Lt.a)(ee||(ee=Object(Et.a)(["\n  mutation updateBrand(\n    $_id: String\n    $branch: String\n    $name: String\n    $nameAr: String\n  ) {\n    updateBrand(_id: $_id, branch: $branch, name: $name, nameAr: $nameAr) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Object(Lt.a)(te||(te=Object(Et.a)(["\n  mutation createGroup(\n    $branch: String\n    $name: String\n    $nameAr: String\n    $tasks: [Int]\n  ) {\n    createGroup(branch: $branch, name: $name, nameAr: $nameAr, tasks: $tasks) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Object(Lt.a)(ne||(ne=Object(Et.a)(["\n  mutation deleteGroup($_id: String) {\n    deleteGroup(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),Object(Lt.a)(ae||(ae=Object(Et.a)(["\n  mutation updateGroup(\n    $_id: String\n    $branch: String\n    $name: String\n    $nameAr: String\n    $tasks: [Int]\n  ) {\n    updateGroup(\n      _id: $_id\n      branch: $branch\n      name: $name\n      nameAr: $nameAr\n      tasks: $tasks\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Object(Lt.a)(re||(re=Object(Et.a)(["\n  mutation createDepartment(\n    $branch: String\n    $name: String\n    $nameAr: String\n    $depType: Int\n    $desc: String\n    $color: String\n  ) {\n    createDepartment(\n      branch: $branch\n      name: $name\n      nameAr: $nameAr\n      depType: $depType\n      desc: $desc\n      color: $color\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"])))),an=Object(Lt.a)(oe||(oe=Object(Et.a)(["\n  mutation deleteDepartment($_id: String) {\n    deleteDepartment(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),rn=Object(Lt.a)(ie||(ie=Object(Et.a)(["\n  mutation updateDepartment(\n    $_id: String\n    $branch: String\n    $name: String\n    $nameAr: String\n    $depType: Int\n    $desc: String\n    $color: String\n  ) {\n    updateDepartment(\n      _id: $_id\n      branch: $branch\n      name: $name\n      nameAr: $nameAr\n      depType: $depType\n      desc: $desc\n      color: $color\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),on=Object(Lt.a)(ce||(ce=Object(Et.a)(["\n  mutation createEmployee(\n    $branch: String\n    $name: String\n    $nameAr: String\n    $color: String\n    $resKind: Int\n    $resType: Int\n    $department: DepartmentInput\n    $comPercent: Float\n    $phone: String\n    $email: String\n    $daysoff: String\n    $info: String\n    $documentNo: String\n    $startDate: Date\n    $endDate: Date\n    $cost: Float\n    $model: String\n    $type: String\n  ) {\n    createEmployee(\n      branch: $branch\n      name: $name\n      nameAr: $nameAr\n      color: $color\n      resKind: $resKind\n      resType: $resType\n      department: $department\n      comPercent: $comPercent\n      phone: $phone\n      email: $email\n      daysoff: $daysoff\n      info: $info\n      documentNo: $documentNo\n      startDate: $startDate\n      endDate: $endDate\n      cost: $cost\n      model: $model\n      type: $type\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),cn=Object(Lt.a)(se||(se=Object(Et.a)(["\n  mutation deleteEmployee($_id: String) {\n    deleteEmployee(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),sn=Object(Lt.a)(le||(le=Object(Et.a)(["\n  mutation updateEmployee(\n    $_id: String\n    $branch: String\n    $name: String\n    $nameAr: String\n    $color: String\n    $resKind: Int\n    $resType: Int\n    $department: DepartmentInput\n    $comPercent: Float\n    $phone: String\n    $email: String\n    $daysoff: String\n    $info: String\n    $documentNo: String\n    $startDate: Date\n    $endDate: Date\n    $cost: Float\n    $model: String\n    $type: String\n  ) {\n    updateEmployee(\n      _id: $_id\n      branch: $branch\n      name: $name\n      nameAr: $nameAr\n      color: $color\n      resKind: $resKind\n      resType: $resType\n      department: $department\n      comPercent: $comPercent\n      phone: $phone\n      email: $email\n      daysoff: $daysoff\n      info: $info\n      documentNo: $documentNo\n      startDate: $startDate\n      endDate: $endDate\n      cost: $cost\n      model: $model\n      type: $type\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),ln=Object(Lt.a)(de||(de=Object(Et.a)(["\n  mutation createCustomer(\n    $branch: String\n    $name: String\n    $nameAr: String\n    $phone: String\n    $mobile: String\n    $email: String\n    $address: String\n    $employee: EmployeeInput\n  ) {\n    createCustomer(\n      branch: $branch\n      name: $name\n      nameAr: $nameAr\n      phone: $phone\n      mobile: $mobile\n      email: $email\n      address: $address\n      employee: $employee\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),dn=Object(Lt.a)(ue||(ue=Object(Et.a)(["\n  mutation deleteCustomer($_id: String) {\n    deleteCustomer(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),un=Object(Lt.a)(me||(me=Object(Et.a)(["\n  mutation updateCustomer(\n    $_id: String\n    $branch: String\n    $name: String\n    $nameAr: String\n    $phone: String\n    $mobile: String\n    $email: String\n    $address: String\n    $employee: EmployeeInput\n  ) {\n    updateCustomer(\n      _id: $_id\n      branch: $branch\n      name: $name\n      nameAr: $nameAr\n      phone: $phone\n      mobile: $mobile\n      email: $email\n      address: $address\n      employee: $employee\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),mn=Object(Lt.a)(je||(je=Object(Et.a)(["\n  mutation createItem(\n    $branch: String\n    $itemType: Int\n    $barcode: String\n    $name: String\n    $nameAr: String\n    $desc: String\n    $photo: String\n    $cost: Float\n    $price: Float\n    $unit: String\n    $category: CategoryInput\n    $brand: BrandInput\n    $employee: EmployeeInput\n    $department: DepartmentInput\n  ) {\n    createItem(\n      branch: $branch\n      itemType: $itemType\n      barcode: $barcode\n      name: $name\n      nameAr: $nameAr\n      desc: $desc\n      photo: $photo\n      cost: $cost\n      price: $price\n      unit: $unit\n      category: $category\n      brand: $brand\n      employee: $employee\n      department: $department\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),jn=Object(Lt.a)(be||(be=Object(Et.a)(["\n  mutation deleteItem($_id: String) {\n    deleteItem(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),bn=Object(Lt.a)(pe||(pe=Object(Et.a)(["\n  mutation updateItem(\n    $_id: String\n    $branch: String\n    $itemType: Int\n    $barcode: String\n    $name: String\n    $nameAr: String\n    $desc: String\n    $photo: String\n    $cost: Float\n    $price: Float\n    $unit: String\n    $category: CategoryInput\n    $brand: BrandInput\n    $employee: EmployeeInput\n    $department: DepartmentInput\n  ) {\n    updateItem(\n      _id: $_id\n      branch: $branch\n      itemType: $itemType\n      barcode: $barcode\n      name: $name\n      nameAr: $nameAr\n      desc: $desc\n      photo: $photo\n      cost: $cost\n      price: $price\n      unit: $unit\n      category: $category\n      brand: $brand\n      employee: $employee\n      department: $department\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),pn=Object(Lt.a)(Oe||(Oe=Object(Et.a)(["\n  mutation createEvent(\n    $branch: String\n    $taskId: Int\n    $title: String\n    $prefix: String\n    $docNo: String\n    $rRule: String\n    $startDate: Date\n    $endDate: Date\n    $allDay: Boolean\n    $reminder: Boolean\n    $priority: Int\n    $amount: Float\n    $status: Int\n    $items: String\n    $actions: String\n    $customer: CustomerInput\n    $department: DepartmentInput\n    $employee: EmployeeInput\n  ) {\n    createEvent(\n      branch: $branch\n      taskId: $taskId\n      title: $title\n      prefix: $prefix\n      docNo: $docNo\n      rRule: $rRule\n      startDate: $startDate\n      endDate: $endDate\n      allDay: $allDay\n      reminder: $reminder\n      priority: $priority\n      amount: $amount\n      status: $status\n      items: $items\n      actions: $actions\n      customer: $customer\n      department: $department\n      employee: $employee\n    ) {\n      _id\n      id\n      taskId\n      branch\n      title\n      startDate\n      endDate\n      allDay\n      rRule\n      exDate\n      allowDrag\n\n      autoNo\n      docNo\n      priority\n      amount\n      status\n\n      customerId\n      customerName\n      customerNameAr\n      customerPhone\n\n      itemId\n      itemName\n      itemNameAr\n\n      departmentId\n      departmentName\n      departmentNameAr\n      departmentColor\n\n      employeeId\n      employeeName\n      employeeNameAr\n      employeeColor\n      employeePhone\n\n      createdAt\n      updatedAt\n    }\n  }\n"]))),On=Object(Lt.a)(ve||(ve=Object(Et.a)(["\n  mutation deleteEvent($id: Int) {\n    deleteEvent(id: $id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),vn=Object(Lt.a)(fe||(fe=Object(Et.a)(["\n  mutation updateEvent(\n    $branch: String\n    $id: Int\n    $taskId: Int\n    $title: String\n    $docNo: String\n    $rRule: String\n    $prefix: String\n    $startDate: Date\n    $endDate: Date\n    $allDay: Boolean\n    $reminder: Boolean\n    $priority: Int\n    $amount: Float\n    $status: Int\n    $items: String\n    $actions: String\n    $customer: CustomerInput\n    $department: DepartmentInput\n    $employee: EmployeeInput\n  ) {\n    updateEvent(\n      branch: $branch\n      id: $id\n      taskId: $taskId\n      title: $title\n      docNo: $docNo\n      rRule: $rRule\n      prefix: $prefix\n      startDate: $startDate\n      endDate: $endDate\n      allDay: $allDay\n      reminder: $reminder\n      priority: $priority\n      amount: $amount\n      status: $status\n      items: $items\n      actions: $actions\n      customer: $customer\n      department: $department\n      employee: $employee\n    ) {\n      _id\n      id\n      taskId\n      branch\n      title\n      startDate\n      endDate\n      allDay\n      rRule\n      exDate\n      allowDrag\n\n      autoNo\n      docNo\n      priority\n      amount\n      status\n\n      customerId\n      customerName\n      customerNameAr\n      customerPhone\n\n      itemId\n      itemName\n      itemNameAr\n\n      departmentId\n      departmentName\n      departmentNameAr\n      departmentColor\n\n      employeeId\n      employeeName\n      employeeNameAr\n      employeeColor\n      employeePhone\n\n      createdAt\n      updatedAt\n    }\n  }\n"]))),fn=Object(Lt.a)(he||(he=Object(Et.a)(["\n  mutation createInvoice(\n    $branch: String\n    $docNo: String\n    $prefix: String\n    $title: String\n    $time: Date\n    $desc: String\n    $customer: CustomerInput\n    $department: DepartmentInput\n    $employee: EmployeeInput\n    $accounts: [AccountInput]\n    $items: String\n    $costAmount: Float\n    $total: Float\n    $discount: Float\n    $amount: Float\n    $profit: Float\n    $paymentType: String\n    $inhand: Float\n    $change: Float\n    $amountPaid: Float\n    $isPaid: Boolean\n    $isCash: Boolean\n    $opId: String\n    $userId: String\n    $taskId: Int\n    $eventId: Int\n    $eventNo: String\n  ) {\n    createInvoice(\n      branch: $branch\n      docNo: $docNo\n      prefix: $prefix\n      title: $title\n      time: $time\n      desc: $desc\n      customer: $customer\n      department: $department\n      employee: $employee\n      accounts: $accounts\n      items: $items\n      costAmount: $costAmount\n      total: $total\n      discount: $discount\n      amount: $amount\n      profit: $profit\n      paymentType: $paymentType\n      inhand: $inhand\n      change: $change\n      amountPaid: $amountPaid\n      isPaid: $isPaid\n      isCash: $isCash\n      opId: $opId\n      userId: $userId\n      taskId: $taskId\n      eventId: $eventId\n      eventNo: $eventNo\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),hn=Object(Lt.a)(ye||(ye=Object(Et.a)(["\n  mutation deleteInvoice($_id: String) {\n    deleteInvoice(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),yn=Object(Lt.a)(xe||(xe=Object(Et.a)(["\n  mutation updateInvoice(\n    $_id: String\n    $branch: String\n    $docNo: String\n    $prefix: String\n    $title: String\n    $time: Date\n    $desc: String\n    $customer: CustomerInput\n    $department: DepartmentInput\n    $employee: EmployeeInput\n    $accounts: [AccountInput]\n    $items: String\n    $costAmount: Float\n    $total: Float\n    $discount: Float\n    $amount: Float\n    $profit: Float\n    $paymentType: String\n    $inhand: Float\n    $change: Float\n    $amountPaid: Float\n    $isPaid: Boolean\n    $isCash: Boolean\n    $opId: String\n    $taskId: Int\n    $eventId: Int\n    $userId: String\n  ) {\n    updateInvoice(\n      _id: $_id\n      branch: $branch\n      docNo: $docNo\n      prefix: $prefix\n      title: $title\n      time: $time\n      desc: $desc\n      customer: $customer\n      department: $department\n      employee: $employee\n      accounts: $accounts\n      items: $items\n      costAmount: $costAmount\n      total: $total\n      discount: $discount\n      amount: $amount\n      profit: $profit\n      paymentType: $paymentType\n      inhand: $inhand\n      change: $change\n      amountPaid: $amountPaid\n      isPaid: $isPaid\n      isCash: $isCash\n      opId: $opId\n      taskId: $taskId\n      eventId: $eventId\n      userId: $userId\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),xn=Object(Lt.a)(ge||(ge=Object(Et.a)(["\n  mutation createFinance(\n    $time: Date\n    $branch: String\n    $opType: Int\n    $docNo: String\n    $prefix: String\n    $title: String\n    $desc: String\n    $amount: Float\n    $customer: CustomerInput\n    $employee: EmployeeInput\n    $department: DepartmentInput\n    $debitAcc: Int\n    $creditAcc: Int\n    $taskId: Int\n    $refNo: String\n    $userId: String\n  ) {\n    createFinance(\n      time: $time\n      branch: $branch\n      opType: $opType\n      docNo: $docNo\n      prefix: $prefix\n      title: $title\n      desc: $desc\n      amount: $amount\n      customer: $customer\n      employee: $employee\n      department: $department\n      debitAcc: $debitAcc\n      creditAcc: $creditAcc\n      refNo: $refNo\n      taskId: $taskId\n      userId: $userId\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),gn=Object(Lt.a)(we||(we=Object(Et.a)(["\n  mutation deleteFinance($_id: String) {\n    deleteFinance(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),wn=Object(Lt.a)(Ce||(Ce=Object(Et.a)(["\n  mutation updateFinance(\n    $_id: String\n    $time: Date\n    $branch: String\n    $opType: Int\n    $docNo: String\n    $prefix: String\n    $title: String\n    $desc: String\n    $amount: Float\n    $customer: CustomerInput\n    $employee: EmployeeInput\n    $department: DepartmentInput\n    $debitAcc: Int\n    $creditAcc: Int\n    $taskId: Int\n    $refNo: String\n    $userId: String\n  ) {\n    updateFinance(\n      _id: $_id\n      time: $time\n      branch: $branch\n      opType: $opType\n      docNo: $docNo\n      prefix: $prefix\n      title: $title\n      desc: $desc\n      amount: $amount\n      customer: $customer\n      employee: $employee\n      department: $department\n      debitAcc: $debitAcc\n      creditAcc: $creditAcc\n      taskId: $taskId\n      refNo: $refNo\n      userId: $userId\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Cn=Object(Lt.a)(Se||(Se=Object(Et.a)(["\n  mutation createGeneralFinance(\n    $time: Date\n    $branch: String\n    $opType: Int\n    $docNo: String\n    $prefix: String\n    $title: String\n    $desc: String\n    $amount: Float\n    $items: String\n    $customer: CustomerInput\n    $employee: EmployeeInput\n    $department: DepartmentInput\n    $debitAcc: Int\n    $creditAcc: Int\n    $taskId: Int\n    $userId: String\n  ) {\n    createGeneralFinance(\n      time: $time\n      branch: $branch\n      opType: $opType\n      docNo: $docNo\n      prefix: $prefix\n      title: $title\n      desc: $desc\n      amount: $amount\n      items: $items\n      customer: $customer\n      employee: $employee\n      department: $department\n      debitAcc: $debitAcc\n      creditAcc: $creditAcc\n      taskId: $taskId\n      userId: $userId\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Sn=Object(Lt.a)(Ie||(Ie=Object(Et.a)(["\n  mutation deleteGeneralFinance($_id: String) {\n    deleteGeneralFinance(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),In=Object(Lt.a)(Ne||(Ne=Object(Et.a)(["\n  mutation updateGeneralFinance(\n    $_id: String\n    $time: Date\n    $branch: String\n    $opType: Int\n    $docNo: String\n    $prefix: String\n    $title: String\n    $desc: String\n    $amount: Float\n    $items: String\n    $customer: CustomerInput\n    $employee: EmployeeInput\n    $department: DepartmentInput\n    $debitAcc: Int\n    $creditAcc: Int\n    $taskId: Int\n    $userId: String\n  ) {\n    updateGeneralFinance(\n      _id: $_id\n      time: $time\n      branch: $branch\n      opType: $opType\n      docNo: $docNo\n      prefix: $prefix\n      title: $title\n      desc: $desc\n      amount: $amount\n      items: $items\n      customer: $customer\n      employee: $employee\n      department: $department\n      debitAcc: $debitAcc\n      creditAcc: $creditAcc\n      taskId: $taskId\n      userId: $userId\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Nn=Object(Lt.a)(Ae||(Ae=Object(Et.a)(["\n  mutation createAccount(\n    $code: Int\n    $branch: String\n    $name: String\n    $nameAr: String\n    $parentcode: Int\n    $parent: String\n    $parentAr: String\n    $accType: Int\n    $balance: Float\n    $canedit: Boolean\n    $closedAcc: Int\n    $note: String\n  ) {\n    createAccount(\n      code: $code\n      branch: $branch\n      name: $name\n      nameAr: $nameAr\n      parentcode: $parentcode\n      parent: $parent\n      parentAr: $parentAr\n      accType: $accType\n      balance: $balance\n      canedit: $canedit\n      closedAcc: $closedAcc\n      note: $note\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),An=Object(Lt.a)(Te||(Te=Object(Et.a)(["\n  mutation deleteAccount($_id: String) {\n    deleteAccount(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),Tn=Object(Lt.a)($e||($e=Object(Et.a)(["\n  mutation updateAccount(\n    $_id: String\n    $branch: String\n    $code: Int\n    $name: String\n    $nameAr: String\n    $parentcode: Int\n    $parent: String\n    $parentAr: String\n    $accType: Int\n    $balance: Float\n    $closedAcc: Int\n    $note: String\n  ) {\n    updateAccount(\n      _id: $_id\n      branch: $branch\n      code: $code\n      name: $name\n      nameAr: $nameAr\n      parentcode: $parentcode\n      parent: $parent\n      parentAr: $parentAr\n      accType: $accType\n      balance: $balance\n      closedAcc: $closedAcc\n      note: $note\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),$n=Object(Lt.a)(ke||(ke=Object(Et.a)(["\n  mutation login($username: String, $password: String) {\n    login(username: $username, password: $password) {\n      ok\n      message\n      data {\n        _id\n        branch\n        type\n        username\n        name\n        email\n        phone\n        avatar\n        address\n        color\n        lang\n        tel\n        fax\n        mob\n\n        isSuperAdmin\n\n        roles\n\n        isDepartAdmin\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeePhone\n        employeeColor\n\n        block\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n      accessToken\n      refreshToken\n      error\n    }\n  }\n"]))),kn=Object(Lt.a)(De||(De=Object(Et.a)(["\n  mutation signup(\n    $branch: String\n    $username: String\n    $password: String\n    $phone: String\n    $roles: String\n    $name: String\n    $email: String\n    $avatar: String\n    $department: DepartmentInput\n    $isDepartAdmin: Boolean\n    $employee: EmployeeInput\n  ) {\n    signup(\n      branch: $branch\n      username: $username\n      password: $password\n      phone: $phone\n      roles: $roles\n      name: $name\n      email: $email\n      avatar: $avatar\n      department: $department\n      isDepartAdmin: $isDepartAdmin\n      employee: $employee\n    ) {\n      ok\n      message\n      data {\n        _id\n        branch\n        type\n        username\n        name\n        email\n        phone\n        avatar\n        address\n        color\n        lang\n        tel\n        fax\n        mob\n\n        roles\n\n        isDepartAdmin\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeePhone\n        employeeColor\n\n        block\n\n        userId\n\n        createdAt\n        updatedAt\n      }\n      accessToken\n      refreshToken\n      error\n    }\n  }\n"]))),Dn=Object(Lt.a)(Re||(Re=Object(Et.a)(["\n  mutation updateUser(\n    $_id: String\n    $branch: String\n    $roles: String\n    $phone: String\n    $name: String\n    $email: String\n    $avatar: String\n    $department: DepartmentInput\n    $isDepartAdmin: Boolean\n    $employee: EmployeeInput\n  ) {\n    updateUser(\n      _id: $_id\n      branch: $branch\n      roles: $roles\n      phone: $phone\n      name: $name\n      email: $email\n      avatar: $avatar\n      department: $department\n      isDepartAdmin: $isDepartAdmin\n      employee: $employee\n    ) {\n      ok\n      message\n      error\n    }\n  }\n"]))),Rn=Object(Lt.a)(Ee||(Ee=Object(Et.a)(["\n  mutation deleteUser($_id: String) {\n    deleteUser(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),En=Object(Lt.a)(Le||(Le=Object(Et.a)(["\n  mutation updateBranch(\n    $_id: String\n    $basename: String\n    $systems: [String]\n    $users: Int\n    $name: String\n    $nameAr: String\n    $logo: String\n    $tel1: String\n    $tel2: String\n    $fax: String\n    $mob: String\n    $email: String\n    $website: String\n    $address: String\n    $poBox: String\n    $CR: String\n    $city: String\n    $country: String\n    $location: LocationInput\n    $note: String\n  ) {\n    updateBranch(\n      _id: $_id\n      basename: $basename\n      systems: $systems\n      users: $users\n      name: $name\n      nameAr: $nameAr\n      logo: $logo\n      tel1: $tel1\n      tel2: $tel2\n      fax: $fax\n      mob: $mob\n      email: $email\n      website: $website\n      address: $address\n      poBox: $poBox\n      CR: $CR\n      city: $city\n      country: $country\n      location: $location\n      note: $note\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Ln=Object(Lt.a)(_e||(_e=Object(Et.a)(["\n  mutation backupDB {\n    backupDB {\n      ok\n      message\n      error\n    }\n  }\n"]))),_n=Object(Lt.a)(Pe||(Pe=Object(Et.a)(["\n  mutation restoreDB($path: String) {\n    restoreDB(path: $path) {\n      ok\n      message\n      error\n    }\n  }\n"]))),Pn=(Object(Lt.a)(qe||(qe=Object(Et.a)(["\n  mutation runClosing {\n    runClosing {\n      ok\n      message\n      error\n    }\n  }\n"]))),Object(Lt.a)(Be||(Be=Object(Et.a)(["\n  mutation updateCompany(\n    $name: String\n    $nameAr: String\n    $tel1: String\n    $tel2: String\n    $fax: String\n    $mob: String\n    $email: String\n    $website: String\n    $address: String\n    $logo: String\n  ) {\n    updateCompany(\n      name: $name\n      nameAr: $nameAr\n      tel1: $tel1\n      tel2: $tel2\n      fax: $fax\n      mob: $mob\n      email: $email\n      website: $website\n      address: $address\n      logo: $logo\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"])))),qn=Object(Lt.a)(We||(We=Object(Et.a)(["\n  mutation deleteEventById($_id: String) {\n    deleteEventById(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),Bn=(Object(Lt.a)(ze||(ze=Object(Et.a)(["\n  mutation createPurchaseInvoice(\n    $branch: String\n    $docNo: String\n    $prefix: String\n    $title: String\n    $time: Date\n    $desc: String\n    $supplier: SupplierInput\n    $department: DepartmentInput\n    $employee: EmployeeInput\n    $accounts: [AccountInput]\n    $items: String\n    $total: Float\n    $discount: Float\n    $amount: Float\n    $paymentType: String\n    $inhand: Float\n    $change: Float\n    $amountPaid: Float\n    $isPaid: Boolean\n    $isCash: Boolean\n    $opId: String\n    $userId: String\n    $eventId: String\n    $eventNo: String\n  ) {\n    createPurchaseInvoice(\n      branch: $branch\n      docNo: $docNo\n      prefix: $prefix\n      title: $title\n      time: $time\n      desc: $desc\n      supplier: $supplier\n      department: $department\n      employee: $employee\n      accounts: $accounts\n      items: $items\n      total: $total\n      discount: $discount\n      amount: $amount\n      paymentType: $paymentType\n      inhand: $inhand\n      change: $change\n      amountPaid: $amountPaid\n      isPaid: $isPaid\n      isCash: $isCash\n      opId: $opId\n      userId: $userId\n      eventId: $eventId\n      eventNo: $eventNo\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Object(Lt.a)(Ve||(Ve=Object(Et.a)(["\n  mutation updatePurchaseInvoice(\n    $_id: String\n    $branch: String\n    $docNo: String\n    $prefix: String\n    $title: String\n    $time: Date\n    $desc: String\n    $supplier: SupplierInput\n    $department: DepartmentInput\n    $employee: EmployeeInput\n    $accounts: [AccountInput]\n    $items: String\n    $costAmount: Float\n    $total: Float\n    $discount: Float\n    $amount: Float\n    $profit: Float\n    $paymentType: String\n    $inhand: Float\n    $change: Float\n    $amountPaid: Float\n    $isPaid: Boolean\n    $isCash: Boolean\n    $opId: String\n    $userId: String\n  ) {\n    updatePurchaseInvoice(\n      _id: $_id\n      branch: $branch\n      docNo: $docNo\n      prefix: $prefix\n      title: $title\n      time: $time\n      desc: $desc\n      supplier: $supplier\n      department: $department\n      employee: $employee\n      accounts: $accounts\n      items: $items\n      costAmount: $costAmount\n      total: $total\n      discount: $discount\n      amount: $amount\n      profit: $profit\n      paymentType: $paymentType\n      inhand: $inhand\n      change: $change\n      amountPaid: $amountPaid\n      isPaid: $isPaid\n      isCash: $isCash\n      opId: $opId\n      userId: $userId\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Object(Lt.a)(Fe||(Fe=Object(Et.a)(["\n  mutation deletePurchaseInvoice($_id: String) {\n    deletePurchaseInvoice(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),Object(Lt.a)(Me||(Me=Object(Et.a)(["\n  mutation createSupplier(\n    $branch: String\n    $name: String\n    $nameAr: String\n    $phone: String\n    $email: String\n    $employee: EmployeeInput\n  ) {\n    createSupplier(\n      branch: $branch\n      name: $name\n      nameAr: $nameAr\n      phone: $phone\n      email: $email\n      employee: $employee\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"])))),Wn=Object(Lt.a)(He||(He=Object(Et.a)(["\n  mutation updateSupplier(\n    $_id: String\n    $branch: String\n    $name: String\n    $nameAr: String\n    $phone: String\n    $email: String\n    $employee: EmployeeInput\n  ) {\n    updateSupplier(\n      _id: $_id\n      branch: $branch\n      name: $name\n      nameAr: $nameAr\n      phone: $phone\n      email: $email\n      employee: $employee\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),zn=Object(Lt.a)(Ue||(Ue=Object(Et.a)(["\n  mutation deleteSupplier($_id: String) {\n    deleteSupplier(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),Vn=Object(Lt.a)(Qe||(Qe=Object(Et.a)(["\n  mutation createExpenses(\n    $time: Date\n    $branch: String\n    $docNo: String\n    $prefix: String\n    $title: String\n    $desc: String\n    $amount: Float\n    $customer: CustomerInput\n    $department: DepartmentInput\n    $employee: EmployeeInput\n    $debitAcc: Int\n    $creditAcc: Int\n    $taskId: Int\n    $userId: String\n  ) {\n    createExpenses(\n      time: $time\n      branch: $branch\n      docNo: $docNo\n      prefix: $prefix\n      title: $title\n      desc: $desc\n      amount: $amount\n      customer: $customer\n      department: $department\n      employee: $employee\n      debitAcc: $debitAcc\n      creditAcc: $creditAcc\n      taskId: $taskId\n      userId: $userId\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Fn=Object(Lt.a)(Ge||(Ge=Object(Et.a)(["\n  mutation updateExpenses(\n    $_id: String\n    $time: Date\n    $branch: String\n    $docNo: String\n    $prefix: String\n    $title: String\n    $desc: String\n    $amount: Float\n    $customer: CustomerInput\n    $department: DepartmentInput\n    $employee: EmployeeInput\n    $debitAcc: Int\n    $creditAcc: Int\n    $taskId: Int\n    $userId: String\n  ) {\n    updateExpenses(\n      _id: $_id\n      time: $time\n      branch: $branch\n      docNo: $docNo\n      prefix: $prefix\n      title: $title\n      desc: $desc\n      amount: $amount\n      customer: $customer\n      department: $department\n      employee: $employee\n      debitAcc: $debitAcc\n      creditAcc: $creditAcc\n      taskId: $taskId\n      userId: $userId\n    ) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Mn=Object(Lt.a)(Ke||(Ke=Object(Et.a)(["\n  mutation deleteExpenses($_id: String) {\n    deleteExpenses(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),Hn=Object(Lt.a)(Ye||(Ye=Object(Et.a)(["\n  mutation changePassword(\n    $_id: String\n    $password: String\n    $newPassword: String\n  ) {\n    changePassword(_id: $_id, password: $password, newPassword: $newPassword) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Un=Object(Lt.a)(Je||(Je=Object(Et.a)(["\n  mutation blockUser($_id: String, $block: Boolean) {\n    blockUser(_id: $_id, block: $block) {\n      ok\n      message\n      data\n      error\n    }\n  }\n"]))),Qn=function(e,t){return!!e&&(null===t?(localStorage.removeItem(e),!0):(localStorage.setItem(e,JSON.stringify(t)),!0))},Gn=function(e,t){if(!e)return null;var n=localStorage.getItem(e);return n?JSON.parse(n):t&&!0===Qn(e,t)?t:null},Kn={lang:"ar",themeId:"0",user:null,token:null,calendar:{duration:30,start:8.5,end:21.5},network:null,weburi:null,names:{tasks:"\u0627\u0644\u0645\u0647\u0627\u0645",customers:"\u0627\u0644\u0639\u0645\u0644\u0627\u0621",employees:"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646",departments:"\u0627\u0644\u0623\u0642\u0633\u0627\u0645"},localuri:"jadwal-server:4000"},Yn=function(e,t){switch(t.type){case"setLang":return Object(bt.a)(Object(bt.a)({},e),{},{lang:t.payload});case"setCalendar":return Object(bt.a)(Object(bt.a)({},e),{},{calendar:t.payload});case"setThemeId":return Object(bt.a)(Object(bt.a)({},e),{},{themeId:t.payload});case"setNetwork":return Object(bt.a)(Object(bt.a)({},e),{},{network:t.payload});case"setWeburi":return Object(bt.a)(Object(bt.a)({},e),{},{weburi:t.payload});case"setLocaluri":return Object(bt.a)(Object(bt.a)({},e),{},{localuri:t.payload});case"setNames":return Object(bt.a)(Object(bt.a)({},e),{},{names:t.payload});case"login":return Object(bt.a)(Object(bt.a)({},e),{},{user:t.payload.user,token:t.payload.token});case"logout":return Object(bt.a)(Object(bt.a)({},e),{},{user:null,token:null});default:throw new Error("Unexpected action")}},Jn=n(169),Xn=n(10),Zn=n.n(Xn),ea=n(18),ta=n(995),na=n(37),aa=n(581),ra=n.n(aa),oa=n(162),ia=n(767),ca=n(769),sa=n(909),la=n(101),da=n(427),ua=n(902),ma=n(772),ja={cal:"cal",pos:"pos",pur:"pur",exp:"exp",inv:"inv",hr:"hr",ass:"ass",acc:"acc"},ba="view",pa="add",Oa="edit",va="report",fa=function(e){return null===e||void 0===e?void 0:e.isSuperAdmin},ha=function(e){var t,n;return(null===e||void 0===e?void 0:e.isSuperAdmin)||(null===e||void 0===e||null===(t=e.roles)||void 0===t||null===(n=t[null===e||void 0===e?void 0:e.branch])||void 0===n?void 0:n.admin)},ya=function(e,t){var n,a,r,o,i;return(null===e||void 0===e?void 0:e.isSuperAdmin)||(null===e||void 0===e||null===(n=e.roles)||void 0===n||null===(a=n[null===e||void 0===e?void 0:e.branch])||void 0===a?void 0:a.admin)||(null===e||void 0===e||null===(r=e.roles)||void 0===r||null===(o=r[e.branch])||void 0===o||null===(i=o[t])||void 0===i?void 0:i.admin)},xa=function(e,t){var n,a,r,o,i,c,s,l,d,u,m;return(null===e||void 0===e?void 0:e.isSuperAdmin)||(null===e||void 0===e||null===(n=e.roles)||void 0===n||null===(a=n[null===e||void 0===e?void 0:e.branch])||void 0===a?void 0:a.admin)||(null===e||void 0===e||null===(r=e.roles)||void 0===r||null===(o=r[null===e||void 0===e?void 0:e.branch])||void 0===o||null===(i=o[t])||void 0===i?void 0:i.admin)||(null===e||void 0===e||null===(c=e.roles)||void 0===c||null===(s=c[null===e||void 0===e?void 0:e.branch])||void 0===s||null===(l=s[t])||void 0===l?void 0:l[va])||(null===e||void 0===e||null===(d=e.roles)||void 0===d||null===(u=d[null===e||void 0===e?void 0:e.branch])||void 0===u||null===(m=u[t])||void 0===m?void 0:m[Oa])},ga=function(e,t){var n,a,r,o,i,c,s,l,d,u,m;return(null===e||void 0===e?void 0:e.isSuperAdmin)||(null===e||void 0===e||null===(n=e.roles)||void 0===n||null===(a=n[null===e||void 0===e?void 0:e.branch])||void 0===a?void 0:a.admin)||(null===e||void 0===e||null===(r=e.roles)||void 0===r||null===(o=r[null===e||void 0===e?void 0:e.branch])||void 0===o||null===(i=o[t])||void 0===i?void 0:i.admin)||(null===e||void 0===e||null===(c=e.roles)||void 0===c||null===(s=c[null===e||void 0===e?void 0:e.branch])||void 0===s||null===(l=s[t])||void 0===l?void 0:l[va])||(null===e||void 0===e||null===(d=e.roles)||void 0===d||null===(u=d[null===e||void 0===e?void 0:e.branch])||void 0===u||null===(m=u[t])||void 0===m?void 0:m[Oa])},wa=function(e,t){var n,a,r,o,i,c,s,l,d,u,m,j,b,p,O,v,f;return(null===e||void 0===e?void 0:e.isSuperAdmin)||(null===e||void 0===e||null===(n=e.roles)||void 0===n||null===(a=n[null===e||void 0===e?void 0:e.branch])||void 0===a?void 0:a.admin)||(null===e||void 0===e||null===(r=e.roles)||void 0===r||null===(o=r[null===e||void 0===e?void 0:e.branch])||void 0===o||null===(i=o[t])||void 0===i?void 0:i.admin)||(null===e||void 0===e||null===(c=e.roles)||void 0===c||null===(s=c[null===e||void 0===e?void 0:e.branch])||void 0===s||null===(l=s[t])||void 0===l?void 0:l[va])||(null===e||void 0===e||null===(d=e.roles)||void 0===d||null===(u=d[null===e||void 0===e?void 0:e.branch])||void 0===u||null===(m=u[t])||void 0===m?void 0:m[Oa])||(null===e||void 0===e||null===(j=e.roles)||void 0===j||null===(b=j[null===e||void 0===e?void 0:e.branch])||void 0===b||null===(p=b[t])||void 0===p?void 0:p[pa])||(null===e||void 0===e||null===(O=e.roles)||void 0===O||null===(v=O[null===e||void 0===e?void 0:e.branch])||void 0===v||null===(f=v[t])||void 0===f?void 0:f[ba])},Ca="superAdmin",Sa="branchAdmin",Ia="calAdmin",Na="posAdmin",Aa=function(e,t){switch(e){case Ca:return fa(t);case Sa:return ha(t);case Ia:return ya(t,ja.cal);case Na:return ya(t,ja.pos);default:return function(){return null}}},Ta=Gn("store").names,$a=[{id:0,name:"home",uri:"/",titleAr:"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629",titleEn:"Home",icon:"home",req:null,dep:null},{id:.5,name:"calendar",uri:"calendar",titleAr:"\u0627\u0644\u062a\u0642\u0648\u064a\u0645",titleEn:"Calendar",icon:"calendar",req:"cal",dep:"pos"},{id:1,name:"appointments",uri:"appointments",titleAr:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f",titleEn:"Appointments",icon:"event",req:"cal",dep:"pos"},{id:1.5,name:"tasks",uri:"tasks",titleAr:(null===Ta||void 0===Ta?void 0:Ta.tasks)?null===Ta||void 0===Ta?void 0:Ta.tasks:"\u0627\u0644\u0645\u0647\u0627\u0645",titleEn:(null===Ta||void 0===Ta?void 0:Ta.tasks)?null===Ta||void 0===Ta?void 0:Ta.tasks:"Operations",icon:"work",req:"cal",dep:"pos"},{id:3,name:"managments",uri:"managments",titleAr:"\u0627\u0644\u0625\u062f\u0627\u0631\u0627\u062a",titleEn:"Managment",icon:"business",req:"pos",dep:null,subMenu:[{id:31,name:"customers",uri:"customers",titleAr:(null===Ta||void 0===Ta?void 0:Ta.customers)?null===Ta||void 0===Ta?void 0:Ta.customers:"\u0627\u0644\u0639\u0645\u0644\u0627\u0621",titleEn:(null===Ta||void 0===Ta?void 0:Ta.customers)?null===Ta||void 0===Ta?void 0:Ta.customers:"Customers",icon:"business",mainId:3,req:"pos",dep:null},{id:32,name:"manageemployees",uri:"manageemployees",titleAr:(null===Ta||void 0===Ta?void 0:Ta.employees)?null===Ta||void 0===Ta?void 0:Ta.employees:"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646",titleEn:(null===Ta||void 0===Ta?void 0:Ta.employees)?null===Ta||void 0===Ta?void 0:Ta.employees:"Employees",icon:"group",mainId:3,req:null,dep:null},{id:33,name:"manageresourses",uri:"manageresourses",titleAr:(null===Ta||void 0===Ta?void 0:Ta.resourses)?null===Ta||void 0===Ta?void 0:Ta.resourses:"\u0627\u0644\u0645\u0648\u0627\u0631\u062f",titleEn:(null===Ta||void 0===Ta?void 0:Ta.resourses)?null===Ta||void 0===Ta?void 0:Ta.resourses:"Resourses",icon:"group",mainId:3,req:null,dep:null},{id:34,name:"managedepartments",uri:"managedepartments",titleAr:(null===Ta||void 0===Ta?void 0:Ta.departments)?null===Ta||void 0===Ta?void 0:Ta.departments:"\u0627\u0644\u0623\u0642\u0633\u0627\u0645",titleEn:(null===Ta||void 0===Ta?void 0:Ta.departments)?null===Ta||void 0===Ta?void 0:Ta.departments:"Departments",icon:"depart",mainId:3,req:null,dep:null}]},{id:4,name:"finance",uri:"finance",titleAr:"\u0627\u0644\u0648\u062b\u0627\u0626\u0642",titleEn:"Finance",icon:"sales",req:"pos",dep:null,subMenu:[{id:41,name:"sales",uri:"sales",titleAr:"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631",titleEn:"Sales",mainId:4,req:"pos",dep:null},{id:43,name:"receipts",uri:"receipts",titleAr:"\u0627\u0644\u0645\u0642\u0628\u0648\u0636\u0627\u062a",titleEn:"Receipts",icon:"finance",mainId:4,req:null,dep:null},{id:44,name:"expenses",uri:"expenses",titleAr:"\u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641",titleEn:"Expenses",icon:"expenses",mainId:4,req:"exp",dep:null},{id:45,name:"financeall",uri:"financeall",titleAr:"\u0627\u0644\u0642\u064a\u0648\u062f \u0627\u0644\u0639\u0627\u0645\u0629",titleEn:"General Accounting",icon:"finance",mainId:4,req:null,dep:null}]},{id:6,name:"adds",uri:"adds",titleAr:"\u0627\u0644\u0627\u0636\u0627\u0641\u0627\u062a",titleEn:"Additions",icon:"add",req:null,dep:null,subMenu:[{id:62,name:"departments",uri:"departments",titleAr:"\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u062e\u062f\u0645\u0627\u062a",titleEn:"Service Departments",mainId:6,req:null,dep:null},{id:63,name:"employees",uri:"employees",titleAr:"\u0641\u0646\u064a \u0627\u0644\u062e\u062f\u0645\u0627\u062a",titleEn:"Service Employees",mainId:6,req:null,dep:null},{id:64,name:"resourses",uri:"resourses",titleAr:"\u0645\u0648\u0627\u0631\u062f \u0627\u0644\u062e\u062f\u0645\u0627\u062a",titleEn:"Service Resourses",mainId:6,req:null,dep:null},{id:65,name:"services",uri:"services",titleAr:"\u0627\u0644\u062e\u062f\u0645\u0627\u062a",titleEn:"Services",mainId:6,req:null,dep:null}]},{id:7,name:"reports",uri:"reports",titleAr:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",titleEn:"Reports",icon:"report",req:null,dep:null,subMenu:[{id:71,name:"calendarempl",uri:"calendarempl",titleAr:"\u062c\u062f\u0648\u0644 \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646",titleEn:"Employees Calendar",mainId:7,req:"cal",dep:"pos"},{id:72,name:"calreports",uri:"calreports",titleAr:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f",titleEn:"Calendar Report",req:"cal",dep:"pos"},{id:72.5,name:"docreports",uri:"docreports",titleAr:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0648\u062b\u0627\u0626\u0642",titleEn:"Documents Report",req:"cal",dep:"pos"},{id:72.7,name:"servicesreports",uri:"servicesreports",titleAr:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u062e\u062f\u0645\u0627\u062a",titleEn:"Services Report",req:"cal",dep:"pos"},{id:73,name:"salesreport",uri:"salesreport",titleAr:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0627\u064a\u0631\u0627\u062f\u0627\u062a",titleEn:"Sales Report",role:Na,mainId:7,req:"pos",dep:null},{id:74,name:"customerreport",uri:"customerreport",titleAr:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0639\u0645\u0644\u0627\u0621",titleEn:"Customer Report",role:Na,mainId:7,req:"pos",dep:null},{id:76,name:"expensesreport",uri:"expensesreport",titleAr:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641",titleEn:"Expenses Report",mainId:7,req:"exp",dep:null},{id:77,name:"financereport",uri:"financereport",titleAr:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a",titleEn:"Finance Report",role:Na,mainId:7,req:null,dep:null}]},{id:9,name:"users",uri:"users",titleAr:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",titleEn:"Users",role:Sa,icon:"user",req:null,dep:null},{id:10,name:"accounts",uri:"accounts",titleAr:"\u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a",titleEn:"Accounts",icon:"account",mainId:6,role:Sa,req:null,dep:null},{id:11,name:"options",uri:"options",titleAr:"\u0627\u0644\u0627\u0639\u062f\u0627\u062f\u0627\u062a",titleEn:"Options",icon:"options",req:null,dep:null}],ka={cal:{name:"Calendar",nameAr:"\u062c\u062f\u0648\u0644 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f"},pos:{name:"Sales",nameAr:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"},pur:{name:"Purchase",nameAr:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a"},exp:{name:"Expenses",nameAr:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641"},inv:{name:"Inventory",nameAr:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062e\u0627\u0632\u0646"},hr:{name:"Human Resources",nameAr:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0648\u0627\u0631\u062f \u0627\u0644\u0628\u0634\u0631\u064a\u0629"},ass:{name:"Assets Accounting",nameAr:"\u0646\u0638\u0627\u0645 \u062d\u0633\u0627\u0628\u0627\u062a \u0627\u0644\u0623\u0635\u0648\u0644"},acc:{name:"General Accounting",nameAr:"\u0646\u0638\u0627\u0645 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a \u0627\u0644\u0639\u0627\u0645\u0629"}},Da=["#008000","#065535","#008080","#20b2aa","#00ced1","#7fffd4","#25CED1","#407294","#044660","#003366","#0b1f33","#20A4F3","#0070f7","#3843d2","#3454D1","#0000ff","#151060","#000080","#7678ed","#40008d","#8a2be2","#800080","#f7347a","#ff80ed","#ff00ff","#ffc0cb","#f6546a","#ff6666","#ff4040","#ff0000","#990000","#800000","#420420","#58221c","#844257","#a7967e","#ffa500","#ffd700","#ffff66","#ccff00","#00ff00","#7b7b7d","#333333","#101010"],Ra=250,Ea={maxSizeMB:1,maxWidthOrHeight:1280,useWebWorker:!0},La=n(27),_a=n(62),Pa=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,qa=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c().required()}),Ba={resolver:Object(_a.a)(qa)},Wa=La.b().shape({username:La.c().required().min(3).max(100),password:La.c().required().min(3).max(100)}),za={resolver:Object(_a.a)(Wa)},Va=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c().required()}),Fa={resolver:Object(_a.a)(Va)},Ma=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c().required(),color:La.c().required()}),Ha={resolver:Object(_a.a)(Ma)},Ua=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c().required(),phone:La.c().matches(Pa,"Phone number is not valid").required(),email:La.c().email()}),Qa={resolver:Object(_a.a)(Ua)},Ga=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c().required(),price:La.a().min(0).required()}),Ka={resolver:Object(_a.a)(Ga)},Ya=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c().required(),phone:La.c().matches(Pa,"Phone number is not valid").required(),color:La.c().required()}),Ja={resolver:Object(_a.a)(Ya)},Xa=La.b().shape({price:La.a().min(0).required(),qty:La.a().min(1).required()}),Za={resolver:Object(_a.a)(Xa)},er=n(41),tr={salesInvoice:10,salesQoutation:11,salesDelivery:12,salesReturn:13,customerReceipt:14,customerDiscount:15,purchaseInvoice:30,purchaseOrder:31,purchaseDelivery:32,purchaseReturn:33,supplierPayemnt:34,supplierDiscount:35,interDeliveryIn:50,interDeliveryOut:51,expenses:60,deposet:70,ownerDraw:71,ownerDeposit:72,event:80,task:81,project:82,kaid:90},nr={10:{name:"Invlice",nameAr:"\u0641\u0627\u062a\u0648\u0631\u0629",ref:"salesInvoice"},11:{name:"Qoutation",nameAr:"\u0639\u0631\u0636 \u0633\u0639\u0631",ref:"salesQoutation"},12:{name:"Sales Delivery",nameAr:"\u0633\u0646\u062f \u062a\u0633\u0644\u064a\u0645",ref:"salesDelivery"},13:{name:"Sales Return",nameAr:"\u0645\u0631\u062a\u062c\u0639 \u0645\u0628\u064a\u0639\u0627\u062a",ref:"salesReturn"},14:{name:"Receipt",nameAr:"\u0633\u0646\u062f \u0642\u0628\u0636",ref:"customerReceipt"},15:{name:"Sales Discount",nameAr:"\u062e\u0635\u0645 \u0645\u0628\u064a\u0639\u0627\u062a",ref:"customerDiscount"},30:{name:"Purchase Invoice",nameAr:"\u0641\u0627\u062a\u0648\u0631\u0629 \u0634\u0631\u0627\u0621",ref:"purchaseInvoice"},31:{name:"Purchase Order",nameAr:"\u0637\u0644\u0628 \u0634\u0631\u0627\u0621",ref:"purchaseOrder"},32:{name:"Purchase Delivery",nameAr:"\u0633\u0646\u062f \u0627\u0633\u062a\u0644\u0627\u0645",ref:"purchaseDelivery"},33:{name:"Purchase Return",nameAr:"\u0645\u0631\u062a\u062c\u0639 \u0645\u0634\u062a\u0631\u064a\u0627\u062a",ref:"purchaseReturn"},34:{name:"Payemnt",nameAr:"\u0633\u0646\u062f \u062f\u0641\u0639",ref:"supplierPayemnt"},35:{name:"Purchase Discount",nameAr:"\u062e\u0635\u0645 \u0645\u0634\u062a\u0631\u064a\u0627\u062a",ref:"supplierDiscount"},50:{name:"Stock In",nameAr:"\u0648\u0627\u0631\u062f \u0645\u062e\u0632\u0646",ref:"interDeliveryIn"},51:{name:"Stock Out",nameAr:"\u0635\u0627\u062f\u0631 \u0645\u062e\u0632\u0646",ref:"interDeliveryOut"},60:{name:"Expenses",nameAr:"\u0645\u0635\u0627\u0631\u064a\u0641",ref:"expenses"},70:{name:"Deposet",nameAr:"\u0627\u064a\u062f\u0627\u0639",ref:"deposet"},71:{name:"Draw - Partner",nameAr:"\u0633\u062d\u0628 - \u0634\u0631\u064a\u0643",ref:"ownerDraw"},72:{name:"Deposit - Partner",nameAr:"\u0627\u064a\u062f\u0627\u0639 - \u0634\u0631\u064a\u0643",ref:"ownerDeposit"},80:{name:"Appointment",nameAr:"\u0645\u0648\u0639\u062f",ref:"event"},90:{name:"Jornal Vaucher",nameAr:"\u0642\u064a\u062f \u064a\u0648\u0645\u064a\u0629",ref:"kaid"}},ar={1:"Scheduled",2:"Confirmed",3:"On-Hold",4:"Canceled",10:"Completed"},rr={1:"\u0645\u0648\u0639\u062f \u063a\u064a\u0631 \u0645\u0624\u0643\u062f",2:"\u0645\u0648\u0639\u062f \u0645\u0624\u0643\u062f",3:"\u0645\u0648\u0639\u062f \u0645\u0639\u0644\u0642",4:"\u0645\u0648\u0639\u062f \u0645\u0644\u063a\u0649",10:"\u0645\u0648\u0639\u062f \u0645\u0646\u062c\u0632"},or=[{id:1,name:"Scheduled",nameAr:"\u0645\u0648\u0639\u062f \u063a\u064a\u0631 \u0645\u0624\u0643\u062f",color:"#445E93"},{id:2,name:"Confirmed",nameAr:"\u0645\u0648\u0639\u062f \u0645\u0624\u0643\u062f",color:"#2AB7CA"},{id:3,name:"On-Hold",nameAr:"\u0645\u0648\u0639\u062f \u0645\u0639\u0644\u0642",color:"#FED766"},{id:4,name:"Canceled",nameAr:"\u0645\u0648\u0639\u062f \u0645\u0644\u063a\u0649",color:"#FE4A49"},{id:10,name:"Completed",nameAr:"\u0645\u0648\u0639\u062f \u0645\u0646\u062c\u0632",color:"#61E294"}],ir={1:"#7b7b7d",2:"#3843d2",3:"#ffa500",4:"#ff4040",10:"#008000"},cr={sat:!1,sun:!1,mon:!1,tue:!1,wed:!1,thu:!1,fri:!1},sr={6:"sat",0:"sun",1:"mon",2:"tue",3:"wed",4:"thu",5:"fri"},lr={sat:{id:6,name:"Saturday",nameAr:"\u0627\u0644\u0633\u0628\u062a",short:"sat"},sun:{id:0,name:"Sunday",nameAr:"\u0627\u0644\u0627\u062d\u062f",short:"sun"},mon:{id:1,name:"Monday",nameAr:"\u0627\u0644\u0623\u062b\u0646\u064a\u0646",short:"mon"},tue:{id:2,name:"Tuesday",nameAr:"\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621",short:"tue"},wed:{id:3,name:"Wednesday",nameAr:"\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621",short:"wed"},thu:{id:4,name:"Thursday",nameAr:"\u0627\u0644\u062e\u0645\u064a\u0633",short:"thu"},fri:{id:5,name:"Friday",nameAr:"\u0627\u0644\u062c\u0645\u0639\u0629",short:"fri"}},dr=[{id:6,name:"Saturday",nameAr:"\u0627\u0644\u0633\u0628\u062a",short:"sat"},{id:0,name:"Sunday",nameAr:"\u0627\u0644\u0627\u062d\u062f",short:"sun"},{id:1,name:"Monday",nameAr:"\u0627\u0644\u0623\u062b\u0646\u064a\u0646",short:"mon"},{id:2,name:"Tuesday",nameAr:"\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621",short:"tue"},{id:3,name:"Wednesday",nameAr:"\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621",short:"wed"},{id:4,name:"Thursday",nameAr:"\u0627\u0644\u062e\u0645\u064a\u0633",short:"thu"},{id:5,name:"Friday",nameAr:"\u0627\u0644\u062c\u0645\u0639\u0629",short:"fri"}],ur=Object(Xe.createContext)({}),mr=ur,jr={mainResourceName:"status",currentViewName:"3Days",currentDate:new Date,departvalue:null,emplvalue:null,status:null,data:null,sort:[{columnName:"startDate",direction:"desc"}]},br=function(e,t){switch(t.type){case"setMainResourceName":return Object(bt.a)(Object(bt.a)({},e),{},{mainResourceName:t.payload});case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setDepartvalue":return Object(bt.a)(Object(bt.a)({},e),{},{departvalue:t.payload});case"setEmplvalue":return Object(bt.a)(Object(bt.a)({},e),{},{emplvalue:t.payload});case"setStatus":return Object(bt.a)(Object(bt.a)({},e),{},{status:t.payload});case"setData":return Object(bt.a)(Object(bt.a)({},e),{},{data:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},pr=Object(Xe.createContext)({}),Or={currentViewName:"Day",currentDate:new Date,endDate:new Date,sort:[{columnName:"startDate",direction:"desc"}]},vr=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},fr=Object(Xe.createContext)({}),hr={currentViewName:"Month",currentDate:new Date,endDate:new Date,servicevalue:[],departvalue:[],emplvalue:[],custvalue:[],catvalue:[],accvalue:[],taskvalue:[],groupby:"none",group:!1,sumcolumn:"employee",sort:[{columnName:"time",direction:"desc"}]},yr=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setServicevalue":return Object(bt.a)(Object(bt.a)({},e),{},{servicevalue:t.payload});case"setDepartvalue":return Object(bt.a)(Object(bt.a)({},e),{},{departvalue:t.payload});case"setEmplvalue":return Object(bt.a)(Object(bt.a)({},e),{},{emplvalue:t.payload});case"setCustvalue":return Object(bt.a)(Object(bt.a)({},e),{},{custvalue:t.payload});case"setCatvalue":return Object(bt.a)(Object(bt.a)({},e),{},{catvalue:t.payload});case"setAccvalue":return Object(bt.a)(Object(bt.a)({},e),{},{accvalue:t.payload});case"setTaskvalue":return Object(bt.a)(Object(bt.a)({},e),{},{taskvalue:t.payload});case"setGroupby":return Object(bt.a)(Object(bt.a)({},e),{},{groupby:t.payload});case"setGroup":return Object(bt.a)(Object(bt.a)({},e),{},{group:t.payload});case"setSumcolumn":return Object(bt.a)(Object(bt.a)({},e),{},{sumcolumn:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},xr=Object(Xe.createContext)({}),gr={currentViewName:"Month",currentDate:new Date,endDate:new Date,servicevalue:[],departvalue:[],emplvalue:[],custvalue:[],catvalue:[],accvalue:[],groupby:"none",group:!1,sumcolumn:"employee",sort:[{columnName:"time",direction:"desc"}]},wr=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setServicevalue":return Object(bt.a)(Object(bt.a)({},e),{},{servicevalue:t.payload});case"setDepartvalue":return Object(bt.a)(Object(bt.a)({},e),{},{departvalue:t.payload});case"setEmplvalue":return Object(bt.a)(Object(bt.a)({},e),{},{emplvalue:t.payload});case"setCustvalue":return Object(bt.a)(Object(bt.a)({},e),{},{custvalue:t.payload});case"setCatvalue":return Object(bt.a)(Object(bt.a)({},e),{},{catvalue:t.payload});case"setAccvalue":return Object(bt.a)(Object(bt.a)({},e),{},{accvalue:t.payload});case"setGroupby":return Object(bt.a)(Object(bt.a)({},e),{},{groupby:t.payload});case"setGroup":return Object(bt.a)(Object(bt.a)({},e),{},{group:t.payload});case"setSumcolumn":return Object(bt.a)(Object(bt.a)({},e),{},{sumcolumn:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},Cr=Object(Xe.createContext)({}),Sr={currentViewName:"Month",currentDate:new Date,endDate:new Date,servicevalue:[],departvalue:[],emplvalue:[],custvalue:[],catvalue:[],accvalue:[],groupby:"none",group:!1,sumcolumn:"employee",sort:[{columnName:"time",direction:"desc"}]},Ir=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setServicevalue":return Object(bt.a)(Object(bt.a)({},e),{},{servicevalue:t.payload});case"setDepartvalue":return Object(bt.a)(Object(bt.a)({},e),{},{departvalue:t.payload});case"setEmplvalue":return Object(bt.a)(Object(bt.a)({},e),{},{emplvalue:t.payload});case"setCustvalue":return Object(bt.a)(Object(bt.a)({},e),{},{custvalue:t.payload});case"setCatvalue":return Object(bt.a)(Object(bt.a)({},e),{},{catvalue:t.payload});case"setAccvalue":return Object(bt.a)(Object(bt.a)({},e),{},{accvalue:t.payload});case"setTaskvalue":return Object(bt.a)(Object(bt.a)({},e),{},{taskvalue:t.payload});case"setGroupby":return Object(bt.a)(Object(bt.a)({},e),{},{groupby:t.payload});case"setGroup":return Object(bt.a)(Object(bt.a)({},e),{},{group:t.payload});case"setSumcolumn":return Object(bt.a)(Object(bt.a)({},e),{},{sumcolumn:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},Nr=Object(Xe.createContext)({}),Ar={currentViewName:"Month",currentDate:new Date,endDate:new Date,servicevalue:[],departvalue:[],emplvalue:[],custvalue:[],catvalue:[],accvalue:[],groupby:"none",group:!1,sumcolumn:"employee",sort:[{columnName:"time",direction:"desc"}]},Tr=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setServicevalue":return Object(bt.a)(Object(bt.a)({},e),{},{servicevalue:t.payload});case"setDepartvalue":return Object(bt.a)(Object(bt.a)({},e),{},{departvalue:t.payload});case"setEmplvalue":return Object(bt.a)(Object(bt.a)({},e),{},{emplvalue:t.payload});case"setCustvalue":return Object(bt.a)(Object(bt.a)({},e),{},{custvalue:t.payload});case"setCatvalue":return Object(bt.a)(Object(bt.a)({},e),{},{catvalue:t.payload});case"setAccvalue":return Object(bt.a)(Object(bt.a)({},e),{},{accvalue:t.payload});case"setGroupby":return Object(bt.a)(Object(bt.a)({},e),{},{groupby:t.payload});case"setGroup":return Object(bt.a)(Object(bt.a)({},e),{},{group:t.payload});case"setSumcolumn":return Object(bt.a)(Object(bt.a)({},e),{},{sumcolumn:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},$r=Object(Xe.createContext)({}),kr={currentViewName:"Month",currentDate:new Date,endDate:new Date,sort:[{columnName:"time",direction:"desc"}]},Dr=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},Rr=Object(Xe.createContext)({}),Er=Object(Xe.createContext)({}),Lr={currentViewName:"Month",currentDate:new Date,endDate:new Date,sort:[{columnName:"time",direction:"desc"}]},_r=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},Pr=(new Date,new Date,Object(Xe.createContext)({})),qr={currentViewName:"Month",currentDate:new Date,endDate:new Date,servicevalue:[],departvalue:[],emplvalue:[],custvalue:[],catvalue:[],taskvalue:[],groupby:"none",group:!1,sumcolumn:"none",sort:[{columnName:"opTime",direction:"desc"}],itemType:null},Br=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setServicevalue":return Object(bt.a)(Object(bt.a)({},e),{},{servicevalue:t.payload});case"setDepartvalue":return Object(bt.a)(Object(bt.a)({},e),{},{departvalue:t.payload});case"setEmplvalue":return Object(bt.a)(Object(bt.a)({},e),{},{emplvalue:t.payload});case"setCustvalue":return Object(bt.a)(Object(bt.a)({},e),{},{custvalue:t.payload});case"setCatvalue":return Object(bt.a)(Object(bt.a)({},e),{},{catvalue:t.payload});case"setTaskvalue":return Object(bt.a)(Object(bt.a)({},e),{},{taskvalue:t.payload});case"setGroupby":return Object(bt.a)(Object(bt.a)({},e),{},{groupby:t.payload});case"setGroup":return Object(bt.a)(Object(bt.a)({},e),{},{group:t.payload});case"setSumcolumn":return Object(bt.a)(Object(bt.a)({},e),{},{sumcolumn:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});case"setItemType":return Object(bt.a)(Object(bt.a)({},e),{},{itemType:t.payload});default:throw new Error("Unexpected action")}},Wr=Object(Xe.createContext)({}),zr={currentViewName:"Month",currentDate:new Date,endDate:new Date,servicevalue:[],departvalue:[],emplvalue:[],suppvalue:[],catvalue:[],brandvalue:[],groupby:"none",group:!1,sumcolumn:"none",sort:[{columnName:"opTime",direction:"desc"}]},Vr=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setServicevalue":return Object(bt.a)(Object(bt.a)({},e),{},{servicevalue:t.payload});case"setDepartvalue":return Object(bt.a)(Object(bt.a)({},e),{},{departvalue:t.payload});case"setEmplvalue":return Object(bt.a)(Object(bt.a)({},e),{},{emplvalue:t.payload});case"setSupptvalue":return Object(bt.a)(Object(bt.a)({},e),{},{suppvalue:t.payload});case"setCatvalue":return Object(bt.a)(Object(bt.a)({},e),{},{catvalue:t.payload});case"setBrandvalue":return Object(bt.a)(Object(bt.a)({},e),{},{brandvalue:t.payload});case"setGroupby":return Object(bt.a)(Object(bt.a)({},e),{},{groupby:t.payload});case"setGroup":return Object(bt.a)(Object(bt.a)({},e),{},{group:t.payload});case"setSumcolumn":return Object(bt.a)(Object(bt.a)({},e),{},{sumcolumn:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},Fr=n(1),Mr=function(e){var t=ft(),n=Object(Xe.useState)(null),r=Object(nt.a)(n,2),o=r[0],i=r[1],c=Object(na.c)(a.loginResolver),s=c.register,l=c.handleSubmit,d=c.errors,u=Object(Xe.useContext)(Rr),m=u.dispatch,j=u.translate.isRTL,b=Object(ta.a)($n),p=Object(nt.a)(b,1)[0],O=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a,r,o,c,s,l,d,u,j,b,O,v;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.username,s=t.password,e.next=3,p({variables:{username:c,password:s}});case 3:if(!0!==(null===(l=e.sent)||void 0===l||null===(n=l.data)||void 0===n||null===(a=n.login)||void 0===a?void 0:a.ok)){e.next=15;break}return d=l.data.login,u=d.data,j=d.accessToken,b=d.refreshToken,O=Object(bt.a)(Object(bt.a)({},u),{},{roles:JSON.parse(u.roles)}),e.next=9,Rt.resetStore();case 9:v=JSON.stringify({accessToken:j,refreshToken:b}),m({type:"login",payload:{user:O,token:v}}),window.location.reload(),i(null),e.next=16;break;case 15:!1===(null===l||void 0===l||null===(r=l.data)||void 0===r||null===(o=r.login)||void 0===o?void 0:o.ok)&&i(l.data.login.error);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){13===e.keyCode&&l(O)()};return Object(Fr.jsx)(Fr.Fragment,{children:Object(Fr.jsxs)(ia.a,{component:"main",maxWidth:"xs",children:[Object(Fr.jsx)(ca.a,{}),Object(Fr.jsxs)("div",{className:t.paper,children:[Object(Fr.jsx)(sa.a,{className:t.avatar,children:Object(Fr.jsx)(ra.a,{})}),Object(Fr.jsx)(la.a,{component:"h1",variant:"h5",children:j?"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644":"Sign in"}),Object(Fr.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(Fr.jsx)(da.a,{autoFocus:!0,label:j?"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"Username",name:"username",variant:"outlined",inputRef:s,error:!!d.username,onKeyDown:v,required:!0,fullWidth:!0}),Object(Fr.jsx)(da.a,{name:"password",label:j?"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"Password",type:"password",variant:"outlined",inputRef:s,error:!!d.password,onKeyDown:v,helperText:o||void 0,required:!0,fullWidth:!0}),Object(Fr.jsx)(oa.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,style:{height:40},onClick:l(O),children:j?"\u062a\u0633\u062c\u0628\u0644 \u0627\u0644\u062f\u062e\u0648\u0644":"Login"})]})]}),Object(Fr.jsx)(ua.a,{mt:8,children:Object(Fr.jsxs)(la.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Fr.jsx)(ma.a,{color:"inherit",href:"https://jadwalerp.com/",children:"Jadwal ERP"})," ",(new Date).getFullYear(),"."]})})]})})},Hr=n(73),Ur=n(79),Qr=n(55),Gr=n(906),Kr=n(813),Yr=n(361),Jr=n(127),Xr=n(814),Zr=n(8),eo=n(624),to=n.n(eo),no=n(356),ao=n(357),ro=n(358),oo=n(612),io=n(602),co=n.n(io),so=n(603),lo=n.n(so),uo=n(605),mo=n.n(uo),jo=n(601),bo=n.n(jo),po=n(606),Oo=n.n(po),vo=n(607),fo=n.n(vo),ho=n(596),yo=n.n(ho),xo=n(600),go=n.n(xo),wo=n(590),Co=n.n(wo),So=n(593),Io=n.n(So),No=n(591),Ao=n.n(No),To=n(594),$o=n.n(To),ko=n(592),Do=n.n(ko),Ro=n(595),Eo=n.n(Ro),Lo=n(597),_o=n.n(Lo),Po=n(334),qo=n.n(Po),Bo=n(608),Wo=n.n(Bo),zo=n(609),Vo=n.n(zo),Fo=n(610),Mo=n.n(Fo),Ho=n(611),Uo=n.n(Ho),Qo=n(599),Go=n.n(Qo),Ko=n(598),Yo=n.n(Ko),Jo=n(604),Xo=n.n(Jo);function Zo(e){var t=e.icon,n=e.color,a=e.size,r={color:n,fontSize:a||void 0};switch(t){case"home":return Object(Fr.jsx)(Co.a,{style:r});case"calendar":return Object(Fr.jsx)(qo.a,{style:r});case"sales":return Object(Fr.jsx)(Ao.a,{style:r});case"purchase":return Object(Fr.jsx)(Do.a,{style:r});case"expenses":return Object(Fr.jsx)(Io.a,{style:r});case"inventory":return Object(Fr.jsx)($o.a,{style:r});case"finance":return Object(Fr.jsx)(Eo.a,{style:r});case"add":return Object(Fr.jsx)(yo.a,{style:r});case"user":return Object(Fr.jsx)(_o.a,{style:r});case"business":return Object(Fr.jsx)(Yo.a,{style:r});case"group":return Object(Fr.jsx)(Go.a,{style:r});case"options":return Object(Fr.jsx)(go.a,{style:r});case"cash":return Object(Fr.jsx)(bo.a,{style:r});case"card":return Object(Fr.jsx)(co.a,{style:r});case"bank":return Object(Fr.jsx)(lo.a,{style:r});case"depart":return Object(Fr.jsx)(Xo.a,{style:r});case"partner":return Object(Fr.jsx)(mo.a,{style:r});case"discount":return Object(Fr.jsx)(Oo.a,{style:r});case"event":return Object(Fr.jsx)(fo.a,{style:r});case"report":return Object(Fr.jsx)(Wo.a,{style:r});case"account":return Object(Fr.jsx)(Vo.a,{style:r});case"logout":return Object(Fr.jsx)(Mo.a,{style:r});case"work":return Object(Fr.jsx)(Uo.a,{style:r});default:return Object(Fr.jsx)("div",{})}}var ei=function(e,t,n){var a=n?Object(er.c)(t.palette.secondary.main,.8):Object(er.c)(t.palette.background.default,.8);return Object(Fr.jsx)(oo.a,{children:Object(Fr.jsx)(Zo,{icon:e,color:a,size:25})})},ti=n(335),ni=n.n(ti),ai=n(239),ri=n.n(ai),oi=n(774),ii=function(e){var t=e.item,n=e.classes,a=e.isRTL,r=e.theme,o=e.submenu,i=e.setMenuitem,c=e.menuitem,s=(e.i,e.user),l=e.setMobileOpen,d=Ze.a.useState(!1),u=Object(nt.a)(d,2),m=u[0],j=u[1];return Object(Fr.jsxs)("div",{children:[Object(Fr.jsxs)(ao.a,{id:t.id,dir:a?"rtl":void 0,className:n.child,onClick:function(){j(!m)},style:{cursor:"pointer"},children:[ei(t.icon,r,!1),Object(Fr.jsx)(ro.a,{primary:a?t.titleAr:t.titleEn,className:a?n.txtrtl:n.txtltr,style:{marginLeft:-20,paddingTop:3}}),m?Object(Fr.jsx)(ni.a,{style:{color:"#eee",fontSize:20}}):Object(Fr.jsx)(ri.a,{style:{color:"#eee",fontSize:20}})]}),Object(Fr.jsx)(oi.a,{in:m,timeout:"auto",unmountOnExit:!0,children:Object(Fr.jsx)(no.a,{disablePadding:!0,children:o.map((function(e){return function(e){var t=e.isRTL,n=e.classes,a=e.setMenuitem,r=e.menuitem,o=e.item,i=e.theme,c=e.user,s=e.setMobileOpen,l=o.name===r.name;return!o.role||Aa(o.role,c)?Object(Fr.jsx)(Jn.b,{style:{textDecoration:"none",color:l?"#eee":Object(er.c)(i.palette.background.default,.8)},to:"".concat(o.uri),onClick:function(){a(o),s&&s(!1)},children:Object(Fr.jsx)(ao.a,{button:!0,className:n.child2,style:{backgroundColor:l?i.palette.primary.dark:void 0},children:Object(Fr.jsx)(ro.a,{primary:t?o.titleAr:o.titleEn,style:{color:l?i.palette.secondary.main:void 0}})})},o.id):Object(Fr.jsx)("div",{},o.id)}({isRTL:a,item:e,classes:n,setMenuitem:i,menuitem:c,theme:r,user:s,setMobileOpen:l})}))})})]})},ci=function(e){var t=e.isRTL,n=e.menuitem,a=e.setMenuitem,r=e.classes,o=e.theme,i=e.user,c=e.menu,s=e.setMobileOpen,l=e.logout,d=e.client,u=e.history;return Object(Fr.jsx)(no.a,{children:c.map((function(e,c){var m=e.subMenu,j=e.name===n.name;return!e.role||Aa(e.role,i)?Object(Fr.jsxs)("div",{children:[!m&&Object(Fr.jsx)(Jn.b,{style:{textDecoration:"none",color:j?"#333":"#eee"},to:"".concat(e.uri),onClick:Object(ea.a)(Zn.a.mark((function t(){return Zn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(99!==e.id){t.next=7;break}return l(),t.next=4,d.resetStore();case 4:u.push("/"),t.next=9;break;case 7:a(e),s&&s(!1);case 9:case"end":return t.stop()}}),t)}))),children:Object(Fr.jsxs)(ao.a,{dir:t?"rtl":void 0,className:r.child,style:{cursor:"pointer",backgroundColor:j?o.palette.primary.dark:void 0},children:[ei(e.icon,o,j),Object(Fr.jsx)(ro.a,{primary:t?e.titleAr:e.titleEn,className:t?r.txtrtl:r.txtltr,style:{paddingTop:3,color:j?o.palette.secondary.main:void 0}})]})}),m&&Object(Fr.jsx)(ii,{item:e,classes:r,isSelected:j,isRTL:t,theme:o,submenu:m,i:c,setMenuitem:a,menuitem:n,user:i,setMobileOpen:s})]},e.id):Object(Fr.jsx)("div",{},e.id)}))})},si=n(76),li=n.n(si),di=n(141),ui=n.n(di),mi=n(142),ji=n.n(mi),bi=n(776),pi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:70,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;if(!e)return"#777";for(var a=0,r=0;r<e.length;r++)a=e.charCodeAt(r)+((a<<5)-a);var o=a%360;return"hsl("+o+", "+t+"%, "+n+"%)"},Oi=n(613),vi="pos",fi="pur",hi="exp",yi="inv",xi="ass",gi="acc",wi=[{id:1,name:"One Appointment",nameAr:"\u0645\u0648\u0639\u062f \u0648\u0627\u062d\u062f"},{id:2,name:"Multi Appointments",nameAr:"\u0645\u0648\u0627\u0639\u064a\u062f \u0645\u062a\u0639\u062f\u062f\u0629"},{id:3,name:"Rent & Services",nameAr:"\u062e\u062f\u0645\u0627\u062a \u0648\u062a\u0623\u062c\u064a\u0631"}],Ci=function(e){var t=e.id,n=e.isRTL,a=wi.filter((function(e){return e.id===t}));return a&&a.length>0?n?a[0].nameAr:a[0].name:""},Si=1,Ii=2,Ni=1,Ai=2,Ti=1,$i=2,ki=1,Di=2,Ri=8,Ei=15,Li={1:{min:1e3,max:1099},2:{min:1100,max:1199},3:{min:1200,max:1299},4:{min:1300,max:1399},5:{min:1400,max:1499},6:{min:1500,max:1599},7:{min:2e3,max:2099},8:{min:2100,max:2899},9:{min:2900,max:2999},10:{min:3e3,max:3099},11:{min:3100,max:3199},12:{min:3200,max:3299},13:{min:4e3,max:4999},14:{min:5e3,max:5999},15:{min:6e3,max:6999}},_i={CASH:{parentcode:ki,parent:"CASH",parentAr:"\u0627\u0644\u0646\u0642\u062f\u064a\u0629",accType:Ni,closedAcc:Ti},ACCOUNTS_RECEIVABLE:{parentcode:Di,parent:"ACCOUNTS RECEIVABLE",parentAr:"\u0627\u0644\u0645\u062f\u064a\u0646\u0648\u0646",accType:Ni,closedAcc:Ti},INVENTORY:{parentcode:3,parent:"INVENTORY",parentAr:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646",accType:Ni,closedAcc:Ti},OTHER_CURRENT_ASSETS:{parentcode:4,parent:"OTHER CURRENT ASSETS",parentAr:"\u062d\u0633\u0627\u0628\u0627\u062a \u0645\u062f\u064a\u0646\u0629 \u0623\u062e\u0631\u0649",accType:Ni,closedAcc:Ti},FIXED_ASSETS:{parentcode:5,parent:"FIXED ASSETS",parentAr:"\u0627\u0644\u0623\u0635\u0648\u0644 \u0627\u0644\u062b\u0627\u0628\u062a\u0629",accType:Ni,closedAcc:Ti},ACCUMULATED_DEPRECIATION:{parentcode:6,parent:"ACCUMULATED DEPRECIATION",parentAr:"\u0627\u0644\u0627\u0647\u0644\u0627\u0643 \u0627\u0644\u0645\u062c\u0645\u0639",accType:Ai,closedAcc:Ti},ACCOUNTS_PAYABLE:{parentcode:7,parent:"ACCOUNTS PAYABLE",parentAr:"\u0627\u0644\u062f\u0627\u0626\u0646\u0648\u0646",accType:Ai,closedAcc:Ti},OTHER_CURRENT_LIABILITIES:{parentcode:Ri,parent:"OTHER CURRENT LIABILITIES",parentAr:"\u062d\u0633\u0627\u0628\u0627\u062a \u062f\u0627\u0626\u0646\u0629 \u0623\u062e\u0631\u0649",accType:Ai,closedAcc:Ti},LONG_TERM_LIABILITIES:{parentcode:9,parent:"LONG TERM LIABILITIES",parentAr:"\u0642\u0631\u0648\u0636 \u0637\u0648\u064a\u0644\u0629 \u0627\u0644\u0627\u062c\u0644",accType:Ai,closedAcc:Ti},EQUITY_RETAINED_EARNINGS:{parentcode:10,parent:"EQUITY RETAINED EARNINGS",parentAr:"\u062d\u0642\u0648\u0642 \u0627\u0644\u0645\u0644\u0643\u064a\u0629 - \u0627\u0644\u0623\u0631\u0628\u0627\u062d \u0627\u0644\u0645\u062d\u062a\u062c\u0632\u0629",accType:Ai,closedAcc:Ti},EQUITY_DOESNT_CLOSE:{parentcode:11,parent:"EQUITY DOESNT CLOSE",parentAr:"\u062d\u0642\u0648\u0642 \u0627\u0644\u0645\u0644\u0643\u064a\u0629 - \u063a\u064a\u0631 \u0627\u0644\u0645\u063a\u0644\u0642\u0629",accType:Ai,closedAcc:Ti},EQUITY_GETS_CLOSED:{parentcode:12,parent:"EQUITY GETS CLOSED",parentAr:"\u062d\u0642\u0648\u0642 \u0627\u0644\u0645\u0644\u0643\u064a\u0629 - \u0627\u0644\u0645\u063a\u0644\u0642\u0629",accType:Ai,closedAcc:Ti},INCOME:{parentcode:13,parent:"INCOME",parentAr:"\u0627\u0644\u0625\u064a\u0631\u0627\u062f\u0627\u062a",accType:Ai,closedAcc:$i},COST_OF_SALES:{parentcode:14,parent:"COST OF SALES",parentAr:"\u062a\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a",accType:Ni,closedAcc:$i},EXPENCES:{parentcode:Ei,parent:"EXPENCES",parentAr:"\u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641",accType:Ni,closedAcc:$i}},Pi=[Object(bt.a)({},_i.CASH),Object(bt.a)({},_i.ACCOUNTS_RECEIVABLE),Object(bt.a)({},_i.INVENTORY),Object(bt.a)({},_i.OTHER_CURRENT_ASSETS),Object(bt.a)({},_i.FIXED_ASSETS),Object(bt.a)({},_i.ACCUMULATED_DEPRECIATION),Object(bt.a)({},_i.ACCOUNTS_PAYABLE),Object(bt.a)({},_i.OTHER_CURRENT_LIABILITIES),Object(bt.a)({},_i.LONG_TERM_LIABILITIES),Object(bt.a)({},_i.EQUITY_RETAINED_EARNINGS),Object(bt.a)({},_i.EQUITY_DOESNT_CLOSE),Object(bt.a)({},_i.EQUITY_GETS_CLOSED),Object(bt.a)({},_i.INCOME),Object(bt.a)({},_i.COST_OF_SALES),Object(bt.a)({},_i.EXPENCES)],qi=[Object(bt.a)({},_i.CASH),Object(bt.a)({},_i.OTHER_CURRENT_LIABILITIES)],Bi=[Object(bt.a)({},_i.ACCOUNTS_RECEIVABLE),Object(bt.a)({},_i.COST_OF_SALES),Object(bt.a)({},_i.INCOME)],Wi=[Object(bt.a)({},_i.ACCOUNTS_PAYABLE)],zi=[Object(bt.a)({},_i.EXPENCES)],Vi=[Object(bt.a)({},_i.INVENTORY)],Fi=[Object(bt.a)({},_i.OTHER_CURRENT_ASSETS),Object(bt.a)({},_i.FIXED_ASSETS),Object(bt.a)({},_i.ACCUMULATED_DEPRECIATION),Object(bt.a)({},_i.LONG_TERM_LIABILITIES),Object(bt.a)({},_i.EQUITY_RETAINED_EARNINGS),Object(bt.a)({},_i.EQUITY_DOESNT_CLOSE),Object(bt.a)({},_i.EQUITY_GETS_CLOSED)],Mi=1e3,Hi=1010,Ui=1020,Qi=1100,Gi=1200,Ki=2e3,Yi=4e3,Ji=4100,Xi=4200,Zi=4500,ec=2100,tc=2800,nc=5e3,ac=5050,rc=5100,oc=5200,ic=5500,cc=6e3,sc=6100,lc=6200,dc=6500,uc=1300,mc=1400,jc=1500,bc=2900,pc=3e3,Oc=3100,vc=3200,fc={cash:Object(bt.a)({code:Mi,name:"Cash",nameAr:"\u0627\u0644\u0635\u0646\u062f\u0648\u0642"},_i.CASH),card:Object(bt.a)({code:Hi,name:"Card",nameAr:"\u0628\u0637\u0627\u0642\u0629"},_i.CASH),bank:Object(bt.a)({code:Ui,name:"Bank",nameAr:"\u0627\u0644\u0628\u0646\u0643"},_i.CASH),accounts_receivable:Object(bt.a)({code:Qi,name:"Accounts Receivable",nameAr:"\u0627\u0644\u0645\u062f\u064a\u0646\u0648\u0646"},_i.ACCOUNTS_RECEIVABLE),inventory:Object(bt.a)({code:Gi,name:"inventory",nameAr:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646"},_i.INVENTORY),accounts_payable:Object(bt.a)({code:Ki,name:"Accounts Payable",nameAr:"\u0627\u0644\u062f\u0627\u0626\u0646\u0648\u0646"},_i.ACCOUNTS_PAYABLE),sales_income:Object(bt.a)({code:Yi,name:"Sales Income",nameAr:"\u0627\u064a\u0631\u0627\u062f \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"},_i.INCOME),purchase_discount:Object(bt.a)({code:Ji,name:"Purchase Discount",nameAr:"\u062e\u0635\u0645 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a"},_i.INCOME),purchase_returns:Object(bt.a)({code:Xi,name:"Purchase Returns",nameAr:"\u0645\u0631\u062f\u0648\u062f\u0627\u062a \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a"},_i.INCOME),sales_income_other:Object(bt.a)({code:Zi,name:"Other Sales Income",nameAr:"\u0625\u064a\u0631\u0627\u062f\u0627\u062a \u0627\u062e\u0631\u0649"},_i.INCOME),partner_current_acc:Object(bt.a)({code:tc,name:"Partner Current Account",nameAr:"\u062d\u0633\u0627\u0628 \u062c\u0627\u0631\u064a - \u0627\u0644\u0634\u0631\u064a\u0643"},_i.OTHER_CURRENT_LIABILITIES),accrued_expenses:Object(bt.a)({code:ec,name:"Accrued Expenses",nameAr:"\u0627\u0644\u0646\u0641\u0642\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062d\u0642\u0629"},_i.OTHER_CURRENT_LIABILITIES),cost_of_sales:Object(bt.a)({code:nc,name:"Cost Of Sales",nameAr:"\u062a\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"},_i.COST_OF_SALES),purchase_nonstock:Object(bt.a)({code:ac,name:"Purchase",nameAr:"\u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a"},_i.COST_OF_SALES),sales_discount:Object(bt.a)({code:rc,name:"Sales Discount",nameAr:"\u062e\u0635\u0645 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"},_i.COST_OF_SALES),sales_returns:Object(bt.a)({code:oc,name:"Sales Returns",nameAr:"\u0645\u0631\u062f\u0648\u062f\u0627\u062a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"},_i.COST_OF_SALES),cost_of_sales_other:Object(bt.a)({code:ic,name:"Other Cost Of sales",nameAr:"\u062a\u0643\u0627\u0644\u064a\u0641 \u0645\u0628\u064a\u0639\u0627\u062a \u0627\u062e\u0631\u0649"},_i.COST_OF_SALES),expenses_legal:Object(bt.a)({code:cc,name:"Legal Expenses",nameAr:"\u0645\u0635\u0627\u0631\u064a\u0641 \u0642\u0627\u0646\u0648\u0646\u064a\u0629"},_i.EXPENCES),expenses_salary:Object(bt.a)({code:sc,name:"Salary Expenses",nameAr:"\u0645\u0635\u0627\u0631\u064a\u0641 \u0627\u0644\u0631\u0648\u0627\u062a\u0628"},_i.EXPENCES),expenses_rent:Object(bt.a)({code:lc,name:"Rent Expenses",nameAr:"\u0645\u0635\u0627\u0631\u064a\u0641 \u0627\u0644\u0625\u064a\u062c\u0627\u0631"},_i.EXPENCES),expenses_other:Object(bt.a)({code:dc,name:"Other Expenses",nameAr:"\u0645\u0635\u0627\u0631\u064a\u0641 \u0627\u062e\u0631\u0649"},_i.EXPENCES),other_current_assets:Object(bt.a)({code:uc,name:"Prepaid Expenses",nameAr:"\u0645\u0635\u0627\u0631\u064a\u0641 \u0645\u0642\u062f\u0645\u0629"},_i.OTHER_CURRENT_ASSETS),fixed_assets:Object(bt.a)({code:mc,name:"Property and Equipment",nameAr:"\u0645\u0645\u062a\u0644\u0643\u0627\u062a \u0648\u0645\u0639\u062f\u0627\u062a"},_i.FIXED_ASSETS),accumulated_depreciation:Object(bt.a)({code:jc,name:"Accum. Depr. - Property and Equipment",nameAr:"\u0645\u062c\u0645\u0639 \u0627\u0647\u0644\u0627\u0643 \u0627\u0644\u0645\u0645\u062a\u0644\u0643\u0627\u062a \u0627\u0644\u0645\u0639\u062f\u0627\u062a"},_i.ACCUMULATED_DEPRECIATION),long_term_liabilities:Object(bt.a)({code:bc,name:"Long Term Liabilities",nameAr:"\u0642\u0631\u0648\u0636 \u0637\u0648\u064a\u0644\u0629 \u0627\u0644\u0627\u062c\u0644"},_i.LONG_TERM_LIABILITIES),retained_earnings:Object(bt.a)({code:pc,name:"Retained Earnings",nameAr:"\u0627\u0644\u0623\u0631\u0628\u0627\u062d \u0627\u0644\u0645\u062d\u062a\u062c\u0632\u0629"},_i.EQUITY_RETAINED_EARNINGS),paid_in_capital:Object(bt.a)({code:Oc,name:"Paid In Capital",nameAr:"\u0631\u0623\u0633 \u0627\u0644\u0645\u0627\u0644 \u0627\u0644\u0645\u062f\u0641\u0648\u0639"},_i.EQUITY_DOESNT_CLOSE),dividends_paid:Object(bt.a)({code:vc,name:"Dividends Paid",nameAr:"\u0627\u0644\u0623\u0631\u0628\u0627\u062d \u0627\u0644\u0645\u0648\u0632\u0639\u0629"},_i.EQUITY_GETS_CLOSED)},hc=(Object(bt.a)({},fc.cash),Object(bt.a)({},fc.card),Object(bt.a)({},fc.bank),Object(bt.a)({},fc.accounts_receivable),Object(bt.a)({},fc.inventory),Object(bt.a)({},fc.accounts_payable),Object(bt.a)({},fc.sales_income),Object(bt.a)({},fc.sales_discount),Object(bt.a)({},fc.sales_returns),Object(bt.a)({},fc.sales_income_other),Object(bt.a)({},fc.accrued_expenses),Object(bt.a)({},fc.partner_current_acc),Object(bt.a)({},fc.cost_of_sales),Object(bt.a)({},fc.purchase_nonstock),Object(bt.a)({},fc.purchase_discount),Object(bt.a)({},fc.purchase_returns),Object(bt.a)({},fc.cost_of_sales_other),Object(bt.a)({},fc.expenses_legal),Object(bt.a)({},fc.expenses_salary),Object(bt.a)({},fc.expenses_rent),Object(bt.a)({},fc.expenses_other),Object(bt.a)({},fc.other_current_assets),Object(bt.a)({},fc.fixed_assets),Object(bt.a)({},fc.accumulated_depreciation),Object(bt.a)({},fc.long_term_liabilities),Object(bt.a)({},fc.retained_earnings),Object(bt.a)({},fc.paid_in_capital),Object(bt.a)({},fc.dividends_paid),Object(bt.a)({},fc.cash),Object(bt.a)({},fc.card),Object(bt.a)({},fc.bank),Object(bt.a)({},fc.partner_current_acc),Object(bt.a)({},fc.accounts_receivable),Object(bt.a)({},fc.sales_income),Object(bt.a)({},fc.sales_discount),Object(bt.a)({},fc.sales_returns),Object(bt.a)({},fc.sales_income_other),Object(bt.a)({},fc.accounts_payable),Object(bt.a)({},fc.cost_of_sales),Object(bt.a)({},fc.purchase_nonstock),Object(bt.a)({},fc.purchase_discount),Object(bt.a)({},fc.purchase_returns),Object(bt.a)({},fc.cost_of_sales_other),Object(bt.a)({},fc.expenses_legal),Object(bt.a)({},fc.expenses_salary),Object(bt.a)({},fc.expenses_rent),Object(bt.a)({},fc.expenses_other),Object(bt.a)({},fc.inventory),Object(bt.a)({},fc.accrued_expenses),Object(bt.a)({},fc.other_current_assets),Object(bt.a)({},fc.fixed_assets),Object(bt.a)({},fc.accumulated_depreciation),Object(bt.a)({},fc.long_term_liabilities),Object(bt.a)({},fc.retained_earnings),Object(bt.a)({},fc.paid_in_capital),Object(bt.a)({},fc.dividends_paid),navigator.userAgent.toLowerCase().indexOf(" electron/"),function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=e.map((function(e){return{text:a?e.nameAr:e.name,id:e._id?e._id:e.id,color:e.color}})),o=[{fieldName:t,title:n,instances:r}];return o}),yc=function(e,t){return!(null!==e.req&&!t.includes(e.req))},xc=function(e){var t=e.event,n=e.rrule,a=e.actionslist,r=e.isRTL;if(n){var o,i,c,s,l=t.startDate.getHours(),d=t.startDate.getMinutes(),u=t.endDate.getHours(),m=t.endDate.getMinutes(),j=n.all,b=JSON.parse(t.items),p=(null===t||void 0===t?void 0:t.title)&&(null===t||void 0===t||null===(o=t.title)||void 0===o||null===(i=o.trim())||void 0===i?void 0:i.length)>0?null===t||void 0===t?void 0:t.title:r?null===(c=b[0])||void 0===c?void 0:c.nameAr:null===(s=b[0])||void 0===s?void 0:s.name;return j.map((function(e){var n=e.getFullYear(),r=e.getMonth(),o=e.getDate(),i=new Date(n,r,o,l,d),c=new Date(n,r,o,u,m,0,0),s=a.map((function(e){var t=e.timeunit,n=e.timerelate,a=e.qty,r=gc({startDate:i,endDate:c,timeunit:t,timerelate:n,qty:a});return Object(bt.a)(Object(bt.a)({},e),{},{sendtime:r})}));return Object(bt.a)(Object(bt.a)({},t),{},{title:p,actions:JSON.stringify(s),startDate:i,endDate:c})}))}return[t]},gc=function(e){var t=e.startDate,n=e.endDate,a=e.timeunit,r=e.timerelate,o=e.qty,i="minute"===a?6e4:"hour"===a?36e5:"day"===a?864e5:0,c="bstart"!==r?i*o:-i*o,s=new Date("bstart"===r||"astart"===r?t:n).getTime()+c;return new Date(s)},wc=n(46),Cc=n(775),Sc=n(15),Ic=n(280),Nc=function(e){return[{id:1,value:"none",name:e?"\u0628\u062f\u0648\u0646 \u062a\u062c\u0645\u064a\u0639":"No Grouping"},{id:2,value:"employee",name:e?"\u062a\u062c\u0645\u064a\u0639 \u0628\u062d\u0633\u0628 \u0627\u0644\u0645\u0648\u0638\u0641":"Group By Employee"},{id:3,value:"department",name:e?"\u062a\u062c\u0645\u064a\u0639 \u0628\u062d\u0633\u0628 \u0627\u0644\u0642\u0633\u0645":"Group By Department"},{id:4,value:"service",name:e?"\u062a\u062c\u0645\u064a\u0639 \u0628\u062d\u0633\u0628 \u0627\u0644\u062e\u062f\u0645\u0629":"Group By Service"},{id:5,value:"customer",name:e?"\u062a\u062c\u0645\u064a\u0639 \u0628\u062d\u0633\u0628 \u0627\u0644\u0639\u0645\u064a\u0644":"Group By Customer"},{id:6,value:"category",name:e?"\u062a\u062c\u0645\u064a\u0639 \u0628\u062d\u0633\u0628 \u0627\u0644\u062a\u0635\u0646\u064a\u0641":"Group By Category"},{id:7,value:"status",name:e?"\u062a\u062c\u0645\u064a\u0639 \u0628\u062d\u0633\u0628 \u0627\u0644\u062d\u0627\u0644\u0629":"Group By status"},{id:8,value:"taskId",name:e?"\u062a\u062c\u0645\u064a\u0639 \u0628\u062d\u0633\u0628 \u0627\u0644\u0645\u0647\u0645\u0629":"Group By Operation"},{id:9,value:"opType",name:e?"\u062a\u062c\u0645\u064a\u0639 \u0628\u062d\u0633\u0628 \u0627\u0644\u0648\u062b\u064a\u0642\u0629":"Group By Document"}]},Ac=[{id:1,value:"none",name:"All",nameAr:"\u0627\u0644\u0643\u0644"},{id:2,value:tr.event,name:"Appointment",nameAr:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f"},{id:3,value:tr.salesInvoice,name:"Invoice",nameAr:"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631"},{id:4,value:tr.customerReceipt,name:"Receipt",nameAr:"\u0627\u0644\u0645\u0642\u0628\u0648\u0636"},{id:6,value:tr.expenses,name:"Expenses",nameAr:"\u0627\u0644\u0645\u0635\u0631\u0648\u0641"}],Tc=n(359);function $c(e){var t=e.name,n=e.username,a=e.size,r=void 0===a?40:a,o=e.bc,i=void 0===o?"#ddd":o,c=e.bg,s=t||n,l=c||(s?pi("".concat(s,"Jadwal")):""),d=s?s.split(" "):"",u="";return u=d.length>1?s?"".concat(d[0].substring(0,1).toUpperCase()).concat(d[1].substring(0,1).toUpperCase()):"":s?s.substring(0,2).toUpperCase():"",Object(Fr.jsx)(Tc.a,{title:s||"",children:Object(Fr.jsx)(ua.a,{border:1,display:"flex",alignItems:"center",justifyContent:"center",style:{width:r,height:r,borderRadius:r/2,backgroundColor:l,borderColor:i},children:Object(Fr.jsx)(la.a,{style:{color:"#eee",fontFamily:"sans-serif",fontSize:r/2-r/8},children:u})})})}function kc(e){var t=e.name,n=e.username,a=e.size,r=void 0===a?40:a,o=e.bc,i=void 0===o?"#ddd":o,c=e.bg,s=t||n,l=c||(s?pi(s):"");return Object(Fr.jsx)(Tc.a,{title:s||"",children:Object(Fr.jsx)(ua.a,{border:1,display:"flex",alignItems:"center",justifyContent:"center",style:{width:r,height:r,borderRadius:r/2,backgroundColor:l,borderColor:i}})})}var Dc=function(e){var t=e.value;return Object(Fr.jsx)(ua.a,{style:{width:100,height:20,backgroundColor:t}})},Rc=function(e){var t,n=e.value,a=e.isRTL;if(n){var r=JSON.parse(n);t=Object.keys(r).filter((function(e){return!0===r[e]}))}return t?Object(Fr.jsx)(ua.a,{children:t.map((function(e){var t,n;return Object(Fr.jsxs)("span",{style:{marginRight:2,marginLeft:2},children:[a?null===(t=lr[e])||void 0===t?void 0:t.nameAr:null===(n=lr[e])||void 0===n?void 0:n.name," "]},e)}))}):(ua.a,Object(Fr.jsx)(ua.a,{}))},Ec=function(e){var t=e.row,n=t.name,a=t.color;return Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(kc,{name:n,bg:a})})},Lc=function(e){var t=e.row,n=t.name,a=t.username,r=t.color;return Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)($c,{username:a,name:n,bg:r})})},_c=function(e){var t=e.value,n=Gn("store").lang;return Object(Fr.jsx)(la.a,{style:{color:t?"red":"green"},children:t?"ar"===n?"\u0645\u0639\u0637\u0644":"Inactive":"ar"===n?"\u0641\u0639\u0627\u0644":"Active"})},Pc=function(e){return e?new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""},qc=function(e){return e?new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):""},Bc=function(e){return e?new Date(e).toLocaleString("en-QA",{hour:"2-digit",minute:"2-digit",hour12:!1}):""},Wc=function(e,t){return e?new Date(e).toLocaleString(t?"ar-QA":"en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):""},zc=function(e,t){return e?new Date(e).toLocaleString(t?"ar-QA":"en-GB",{day:"numeric",month:"long",year:"numeric"}):""},Vc=function(e,t){return e?new Date(e).toLocaleString(t?"ar-QA":"en-GB",{weekday:"short",day:"numeric",month:"long",year:"numeric"}):""},Fc=function(e,t){return e?new Date(e).toLocaleString(t?"ar-QA":"en-GB",{day:"numeric",month:"long"}):""},Mc=function(e,t){return e?new Date(e).toLocaleString(t?"ar-QA":"en-GB",{month:"long",year:"numeric"}):""},Hc=function(e){var t=e.row.time;return Object(Fr.jsx)("div",{children:Pc(t)})},Uc=function(e){var t=e.row,n=t.time,a=t.startDate,r=80===t.opType?a:n;return Object(Fr.jsx)("div",{children:Pc(r)})},Qc=function(e){var t=e.value;return Object(Fr.jsx)("div",{children:Pc(t)})},Gc=function(e){var t=e.row,n=Bc(t.startDate),a=Bc(t.endDate);return Object(Fr.jsxs)("div",{children:[n," ",a]})},Kc=function(e){var t=e.value;return Object(Fr.jsx)("div",{style:{fontSize:12},children:t})},Yc=function(e){var t=e.row.startDate;return Object(Fr.jsx)("div",{children:Bc(t)})},Jc=function(e){var t=e.value,n=Gn("store").lang,a=or.filter((function(e){return e.id===t}));return a&&a.length>0?Object(Fr.jsx)("span",{style:{color:ir[t]},children:"ar"===n?a[0].nameAr:a[0].name}):Object(Fr.jsx)("div",{})},Xc=function(e){var t=Gn("store").lang,n=or.filter((function(t){return t.id===e}));return n&&n.length>0?"ar"===t?n[0].nameAr:n[0].name:""},Zc=function(e){return e&&!isNaN(e)?e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):"0.00"},es=function(e){return e&&!isNaN(e)?e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):""},ts=function(e){return e?e.toFixed(0).replace(/\d(?=(\d{3})+\.)/g,"$&,"):"0"},ns=function(e){var t=e.row,n=t.total-t.discount;return Object(Fr.jsx)("div",{style:{color:"#403795"},children:Zc(n)})},as=function(e){var t=e.value;return Object(Fr.jsx)("span",{style:{color:"#403795"},children:Zc(t)})},rs=function(e){var t=e.value;return Object(Fr.jsx)("span",{style:{color:"#403795"},children:es(t)})},os=function(e){var t=e.row,n=(t.totalinvoiced?t.totalinvoiced:0)-(t.totalpaid?t.totalpaid:0);return n?Object(Fr.jsx)("span",{style:{color:Sc.a.red[400]},children:es(n)}):Object(Fr.jsx)("span",{})},is=function(e){var t=e.row,n=(t.totalinvoiced?t.totalinvoiced:0)-(t.toatlExpenses?t.toatlExpenses:0)-(t.totalDiscount?t.totalDiscount:0);return n?Object(Fr.jsx)("span",{style:{color:Sc.a.green[800]},children:es(n)}):Object(Fr.jsx)("span",{})},cs=function(e){var t=e.row,n=e.editEvent,a=10===t.status?2:10,r=t.id,o={id:r,status:a};return Object(Fr.jsx)("span",{children:Object(Fr.jsx)(Ic.a,{style:{padding:5,color:Sc.a.blue[500]},checked:10===t.status,onChange:function(){var e=Object(ea.a)(Zn.a.mark((function e(a){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:o,optimisticResponse:{__typename:"updateEvent",updateEvent:Object(bt.a)(Object(bt.a)({__typename:"Operation",id:r},t),o)}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),color:"primary"})})},ss=function(e){var t=e.value,n=t/e.row.amount*100;return Object(Fr.jsxs)(ua.a,{style:{width:100,height:15,backgroundColor:"#ddd"},children:[Object(Fr.jsx)(ua.a,{style:{width:n,height:15,backgroundColor:Object(er.c)(Sc.a.green[500],.5)}}),Object(Fr.jsx)(ua.a,{style:{position:"relative",bottom:17,right:30},children:Object(Fr.jsx)(la.a,{style:{direction:"ltr",fontWeight:"bold"},variant:"caption",children:t?Zc(t):""})})]})},ls=function(e){var t=e.value,n=e.tasks.filter((function(e){return e.id===t}));return n&&n.length>0?Object(Fr.jsx)("span",{style:{color:"#403795"},children:n[0].title}):Object(Fr.jsx)("span",{style:{color:"#403795"}})},ds=function(e){var t=e.row,n=e.value,a=e.setItem,r=e.setOpenItem;return Object(Fr.jsx)(ua.a,{onClick:function(){a(t),r(!0)},style:{cursor:"pointer",borderRadius:5},children:Object(Fr.jsx)(la.a,{style:{fontSize:13,textAlign:"start",color:Sc.a.deepPurple[500]},children:n})})},us=function(e){var t=e.value,n="ar"===Gn("store").lang;return Object(Fr.jsx)("span",{style:{color:"#403795"},children:Ci({id:t,isRTL:n})})},ms=function(e){var t=e.value;return Object(Fr.jsxs)(ua.a,{style:{width:100,height:15,backgroundColor:"#ddd"},children:[Object(Fr.jsx)(ua.a,{style:{width:t,height:15,backgroundColor:Object(er.c)(Sc.a.blue[500],.5)}}),Object(Fr.jsx)(ua.a,{style:{position:"relative",bottom:17,right:40},children:Object(Fr.jsx)(la.a,{style:{direction:"ltr",fontWeight:"bold"},variant:"caption",children:t?"".concat(parseInt(t),"%"):""})})]})},js=function(e){var t,n,a=e.value,r="ar"===Gn("store").lang?null===nr||void 0===nr||null===(t=nr[a])||void 0===t?void 0:t.nameAr:null===nr||void 0===nr||null===(n=nr[a])||void 0===n?void 0:n.name;return Object(Fr.jsx)("span",{children:r})},bs=function(e){var t=e.row,n=1===t.type?t.phone:2===t.type?t.email:"Notification";return Object(Fr.jsx)("span",{children:n})},ps=function(e){var t=null===e||void 0===e?void 0:e.credit,n=null===e||void 0===e?void 0:e.debit,a=null===e||void 0===e?void 0:e.accType;return a===Si&&n>0?n:a===Si&&t>0?-t:a===Ii&&t>0?t:a===Ii&&n>0?-n:0},Os=function(e,t,n){var a=t.filter((function(t){return t.code===e.value}));return Object(Fr.jsx)("div",{style:{fontSize:14},children:a&&a.length>0?n?a[0].nameAr:a[0].name:""})},vs=function(e,t,n){var a,r,o,i,c=(null===e||void 0===e||null===(a=e.row)||void 0===a?void 0:a.customerId)&&1100===(null===e||void 0===e||null===(r=e.row)||void 0===r?void 0:r.creditAcc)?n?null===e||void 0===e||null===(o=e.row)||void 0===o?void 0:o.customerNameAr:null===e||void 0===e||null===(i=e.row)||void 0===i?void 0:i.customerName:void 0;if(c)return Object(Fr.jsx)("div",{style:{fontSize:14},children:c});var s=t.filter((function(t){return t.code===e.value}));return Object(Fr.jsx)("div",{style:{fontSize:14},children:s&&s.length>0?n?s[0].nameAr:s[0].name:""})},fs=function(e){var t=e.time,n=e.view,a=e.isRTL,r=e.endDate;if("Day"===n){var o=new Date(t);o.setHours(0,0,0,0);var i=new Date(t);return i.setHours(23,59,59,999),{start:o,end:i,period:function(e,t){return e?new Date(e).toLocaleString(t?"ar-QA":"en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):""}(t,a)}}if("3Days"===n){var c=new Date(t);c.setHours(0,0,0,0);var s=new Date(t);s.setDate(s.getDate()+3),s.setHours(23,59,59,999);var l=c.getFullYear();return{start:c,end:s,period:"".concat(Fc(c,a)," - ").concat(Fc(s,a)," ").concat(l)}}if("Week"===n){var d=new Date(t),u=d.getDay(),m=6===u?0:u+1,j=5===u?0:6===u?6:5-u;d.setDate(d.getDate()-m),d.setHours(0,0,0,0);var b=new Date(t);b.setDate(b.getDate()+j),b.setHours(23,59,59,999);var p=d.getFullYear();return{start:d,end:b,period:"".concat(Fc(d,a)," - ").concat(Fc(b,a)," ").concat(p)}}if("Month"===n){var O=new Date(t),v=O.getMonth(),f=O.getFullYear(),h=new Date(f,v,1,0,0,0,0);return{start:h,end:new Date(f,v+1,0,23,59,59,999),period:Mc(h,a)}}if("Year"===n){var y=new Date(t).getFullYear();return{start:new Date(y,0,1,0,0,0,0),end:new Date(y,11,31,23,59,59,999),period:"".concat(a?"\u0633\u0646\u0629":"Year"," ").concat(y)}}if("Custom"===n){var x=new Date(t);x.setHours(0,0,0,0);var g=r?new Date(r):new Date;return g.setHours(23,59,59,999),{start:x,end:g,period:zc(t,a),periodEnd:zc(r,a)}}},hs=function(){var e=(new Date).getFullYear();return{startPeriod:new Date(e-1,0,1,0,0,0,0),endPeriod:new Date(e+1,11,31,23,59,59,999)}},ys=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start",a=[];if("mid"===n){var r=new Date,o=Math.ceil(e/2);r.setDate(r.getDate()-o);for(var i=0;i<e;i++)r.setDate(r.getDate()+1),a.push(Fc(new Date(r),t));return a}var c=new Date;c.setDate(c.getDate()-e);for(var s=0;s<e;s++)c.setDate(c.getDate()+1),a.push(Fc(new Date(c),t));return a},xs=function(e,t){var n=[],a=new Date;a.setMonth(a.getMonth()-e);for(var r=0;r<e;r++)a.setMonth(a.getMonth()+1),n.push(Mc(new Date(a),t));return n},gs=function(e){if(e&&e.length>0){var t=e[0],n=e.map((function(e){return{startDate:e.startDate,endDate:e.endDate}}));return JSON.stringify({event:t,times:n})}return JSON.stringify([])},ws=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a,r,o,i,c,s,l,d,u,m,j,b,p,O,v,f,h,y,x,g,w,C,S,I,N,A;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.added,a=t.changed,r=t.deleted,o=t.addEvent,i=t.editEvent,c=t.removeEvent,s=t.isRTL,e.prev=1,!n){e.next=12;break}if(l=n.title,d=n.startDate,u=n.endDate,m=n.items,j=n.customer,b=n.department,p=n.employee,O=Object(wc.a)(n,["title","startDate","endDate","items","customer","department","employee"]),v=hs(),f=v.startPeriod,h=v.endPeriod,!(d<f||d>h||u<f||u>h||d>u||d.getDate()!==u.getDate())){e.next=9;break}window.alert(s?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change"),e.next=12;break;case 9:return y=Object(bt.a)({title:l,startDate:d,endDate:u,items:m,customer:j?{customerId:j._id,customerName:j.name,customerNameAr:j.nameAr,customerPhone:j.phone}:void 0,department:b?{departmentId:b._id,departmentName:b.name,departmentNameAr:b.nameAr,departmentColor:b.color}:void 0,employee:p?{employeeId:p._id,employeeName:p.name,employeeNameAr:p.nameAr,employeeColor:p.color,employeePhone:p.phone}:void 0},O),e.next=12,o({variables:y});case 12:if(!a){e.next=19;break}return x=Object.keys(a)[0],g=a[x],w=g.items,C=g.customer,S=g.department,I=g.employee,N=Object(wc.a)(g,["items","customer","department","employee"]),A=Object(bt.a)({id:Number(x),items:w,employee:I?{employeeId:I._id,employeeName:I.name,employeeNameAr:I.nameAr,employeeColor:I.color,employeePhone:I.phone}:void 0,department:S?{departmentId:S._id,departmentName:S.name,departmentNameAr:S.nameAr,departmentColor:S.color}:void 0,customer:C?{customerId:C._id,customerName:C.name,customerNameAr:C.nameAr,customerPhone:C.phone}:void 0},N),e.next=19,i({variables:A,optimisticResponse:{__typename:"updateEvent",updateEvent:Object(bt.a)({__typename:"Operation",id:x},A)}});case 19:if(void 0===r){e.next=22;break}return e.next=22,c({variables:{id:Number(r)}});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(t){return e.apply(this,arguments)}}(),Cs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return e.toLocaleString(t,{hour:"2-digit",minute:"2-digit",hour12:!0})},Ss=function(e){return e._id},Is=function(e){var t=e.isRTL,n=e.words;return{no:{id:1,ref:"no",name:"no",title:n.no},startDate:{id:1.1,ref:"date",name:"startDate",title:n.time},start:{id:1.2,ref:"date",name:"start",title:n.start},end:{id:1.3,ref:"date",name:"end",title:n.end},tasktype:{id:1.4,ref:"tasktype",name:"tasktype",title:n.type},time:{id:2,ref:"time",name:"time",title:n.timedate},opTime:{id:3,ref:"opTime",name:"opTime",title:n.time},docNo:{id:4,ref:"docNo",name:"docNo",title:n.no},title:{id:4,ref:"title",name:"title",title:n.name},opDocNo:{id:5,ref:"opDocNo",name:"opDocNo",title:n.no},employee:{id:6,ref:"employee",name:t?"employeeNameAr":"employeeName",title:n.employee},service:{id:7,ref:"service",name:t?"itemNameAr":"itemName",title:n.service},department:{id:8,ref:"department",name:t?"departmentNameAr":"departmentName",title:n.department},category:{id:9,ref:"category",name:t?"categoryNameAr":"categoryName",title:n.category},customer:{id:10,ref:"customer",name:t?"customerNameAr":"customerName",title:n.customer},supplier:{id:10,ref:"supplier",name:t?"supplierNameAr":"supplierName",title:n.supplier},status:{id:11,ref:"status",name:"status",title:n.status},amount:{id:12,ref:"amount",name:"amount",title:n.amount},acc:{id:13,ref:"acc",name:t?"accNameAr":"accName",title:n.account},opAcc:{id:14,ref:"opAcc",name:t?"opaccNameAr":"opaccName",title:t?"\u0627\u0644\u062d\u0633\u0627\u0628 \u0627\u0644\u0645\u0642\u0627\u0628\u0644":"Other side Account"},debit:{id:15,ref:"debit",name:"debit",title:n.debit},credit:{id:16,ref:"credit",name:"credit",title:n.credit},accType:{id:17,ref:"accType",name:"accType",title:"accType"},kaidType:{id:18,ref:"kaidType",name:"kaidType",title:"kaidType"},opType:{id:19,ref:"opType",name:"opType",title:t?"\u0627\u0644\u0639\u0645\u0644\u064a\u0629":"Document"},refNo:{id:20,ref:"refNo",name:"refNo",title:t?"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062c\u0639":"Ref"},eventNo:{id:21,ref:"eventNo",name:"eventNo",title:t?"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062c\u0639":"Ref"},progress:{id:22,ref:"progress",name:"progress",title:t?"\u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0646\u062c\u0627\u0632":"Progress"},evQty:{id:23,ref:"evQty",name:"evQty",title:t?"\u0639\u062f\u062f \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f":"Appointments"},taskId:{id:24,ref:"taskId",name:"taskId",title:t?"\u0627\u0644\u0645\u0647\u0645\u0629":"Task"},id:{id:25,ref:"id",name:"id",title:t?"\u0627\u0644\u0631\u0642\u0645":"No"},fromto:{id:25,ref:"fromto",name:"fromto",title:t?"\u0627\u0644\u0648\u0642\u062a":"Time"},done:{id:25,ref:"done",name:"done",title:t?"\u0627\u0644\u0627\u0646\u062c\u0627\u0632":"Done"},invo:{id:25,ref:"done",name:"done",title:t?"\u0627\u0644\u0627\u0646\u062c\u0627\u0632":"Done"},totalinvoiced:{id:26,ref:"totalinvoiced",name:"totalinvoiced",title:t?"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631":"Invoices"},totalpaid:{id:27,ref:"totalpaid",name:"totalpaid",title:t?"\u0627\u0644\u0645\u0642\u0628\u0648\u0636\u0627\u062a":"Receipts"},toatlExpenses:{id:28,ref:"toatlExpenses",name:"toatlExpenses",title:t?"\u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641":"Expenses"},desc:{id:29,ref:"desc",name:"desc",title:t?"\u0627\u0644\u0628\u064a\u0627\u0646":"Description"},item:{id:30,ref:"item",name:t?"itemNameAr":"itemName",title:n.service},amountdebit:{id:31,ref:"debit",name:"debit",title:t?"\u0645\u062f\u064a\u0646":"Debit"},amountcredit:{id:32,ref:"credit",name:"credit",title:t?"\u062f\u0627\u0626\u0646":"Credit"},createdAt:{id:33,ref:"createdAt",name:"createdAt",title:t?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u0634\u0627\u0621":"Created Date"}}},Ns=ja.cal,As=ja.pos,Ts=Gn("store"),$s=null===Ts||void 0===Ts?void 0:Ts.user,ks=function(){return ga($s,Ns)},Ds=function(){return ga($s,As)},Rs={add:function(e){var t=e.onExecute;return ks()||Ds()?Object(Fr.jsx)("div",{style:{textAlign:"center"},children:Object(Fr.jsx)(ua.a,{m:1,children:Object(Fr.jsx)(bi.a,{color:"primary",onClick:t,title:"Create new row",children:Object(Fr.jsx)(li.a,{style:{fontSize:26}})})})}):Object(Fr.jsx)("div",{})},edit:function(e){var t=e.onExecute;return ks()||Ds()?Object(Fr.jsx)(Jr.a,{style:{padding:5,marginTop:3,marginBottom:3},onClick:t,title:"Edit row",children:Object(Fr.jsx)(ui.a,{style:{fontSize:22,color:"#729aaf"}})}):Object(Fr.jsx)("div",{})},delete:function(e){var t=e.onExecute,n=Gn("store").lang;return ks()||Ds()?Object(Fr.jsx)(Jr.a,{onClick:function(){window.confirm("ar"===n?"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u0645\u062f\u062e\u0644 \u061f":"Are you sure you want to delete this row?")&&t()},title:"Delete row",style:{padding:5},children:Object(Fr.jsx)(ji.a,{style:{fontSize:22,color:"#a76f9a"}})}):Object(Fr.jsx)("div",{})}},Es=function(e){var t=e.id,n=e.onExecute,a=Rs[t];return Object(Fr.jsx)(a,{onExecute:n})},Ls=n(155),_s=n.n(Ls),Ps={saveButton:function(e){var t=e.onExecute,n=Gn("store").lang;return ks()?Object(Fr.jsx)("div",{style:{textAlign:"center"},children:Object(Fr.jsx)(ua.a,{m:1,children:Object(Fr.jsx)(oa.a,{style:{width:85,height:36},variant:"contained",onClick:t,color:"primary",children:Object(Fr.jsx)(la.a,{children:"ar"===n?"\u062d\u0641\u0638":"Save"})})})}):Object(Fr.jsx)("div",{})},deleteButton:function(e){var t=e.onExecute,n=Gn("store").lang;return ks()?Object(Fr.jsx)(Jr.a,{onClick:function(){window.confirm("ar"===n?"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u0645\u0648\u0639\u062f \u061f":"Are you sure you want to delete this row?")&&t()},title:"Delete row",children:Object(Fr.jsx)(_s.a,{})}):Object(Fr.jsx)("div",{})},cancelButton:function(e){e.onExecute;return Object(Fr.jsx)("div",{})}},qs=function(e){var t=e.id,n=e.onExecute,a=Ps[t];return Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(a,{onExecute:n})})};var Bs=n(988);function Ws(e){var t=e.type,n=e.msg,a=e.top,r=e.right;return Object(Fr.jsx)(Bs.a,{style:{position:"absolute",bottom:a?void 0:0,top:a?40:void 0,left:r?void 0:0,right:r?0:void 0,width:"100%",alignItems:"center",justifyContent:"center"},severity:t,children:n})}function zs(e){return new Promise((function(t){return setTimeout(t,1e3*e)}))}var Vs=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a,r,o,i;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setAlrt,a=t.msg,r=t.type,o=t.s,i=void 0===o?2:o,n({show:!0,msg:a,type:r}),e.next=4,zs(i);case 4:n({show:!1,msg:"",type:"info"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fs=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs({setAlrt:t,msg:n?"\u062a\u0645\u062a \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d":"item added successfuly",type:"success",s:.25});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ms=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vs({setAlrt:t,msg:n?"\u062e\u0637\u0623 - \u0647\u0630\u0627 \u0627\u0644\u0645\u062f\u062e\u0644 \u0645\u0648\u062c\u0648\u062f \u0645\u0646 \u0642\u0628\u0644":"Error, Item already exist",type:"error"});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Hs=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs({setAlrt:t,msg:n?"\u062e\u0637\u0623 - \u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0639\u0645\u0644\u064a\u0629":"Error on operation",type:"error",s:2});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Us=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs({setAlrt:t,msg:n,type:"error",s:2});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qs=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs({setAlrt:t,msg:n?"\u062e\u0637\u0623 - \u0644\u0627 \u064a\u0645\u0643\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u062d\u0633\u0627\u0628":"Error on operation",type:"error",s:2});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Gs=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs({setAlrt:t,msg:n?"\u0644\u0627 \u064a\u0645\u0643\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u062f\u062e\u0644 - \u0644\u062f\u064a\u0647 \u0627\u0631\u062a\u0628\u0627\u0637\u0627\u062a":"Can't Delete this Item, it has related",type:"error",s:2});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ks=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs({setAlrt:t,msg:n,type:"error",s:2});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ys=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs({setAlrt:t,msg:n,type:"success",s:2});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Js=function(e,t){var n,a;return(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.ok)?JSON.parse(e.data[t].data):null},Xs=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,Zs=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c().required()}),el={resolver:Object(_a.a)(Zs)},tl=La.b().shape({username:La.c().required().min(3).max(100),password:La.c().required().min(3).max(100)}),nl={resolver:Object(_a.a)(tl)},al=La.b().shape({username:La.c().required().min(3).max(100),password:La.c().required().min(3).max(100)}),rl={resolver:Object(_a.a)(al)},ol=La.b().shape({username:La.c()}),il={resolver:Object(_a.a)(ol)},cl=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c().required().min(3).max(100)}),sl={resolver:Object(_a.a)(cl)},ll=La.b().shape({password:La.c().required().min(3).max(100),newPassword:La.c().required().min(3).max(100),newPassword2:La.c().required().min(3).max(100)}),dl={resolver:Object(_a.a)(ll)},ul=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c().required().min(3).max(100),color:La.c()}),ml={resolver:Object(_a.a)(ul)},jl=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c().required(),phone:La.c().matches(Xs,"Phone number is not valid").required(),email:La.c().email()}),bl={resolver:Object(_a.a)(jl)},pl=La.b().shape({barcode:La.c(),name:La.c().required().min(3).max(100),nameAr:La.c().required(),price:La.a().min(0).required()}),Ol={resolver:Object(_a.a)(pl)},vl=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c().required().min(3).max(100),phone:La.c()}),fl={resolver:Object(_a.a)(vl)},hl=La.b().shape({amount:La.a().min(0).required().positive(),disc:La.c()}),yl={resolver:Object(_a.a)(hl)},xl=La.b().shape({customer:La.c().required(),phone:La.c().matches(Xs,"Phone number is not valid").required()}),gl={resolver:Object(_a.a)(xl)},wl=n(777);var Cl=n(615);function Sl(e){var t=e.open,n=e.classes,a=e.onClose,r=e.children,o=e.maxWidth;return Object(Fr.jsx)(Cl.a,{open:t,onClose:a,maxWidth:o,classes:{paper:n.popup},children:r})}var Il=n(616);function Nl(e){var t=e.register,n=e.errors,a=e.name,r=e.label,o=e.row,i=e.required,c=void 0!==i&&i,s=e.autoFocus,l=void 0!==s&&s,d=e.newtext,u=e.margin,m=Object(wc.a)(e,["register","errors","name","label","row","required","autoFocus","newtext","margin"]);return Object(Fr.jsx)(da.a,Object(bt.a)({autoFocus:l,autoComplete:"off",required:c,name:a,fullWidth:!0,defaultValue:(null===o||void 0===o?void 0:o[a])||d||"",label:r,error:!!n[a],inputRef:t,variant:"outlined",style:{margin:u||void 0},margin:"dense"},m))}var Al=n(584),Tl=n(446),$l=n(360);var kl=n(992);function Dl(e){var t,n=e.item,a=e.col,r=e.isRTL,o=e.day,i=e.basename,c=e.showphone,s=n.color,l=n.daysoff,d=l?JSON.parse(l):null,u=!(!d||!o)&&d[o],m=(null===n||void 0===n?void 0:n.phone)?null===n||void 0===n?void 0:n.phone:null;return t=i?r?null===n||void 0===n?void 0:n["".concat(i,"Ar")]:null===n||void 0===n?void 0:n[i]:r?null===n||void 0===n?void 0:n.nameAr:null===n||void 0===n?void 0:n.name,Object(Fr.jsxs)(ua.a,{style:{display:"flex",flex:1,flexDirection:"row",alignItems:"center",direction:r?"rtl":"ltr",backgroundColor:u?"#ffc0cb":void 0,justifyContent:"space-between"},children:[n.color&&!a&&Object(Fr.jsxs)(ua.a,{display:"flex",children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{width:18,height:18,borderRadius:9,backgroundColor:s||"#fff",marginTop:5}}),Object(Fr.jsx)(la.a,{style:s?{marginLeft:10,marginRight:10}:{},variant:r?"subtitle1":"subtitle2",children:t})]}),!s&&Object(Fr.jsx)(la.a,{variant:r?"subtitle1":"subtitle2",children:t}),c&&Object(Fr.jsx)(la.a,{style:{fontSize:11,color:"#999",paddingLeft:10,paddingRight:10},children:m})]})}function Rl(e){if(e>0)return e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}var El=function(e){var t=e.item,n=e.isRTL;return Object(Fr.jsx)(ua.a,{display:"flex",style:{flex:1,direction:n?"rtl":"ltr"},children:Object(Fr.jsxs)(ua.a,{style:{position:"relative",top:7},children:[Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(la.a,{style:{textAlign:n?"right":"left"},children:n?t.nameAr:t.name})}),Object(Fr.jsxs)(ua.a,{display:"flex",flexDirection:"row",style:{marginBottom:5},children:[t.categoryName&&Object(Fr.jsx)(la.a,{style:{color:"#20A4F3",width:100,fontSize:11,paddingRight:10,paddingLeft:10,textAlign:n?"right":"left"},variant:n?"subtitle1":"caption",children:n?t.categoryNameAr:t.categoryName}),t.brandName&&Object(Fr.jsx)(la.a,{style:{marginRight:20,color:"#844257",width:100,fontSize:11},variant:n?"subtitle1":"caption",children:n?t.brandNameAr:t.brandName}),Object(Fr.jsx)(la.a,{style:{color:"#00B77C",width:100,fontSize:11},variant:n?"subtitle1":"caption",children:t.price?Rl(t.price):"-"})]})]})})};var Ll=function(e){var t=e.isRTL;return Object(Fr.jsx)(ua.a,{style:{position:"absolute",top:20,right:t?void 0:40,left:t?40:void 0},display:"flex",flex:"1",justifyContent:"center",alignItems:"center",children:Object(Fr.jsx)(Cc.a,{})})};function _l(e){var t=e.theme,n=e.user,a=(e.network,e.mobile),r=e.logout,o=e.client,i=e.history,c=t.palette.background.default;return Object(Fr.jsx)(ua.a,{style:{display:"flex"},children:n&&Object(Fr.jsx)(Ze.a.Fragment,{children:Object(Fr.jsxs)(ua.a,{display:"flex",alignItems:"center",style:{justifyContent:a?"flex-start":"space-between",flex:1,paddingRight:a?void 0:10,paddingLeft:a?void 0:10,marginTop:a?void 0:10},children:[Object(Fr.jsxs)(ua.a,{display:"flex",children:[Object(Fr.jsx)($c,{username:n.username,name:n.name,size:34}),Object(Fr.jsx)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"center",marginLeft:10,marginRight:10,marginTop:2},children:Object(Fr.jsx)(la.a,{style:{color:c},children:n.name?n.name:n.username})})]}),Object(Fr.jsx)(ua.a,{display:"flex",style:{width:34,height:34,alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:Object(ea.a)(Zn.a.mark((function e(){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(),e.next=3,o.resetStore();case 3:i.push("/");case 4:case"end":return e.stop()}}),e)}))),children:Object(Fr.jsx)(Zo,{size:24,color:"#eee",icon:"logout"})})]})})})}function Pl(e){var t=e.words,n=e.name,a=e.options,r=e.value,o=e.setSelectValue,i=e.setSelectError,c=e.selectError,s=e.refernce,l=e.register,d=e.openAdd,u=e.title,m=e.width,j=void 0===m?294:m,b=e.phone,p=void 0!==b&&b,O=e.nolabel,v=void 0!==O&&O,f=e.noPlus,h=void 0!==f&&f,y=e.ms,x=(e.autoSelect,e.openOnFocus),g=(e.setEmplvalue,e.classes),w=e.basename,C=e.resetRelated,S=e.disabled,I=e.margin,N=e.isRTL;return Object(Fr.jsxs)(ua.a,{style:{display:"flex",flexDirection:"row",alignItems:"center",margin:I||void 0},children:[!v&&Object(Fr.jsx)(ua.a,{style:{display:"flex",width:100,alignItems:"center",height:40,padding:10},children:Object(Fr.jsx)(la.a,{children:u})}),Object(Fr.jsx)(kl.a,{openOnFocus:x,autoSelect:!0,options:a,getOptionLabel:function(e){return(null===e||void 0===e?void 0:e[w])?e[w]:N?null===e||void 0===e?void 0:e.nameAr:(null===e||void 0===e?void 0:e.name)?e.name:""},getOptionSelected:function(e,t){return e._id===t._id},renderOption:function(e){return Object(Fr.jsx)(Dl,{isRTL:N,item:e,basename:w})},value:r,disabled:S,onChange:function(e,t){o(t),i(!1),C&&C(null)},style:{marginInlineStart:y||void 0},classes:g?{input:g.smallFont}:void 0,renderInput:function(e){return Object(Fr.jsx)(da.a,Object(bt.a)(Object(bt.a)({},e),{},{id:n,name:n,label:v?u:void 0,variant:"outlined",error:c,style:{width:j},InputLabelProps:{style:{fontSize:13}},inputRef:function(e){s.current=e,l(e)}}))}}),p&&Object(Fr.jsx)(kl.a,{autoSelect:!0,options:a,openOnFocus:x,getOptionLabel:function(e){return e.phone},getOptionSelected:function(e,t){return e._id===t._id},renderOption:function(e){return Object(Fr.jsx)(Dl,{phone:!0,item:e})},value:r,onChange:function(e,t){o(t),i(!1)},style:{marginInlineStart:30},renderInput:function(e){return Object(Fr.jsx)(da.a,Object(bt.a)(Object(bt.a)({},e),{},{id:"phone",name:"phone",variant:"outlined",label:v?t.phoneNumber:void 0,error:c,style:{width:250},InputLabelProps:{style:{fontSize:N?16:13}}}))}}),!h&&Object(Fr.jsx)(Jr.a,{disableFocusRipple:!0,onClick:function(){d&&d()},children:Object(Fr.jsx)(li.a,{})})]})}var ql=n(779),Bl=n(617);function Wl(e){var t=e.branches,n=e.roles,a=e.handleChangeRoles,r=e.brch,o=e.isRTL,i=o?"\u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0639\u0627\u0645":"General Manager";return Object(Fr.jsx)(ua.a,{children:t.map((function(e){var t;return e.basename===r?Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(ql.a,{control:Object(Fr.jsx)(Ic.a,{checked:(null===n||void 0===n||null===(t=n[e.basename])||void 0===t?void 0:t.admin)||!1,onChange:function(){return a({branch:e.basename,system:null,role:"admin"})},name:e.basename.admin,color:"primary"}),label:Object(Fr.jsx)(la.a,{variant:"body2",style:{fontWeight:"bold"},children:i})}),Object(Fr.jsx)(ua.a,{children:["cal","pos","exp","acc"].map((function(t){var r,i,c,s,l,d,u,m,j,b,p,O,v,f,h,y,x,g,w,C,S,I,N,A;return Object(Fr.jsx)("div",{children:Object(Fr.jsxs)(Bl.a,{row:!0,children:[Object(Fr.jsx)(ua.a,{style:{minWidth:150,marginTop:10},children:Object(Fr.jsx)(la.a,{variant:"subtitle2",style:{fontWeight:"bold"},children:o?ka[t].nameAr:ka[t].name})}),Object(Fr.jsx)(ql.a,{control:Object(Fr.jsx)(Ic.a,{checked:(null===n||void 0===n||null===(r=n[e.basename])||void 0===r||null===(i=r[t])||void 0===i?void 0:i.admin)||!1,onChange:function(){return a({branch:e.basename,system:t,role:"admin"})},size:"small",disabled:null===n||void 0===n||null===(c=n[e.basename])||void 0===c?void 0:c.admin,indeterminate:null===n||void 0===n||null===(s=n[e.basename])||void 0===s?void 0:s.admin,name:"".concat(t,"admin"),color:"primary"}),label:Object(Fr.jsx)(la.a,{variant:"body2",color:"textSecondary",children:o?"\u0645\u062f\u064a\u0631":"Admin"})}),Object(Fr.jsx)(ql.a,{control:Object(Fr.jsx)(Ic.a,{checked:(null===n||void 0===n||null===(l=n[e.basename])||void 0===l||null===(d=l[t])||void 0===d?void 0:d.edit)||!1,onChange:function(){return a({branch:e.basename,system:t,role:"edit"})},size:"small",disabled:(null===n||void 0===n||null===(u=n[e.basename])||void 0===u?void 0:u.admin)||(null===n||void 0===n||null===(m=n[e.basename])||void 0===m||null===(j=m[t])||void 0===j?void 0:j.admin),indeterminate:(null===n||void 0===n||null===(b=n[e.basename])||void 0===b?void 0:b.admin)||(null===n||void 0===n||null===(p=n[e.basename])||void 0===p||null===(O=p[t])||void 0===O?void 0:O.admin),name:"".concat(t,"edit"),color:"primary"}),label:Object(Fr.jsx)(la.a,{variant:"body2",color:"textSecondary",children:o?"\u0645\u062d\u0631\u0631":"Editor"})}),Object(Fr.jsx)(ql.a,{control:Object(Fr.jsx)(Ic.a,{checked:(null===n||void 0===n||null===(v=n[e.basename])||void 0===v||null===(f=v[t])||void 0===f?void 0:f.view)||!1,onChange:function(){return a({branch:e.basename,system:t,role:"view"})},size:"small",disabled:(null===n||void 0===n||null===(h=n[e.basename])||void 0===h?void 0:h.admin)||(null===n||void 0===n||null===(y=n[e.basename])||void 0===y||null===(x=y[t])||void 0===x?void 0:x.admin)||(null===n||void 0===n||null===(g=n[e.basename])||void 0===g||null===(w=g[t])||void 0===w?void 0:w.edit),indeterminate:(null===n||void 0===n||null===(C=n[e.basename])||void 0===C?void 0:C.admin)||(null===n||void 0===n||null===(S=n[e.basename])||void 0===S||null===(I=S[t])||void 0===I?void 0:I.admin)||(null===n||void 0===n||null===(N=n[e.basename])||void 0===N||null===(A=N[t])||void 0===A?void 0:A.edit),name:"".concat(t,"view"),color:"primary"}),label:Object(Fr.jsx)(la.a,{variant:"body2",color:"textSecondary",children:o?"\u0645\u0634\u0627\u0647\u062f":"Viwer"})})]})},t)}))})]},e.basename):Object(Fr.jsx)("div",{},e.basename)}))})}var zl=n(4),Vl=function(e){return Object(Fr.jsxs)(zl.g,{children:[Object(Fr.jsx)(zl.k,{name:"popupEditing",children:Object(Fr.jsx)(zl.l,{children:function(t,n){var a,r,o=t.rows,i=t.getRowId,c=t.addedRows,s=t.editingRowIds,l=t.rowChanges,d=n.stopEditRows,u=n.cancelAddedRows,m=n.cancelChangedRows,j=n.commitChangedRows,b=n.commitAddedRows,p=c.length>0;if(p)a=c[r=0];else{var O=Object(nt.a)(s,1);r=O[0];var v=o.filter((function(e){return i(e)===r}))[0];a=Object(bt.a)(Object(bt.a)({},v),l[r])}var f=p?[0]:s,h=s.length>0||p;return Object(Fr.jsx)("div",{children:Ze.a.cloneElement(e.children,Object(bt.a)(Object(bt.a)({},e),{},{open:h,isNew:p,row:a,onClose:function(){p?u({rowIds:f}):(d({rowIds:f}),m({rowIds:f}))},addAction:e.addAction,editAction:e.editAction,applyChanges:function(){p?b({rowIds:f}):(d({rowIds:f}),j({rowIds:f}))}}))})}})}),Object(Fr.jsxs)(zl.k,{name:"root",children:[Object(Fr.jsx)(zl.m,{}),Object(Fr.jsx)(zl.m,{name:"popupEditing"})]})]})};n(618);var Fl=n(659),Ml=function(e){var t=e.setColor,n=e.color,a=Object(Xe.useState)(n),r=Object(nt.a)(a,2),o=r[0],i=r[1];return Object(Fr.jsx)(ua.a,{style:{paddingLeft:20,paddingTop:5,marginBottom:20,alignItems:"center",justifyContent:"center",flexDirection:"column"},children:Object(Fr.jsx)(Fl.a,{colors:Da,color:o||"black",width:200,disableAlpha:!0,onChange:function(e){i(e.hex),t&&t(e.hex)}})})},Hl=Object(Ot.a)((function(e){var t;return Object(vt.a)({txtrtl:{textAlign:"start","& span, & svg":{fontSize:"1rem"},color:Object(er.c)(e.palette.background.default,.8)},txtltr:{textAlign:"start","& span, & svg":{fontSize:"1rem"},color:Object(er.c)(e.palette.background.default,.8)},toolbar:e.mixins.toolbar,drawerPaper:{width:Ra,backgroundColor:e.palette.primary.main},drawerContainer:{overflow:"auto"},drawer:(t={},Object(Qr.a)(t,e.breakpoints.up("sm"),{width:Ra,flexShrink:0}),Object(Qr.a)(t,"backgroundColor",e.palette.primary.main),t),child:{fontSize:"1.5em",paddingTop:15,paddingBottom:15,"&:hover":{backgroundColor:e.palette.primary.light}},child2:{padding:10,paddingLeft:55,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.light}},hide:{display:"none"},icon:{display:"flex",alignItems:"center",justifyContent:"flex-end",backgroundColor:"#21d19f"},appBar:Object(Qr.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(Ra,"px)"),marginLeft:Ra}),menuButton:Object(Qr.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),content:{flexGrow:1,padding:e.spacing(3)},"@global":{"*::-webkit-scrollbar":{width:"0.4em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.3)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.3)"}}})}));var Ul=function(e){var t=e.window,n=Object(Ur.e)(),a=e.menuitem,r=e.setMenuitem,o=e.menu,i=e.isRTL,c=e.user,s=e.network,l=e.logout,d=Hl(),u=Object(Hr.a)(),m=Ze.a.useState(!1),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=function(){p(!b)},v=void 0!==t?function(){return t().document.body}:void 0;return Object(Fr.jsxs)(Fr.Fragment,{children:[Object(Fr.jsx)(Gr.a,{smUp:!0,implementation:"css",children:Object(Fr.jsx)(Kr.a,{position:"fixed",className:d.appBar,children:Object(Fr.jsxs)(Yr.a,{children:[Object(Fr.jsx)(Jr.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:O,className:d.menuButton,children:Object(Fr.jsx)(to.a,{})}),Object(Fr.jsx)(ua.a,{style:{flex:1},children:Object(Fr.jsx)(_l,{mobile:!0,isRTL:i,theme:u,user:c,network:s})})]})})}),Object(Fr.jsxs)("nav",{className:Object(Zr.a)(d.drawer),"aria-label":"mailbox folders",children:[Object(Fr.jsx)(Gr.a,{smUp:!0,implementation:"css",children:Object(Fr.jsx)(Xr.a,{container:v,variant:"temporary",open:b,onClose:O,classes:{paper:d.drawerPaper},ModalProps:{keepMounted:!0},children:Object(Fr.jsx)(ci,{menu:o,menuitem:a,setMenuitem:r,classes:d,isRTL:i,theme:u,user:c,setMobileOpen:p,logout:l,client:Rt,history:n})})}),Object(Fr.jsx)(Gr.a,{xsDown:!0,implementation:"css",children:Object(Fr.jsxs)(Xr.a,{classes:{paper:d.drawerPaper},variant:"permanent",open:!0,style:{paddingTop:40},children:[Object(Fr.jsx)(_l,{isRTL:i,theme:u,user:c,network:s,logout:l,client:Rt,history:n}),Object(Fr.jsx)(ua.a,{style:{height:1,marginTop:10,backgroundColor:"#ddd"}}),Object(Fr.jsx)(ci,{menu:o,menuitem:a,setMenuitem:r,classes:d,isRTL:i,theme:u,user:c,logout:l,client:Rt,history:n})]})})]})]})},Ql=n(199),Gl=n(815),Kl=n(816),Yl=function(e){var t=e.value,n=e.color;return Object(Fr.jsx)(la.a,{style:{fontSize:26,fontWeight:"bold",color:n},children:t})},Jl=function(e){var t=e.icon,n=e.color;return Object(Fr.jsx)(ua.a,{display:"flex",style:{width:26,height:26,borderRadius:13,alignItems:"center",justifyContent:"center"},children:Object(Fr.jsx)(Zo,{color:n,icon:t})})},Xl=function(e){var t=e.title,n=e.color;return Object(Fr.jsx)(la.a,{style:{fontSize:16,fontWeight:"bold",color:n},children:t})};function Zl(e){var t=e.title,n=e.value,a=e.icon,r=e.color,o=e.desc;return Object(Fr.jsx)(Ql.a,{style:{height:116},children:Object(Fr.jsx)(ua.a,{p:1,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:11,children:Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"center"},children:[Object(Fr.jsx)(Jl,{color:r,icon:a}),Object(Fr.jsx)(Xl,{color:r,title:t})]})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"center"},children:Object(Fr.jsx)(Yl,{color:r,value:n})}),o&&Object(Fr.jsxs)(Ze.a.Fragment,{children:[Object(Fr.jsx)(Kl.a,{}),Object(Fr.jsx)(ua.a,{display:"flex",style:{marginLeft:10,marginRight:10},children:Object(Fr.jsx)(la.a,{style:{alignSelf:"center",color:"#aaa"},variant:"caption",children:o})})]})]})]})})})}n(362),n(57);var ed=n(23),td=n.n(ed),nd=function(e){var t=e.list,n=e.name;return{items:td()(t).groupBy(n).map((function(e,t){return{name:t,count:td.a.uniqBy(e,"_id").length,total:td.a.sumBy(e,"amount")}})).value(),count:t.length,total:td.a.sumBy(t,"amount")}};var ad=n(78),rd=n(975),od=n(233),id=function(e){var t=e.currentViewName,n=e.onChange,a=e.isRTL,r=e.words,o=e.views,i=e.currentDateChange,c=xt();return Object(Fr.jsx)(ua.a,{display:"flex",style:{direction:a?"rtl":"ltr"},children:Object(Fr.jsx)(Al.a,{className:c.formControl,children:Object(Fr.jsxs)(Tl.a,{id:"simple-menu",value:t,onChange:function(e){n(e),i(new Date)},variant:"outlined",style:{height:34,fontSize:12,fontWeight:"bold",color:"#555"},children:[o&&o.includes(1)&&Object(Fr.jsx)($l.a,{style:{justifyContent:a?"flex-end":"flex-start"},value:"Day",children:r.day}),o&&o.includes(3)&&Object(Fr.jsx)($l.a,{style:{justifyContent:a?"flex-end":"flex-start"},value:"3Days",children:r.tdays}),o&&o.includes(7)&&Object(Fr.jsx)($l.a,{style:{justifyContent:a?"flex-end":"flex-start"},value:"Week",children:r.week}),o&&o.includes(30)&&Object(Fr.jsx)($l.a,{style:{justifyContent:a?"flex-end":"flex-start"},value:"Month",children:r.month}),o&&o.includes(365)&&Object(Fr.jsx)($l.a,{style:{justifyContent:a?"flex-end":"flex-start"},value:"Year",children:r.year}),o&&o.includes(1e3)&&Object(Fr.jsx)($l.a,{style:{justifyContent:a?"flex-end":"flex-start"},value:"Custom",children:a?"\u0645\u062e\u0635\u0635":"Custom Date"})]})})})},cd=n(234),sd=n(236),ld=n(90),dd=n.n(ld),ud=n(91),md=n.n(ud),jd=n(24),bd=n.n(jd);function pd(e){var t=e.isRTL,n=e.words,a=e.setStart,r=e.setEnd,o=e.theme,i=e.currentDate,c=e.currentViewName,s=e.currentViewNameChange,l=e.currentDateChange,d=e.views,u=Object(Xe.useState)("MMMM, dd yyyy"),m=Object(nt.a)(u,2),j=m[0],b=m[1],p=Object(Xe.useState)(!1),O=Object(nt.a)(p,2),v=O[0],f=O[1];Object(Xe.useEffect)((function(){var e=fs({time:i,view:c,isRTL:t}),n=e.start,o=e.end,s=e.period;a(n),r(o),b(s)}),[i,c]);var h=function(){if("Day"===c){var e=new Date(i);e.setDate(e.getDate()+1),l(e)}else if("3Days"===c){var t=new Date(i);t.setDate(t.getDate()+3),l(t)}else if("Week"===c){var n=new Date(i);n.setDate(n.getDate()+7),l(n)}else if("Month"===c){var a=new Date(i);a.setMonth(a.getMonth()+1),l(a)}else if("Year"===c){var r=new Date(i);r.setFullYear(r.getFullYear()+1),l(r)}},y=function(){if("Day"===c){var e=new Date(i);e.setDate(e.getDate()-1),l(e)}else if("3Days"===c){var t=new Date(i);t.setDate(t.getDate()-3),l(t)}else if("Week"===c){var n=new Date(i);n.setDate(n.getDate()-7),l(n)}else if("Month"===c){var a=new Date(i);a.setMonth(a.getMonth()-1),l(a)}else if("Year"===c){var r=new Date(i);r.setFullYear(r.getFullYear()-1),l(r)}},x=bd()(new Date).isSame(i,"day");return Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"flex-start",marginRight:10,marginLeft:10},children:[Object(Fr.jsx)(Gr.a,{xsDown:!0,implementation:"css",children:Object(Fr.jsx)(oa.a,{style:{marginTop:2,height:32,width:32,padding:0,margin:0,marginLeft:5,backgroundColor:Object(er.c)(o.palette.primary.dark,x?.1:.2)},size:"small",disabled:x,onClick:function(){return l(new Date)},children:Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:13,color:x?"#999":o.palette.primary.main},children:t?"\u0627\u0644\u0623\u0646":"Now"})})}),Object(Fr.jsx)(ua.a,{display:"flex",children:Object(Fr.jsx)(id,{currentViewName:c,onChange:s,currentDateChange:l,isRTL:t,words:n,views:d})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between"},children:[Object(Fr.jsxs)(Jr.a,{color:"primary",style:{marginTop:4},onClick:t?h:y,children:[t&&Object(Fr.jsx)(dd.a,{style:{fontSize:18,color:"#555"}}),!t&&Object(Fr.jsx)(md.a,{style:{fontSize:18,color:"#555"}})]}),Object(Fr.jsxs)(Jr.a,{color:"primary",style:{marginTop:4,marginLeft:5},onClick:t?y:h,children:[t&&Object(Fr.jsx)(md.a,{style:{fontSize:18,color:"#555"}}),!t&&Object(Fr.jsx)(dd.a,{style:{fontSize:18,color:"#555"}})]}),Object(Fr.jsx)(oa.a,{style:{position:"relative",zIndex:10,backgroundColor:"#fff",height:40},onClick:function(){return f(!0)},children:Object(Fr.jsx)(la.a,{color:"primary",variant:"button",children:j})}),Object(Fr.jsx)(ad.a,{locale:t?cd.a:sd.a,utils:od.a,children:Object(Fr.jsx)(rd.a,{autoOk:!0,variant:"inline",inputVariant:"outlined",format:"dd/MM/yyyy",margin:"dense",id:"date-picker-inline",value:i,onChange:l,open:v,onClose:function(){return f(!1)},rightArrowIcon:t?Object(Fr.jsx)(md.a,{}):Object(Fr.jsx)(dd.a,{}),leftArrowIcon:t?Object(Fr.jsx)(dd.a,{}):Object(Fr.jsx)(md.a,{}),style:{direction:"rtl",position:"relative",left:t?60:void 0,right:t?void 0:60,bottom:20,zIndex:-20,marginTop:0,height:0,padding:0,margin:0,width:0}})})]})]})}var Od=n(11);function vd(e){return Object(Xe.createElement)(Od.d.Input,Object(bt.a)(Object(bt.a)({},e),{},{placeholder:e.isRTL?"\u0628\u062d\u062b":"Search",variant:"outlined",key:"search"}))}function fd(e){var t=e.type,n=e.msg,a=e.isRTL,r=e.top;return Object(Fr.jsx)(Bs.a,{style:{direction:a?"rtl":"ltr",position:"absolute",bottom:r?void 0:60,top:r?55:void 0,width:r?window.innerWidth-275:"100%",height:r?60:void 0,alignItems:"center",paddingLeft:20,paddingRight:20},severity:t,children:n})}var hd=n(997),yd=function(e){var t=e.isRTL,n=e.label,a=e.value,r=e.onChange,o=e.format,i=void 0===o?"dd/MM/yyyy":o,c=e.time,s=Object(wc.a)(e,["isRTL","label","value","onChange","format","time"]);return Object(Fr.jsxs)(ad.a,Object(bt.a)(Object(bt.a)({locale:t?cd.a:sd.a,utils:od.a},s),{},{children:[!c&&Object(Fr.jsx)(rd.b,Object(bt.a)({autoOk:!0,minDateMessage:t?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u063a\u064a\u0631 \u0635\u0627\u0644\u062d":"Invalid Date",maxDateMessage:t?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u063a\u064a\u0631 \u0635\u0627\u0644\u062d":"Invalid Date",variant:"inline",format:i,margin:"normal",id:"date-picker-inline",label:n,value:a,onChange:r,KeyboardButtonProps:{"aria-label":"change date"},style:{width:150},rightArrowIcon:t?Object(Fr.jsx)(md.a,{style:{fontSize:18}}):Object(Fr.jsx)(dd.a,{style:{fontSize:18}}),leftArrowIcon:t?Object(Fr.jsx)(dd.a,{style:{fontSize:18}}):Object(Fr.jsx)(md.a,{style:{fontSize:18}})},s)),c&&Object(Fr.jsx)(hd.a,Object(bt.a)({autoOk:!0,variant:"inline",minDateMessage:t?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u063a\u064a\u0631 \u0635\u0627\u0644\u062d":"Invalid Date",maxDateMessage:t?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u063a\u064a\u0631 \u0635\u0627\u0644\u062d":"Invalid Date",id:"time-pickerstart",label:n,name:"startDate",inputVariant:"standard",format:"dd/MM/yyyy hh:mm",value:a,onChange:r,style:{width:150},rightArrowIcon:t?Object(Fr.jsx)(md.a,{style:{fontSize:18}}):Object(Fr.jsx)(dd.a,{style:{fontSize:18}}),leftArrowIcon:t?Object(Fr.jsx)(dd.a,{style:{fontSize:18}}):Object(Fr.jsx)(md.a,{style:{fontSize:18}})},s))]}))};function xd(e){var t=e.register,n=e.errors,a=e.name,r=e.label,o=e.row,i=e.required,c=void 0!==i&&i,s=e.autoFocus,l=void 0!==s&&s,d=e.width,u=e.newtext,m=(e.margin,e.fullWidth),j=e.mb,b=void 0===j?20:j,p=Object(wc.a)(e,["register","errors","name","label","row","required","autoFocus","width","newtext","margin","fullWidth","mb"]);return Object(Fr.jsx)(da.a,Object(bt.a)({autoFocus:l,fullWidth:m,autoComplete:"off",required:c,name:a,defaultValue:(null===o||void 0===o?void 0:o[a])||u||"",label:r,error:!!n&&!!n[a],inputRef:t,variant:"outlined",style:{width:d,marginBottom:b},margin:"dense"},p))}Object(Ot.a)((function(e){return Object(vt.a)({appBar:{zIndex:e.zIndex.drawer+1,"-webkit-app-region":"drag",backgroundColor:Object(er.c)(e.palette.primary.light,0)},titleSt:{color:e.palette.grey[700],fontSize:14},appBarButton:{color:e.palette.grey[700],"-webkit-app-region":"no-drag",top:-3,"&:hover":{backgroundColor:"transparent"}},appBarButtonLang:{color:e.palette.grey[700],fontSize:12,"-webkit-app-region":"no-drag",top:-3,"&:hover":{backgroundColor:"transparent"}}})}));var gd=n(976),wd=n(977),Cd=n(979),Sd=n(348),Id=n(349),Nd=n(281),Ad=n(275),Td=n(645),$d=function(e){var t=e.color,n=e.title;return Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:18,fontWeight:"bold",color:t,padding:10},children:n}),Object(Fr.jsx)(Kl.a,{})]})},kd=function(e){var t=e.data,n=e.color,a=e.dataKey,r=e.height,o=e.isRTL,i=e.prim,c=o?"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629":"Days Sales";return Object(Fr.jsxs)(Ql.a,{style:{height:r},children:[Object(Fr.jsx)($d,{title:c,color:i}),Object(Fr.jsx)(gd.a,{width:"100%",height:r-30,children:Object(Fr.jsxs)(wd.a,{height:r,margin:{top:20,right:30,left:o?40:10,bottom:20},syncId:"anyId",data:t,children:[Object(Fr.jsx)(Cd.a,{strokeDasharray:"3 3",vertical:!1}),Object(Fr.jsx)(Sd.a,{dataKey:"name",axisLine:!1,tickLine:!1}),Object(Fr.jsx)(Id.a,{axisLine:!1,tickLine:!1,mirror:!!o,tickFormatter:function(e){return e.toLocaleString()}}),Object(Fr.jsx)(Nd.a,{formatter:function(e){return[e.toLocaleString()]}}),Object(Fr.jsx)(Ad.a,{formatter:function(){return o?" \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629 ":"Days Sales"}}),Object(Fr.jsx)(Td.a,{type:"monotone",dataKey:a,stroke:n,fill:n})]})})]})},Dd=n(980),Rd=n(664),Ed=function(e){var t=e.data,n=e.color,a=e.dataKey,r=e.height,o=e.prim,i=e.title,c=e.isRTL,s=Object(er.c)(n,.7);return Object(Fr.jsxs)(Ql.a,{style:{height:r},children:[Object(Fr.jsx)($d,{title:i,color:o}),Object(Fr.jsx)(gd.a,{width:"100%",height:r-60,children:Object(Fr.jsxs)(Dd.a,{height:r,data:t,margin:{top:20,right:30,left:c?50:10,bottom:5},syncId:"6month",children:[Object(Fr.jsx)(Cd.a,{strokeDasharray:"3 3",vertical:!1}),Object(Fr.jsx)(Sd.a,{dataKey:"name",axisLine:!1,tickLine:!1}),Object(Fr.jsx)(Id.a,{axisLine:!1,tickLine:!1,mirror:!!c,tickFormatter:function(e){return e.toLocaleString()}}),Object(Fr.jsx)(Nd.a,{cursor:{fill:"transparent"},formatter:function(e){return[e.toLocaleString()]}}),Object(Fr.jsx)(Rd.a,{dataKey:a,fill:s}),";"]})})]})},Ld=function(e){var t=e.data,n=e.isRTL,a=e.height,r=e.prim,o=e.theme,i=n?"nameAr":"name",c=t.map((function(e){var t=e;return e.status&&e.status.length>0&&e.status.map((function(e){t[e.name]=e.count})),t})),s=n?"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u064a\u0648\u0645\u064a\u0629 \u0628\u062d\u0633\u0628 \u0627\u0644\u062d\u0627\u0644\u0629":"Week Appointments Status",l=function(e){return[{id:10,name:"Completed",nameAr:"\u0645\u0646\u062c\u0632",color:Object(er.c)(e.palette.primary.light,.9)},{id:2,name:"Confirmed",nameAr:"\u0645\u0624\u0643\u062f",color:Object(er.c)(e.palette.secondary.light,.8)},{id:1,name:"Scheduled",nameAr:"\u063a\u064a\u0631 \u0645\u0624\u0643\u062f",color:Object(er.c)(e.palette.secondary.light,.6)},{id:3,name:"On-Hold",nameAr:"\u0645\u0639\u0644\u0642",color:Object(er.c)(e.palette.secondary.light,.4)},{id:4,name:"Canceled",nameAr:"\u0645\u0644\u063a\u0649",color:Object(er.c)(e.palette.secondary.light,.2)}]}(o);return Object(Fr.jsxs)(Ql.a,{style:{height:a},children:[Object(Fr.jsx)($d,{title:s,color:r}),Object(Fr.jsx)(gd.a,{width:"100%",height:a-60,children:Object(Fr.jsxs)(Dd.a,{height:a,data:c,margin:{top:20,right:10,left:n?40:0,bottom:5},children:[Object(Fr.jsx)(Cd.a,{vertical:!1,strokeDasharray:"3 3"}),Object(Fr.jsx)(Sd.a,{dataKey:"name",axisLine:!1,tickLine:!1}),Object(Fr.jsx)(Id.a,{tickLine:!1,axisLine:!1,mirror:!!n}),Object(Fr.jsx)(Nd.a,{cursor:{fill:"transparent"}}),l.map((function(e){return Object(Fr.jsx)(Rd.a,{dataKey:e[i],stackId:"a",fill:e.color},e.id)}))]})})]})},_d=function(e){var t=e.data,n=e.pricolor,a=e.seccolor,r=e.dataKey,o=e.height,i=e.isRTL,c=e.prim,s=i?"\u0627\u0644\u0645\u0648\u0639\u064a\u062f \u0627\u0644\u064a\u0648\u0645\u064a\u0629 \u0627\u0644\u0645\u0646\u062c\u0632\u0629":"Daily Appointments";return Object(Fr.jsxs)(Ql.a,{style:{height:o},children:[Object(Fr.jsx)($d,{title:s,color:c}),Object(Fr.jsx)(gd.a,{width:"100%",height:o-30,children:Object(Fr.jsxs)(wd.a,{height:o,margin:{top:20,right:30,left:i?40:10,bottom:20},syncId:"anyId",data:t,children:[Object(Fr.jsx)(Cd.a,{strokeDasharray:"3 3",vertical:!1}),Object(Fr.jsx)(Sd.a,{dataKey:"name",axisLine:!1,tickLine:!1}),Object(Fr.jsx)(Id.a,{axisLine:!1,tickLine:!1,mirror:!!i}),Object(Fr.jsx)(Nd.a,{formatter:function(e,t){return[e,"count"===t?i?"\u0627\u0644\u0643\u0644":"All":t]}}),Object(Fr.jsx)(Ad.a,{formatter:function(e){return"count"===e?i?"\u0643\u0644 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f":"All Appointments":i?"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0645\u0646\u062c\u0632\u0629":"Completed"}}),Object(Fr.jsx)(Td.a,{type:"monotone",dataKey:r,fill:a,stroke:a}),Object(Fr.jsx)(Td.a,{type:"monotone",dataKey:i?"\u0645\u0646\u062c\u0632":"Completed",stroke:n,fill:n})]})})]})},Pd=n(990),qd=n(647),Bd=n(102),Wd=function(e){var t,n=e.height,a=e.data,r=e.pricolor,o=e.seccolor,i=e.isRTL,c=e.prim,s=a.filter((function(e){return 10===e.status})),l=a.length,d=[{value:t=(null===s||void 0===s?void 0:s.length)>0?s.length/l:0}],u=90-360*t,m=t?Math.round(100*t).toLocaleString()+"%":"0%",j=i?"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0645\u0646\u062c\u0632\u0629 \u0627\u0644\u064a\u0648\u0645":"Today Appointments";return Object(Fr.jsxs)(Ql.a,{style:{height:n},children:[Object(Fr.jsx)($d,{title:j,color:c}),Object(Fr.jsx)(gd.a,{width:"100%",height:"100%",children:Object(Fr.jsxs)(Pd.a,{height:n-50,margin:{top:20,right:10,left:10,bottom:70},children:[Object(Fr.jsx)(qd.a,{data:[{value:1}],innerRadius:"85%",outerRadius:"100%",startAngle:90,endAngle:-270,isAnimationActive:!1,paddingAngle:0,fill:Object(er.c)(o,.3),dataKey:"value"}),Object(Fr.jsx)(qd.a,{data:d,innerRadius:"85%",outerRadius:"100%",startAngle:90,endAngle:u,cornerRadius:20,fill:r,dataKey:"value",labelLine:!1,animationBegin:0,animationDuration:1e3,children:Object(Fr.jsx)(Bd.a,{position:"center",value:m,style:{fontSize:25,fontWeight:"bold"},fill:r})})]})})]})},zd=function(e){var t=e.data,n=e.isRTL,a=e.color,r=e.height,o=e.employees,i=e.departments,c=e.title,s=e.prim,l=[];o&&(null===t||void 0===t?void 0:t.employees)&&o.map((function(e){var a,r,o=n?e.nameAr:e.name,i=null===(a=t.employees.filter((function(e){return e.name===o})))||void 0===a||null===(r=a[0])||void 0===r?void 0:r.amount;l.push({name:o,value:i})})),i&&(null===t||void 0===t?void 0:t.departments)&&i.map((function(e){var a,r,o=n?e.nameAr:e.name,i=null===(a=t.departments.filter((function(e){return e.name===o})))||void 0===a||null===(r=a[0])||void 0===r?void 0:r.amount;l.push({name:o,value:i})}));var d=Object(er.c)(a,.7);return Object(Fr.jsxs)(Ql.a,{style:{height:r},children:[Object(Fr.jsx)($d,{title:c,color:s}),Object(Fr.jsx)(gd.a,{width:"100%",height:r-60,children:Object(Fr.jsxs)(Dd.a,{height:r,data:l,margin:{top:20,right:30,left:n?50:10,bottom:5},children:[Object(Fr.jsx)(Cd.a,{strokeDasharray:"3 3",vertical:!1}),Object(Fr.jsx)(Sd.a,{dataKey:"name",axisLine:!1,tickLine:!1}),Object(Fr.jsx)(Id.a,{axisLine:!1,tickLine:!1,mirror:!!n,tickFormatter:function(e){return e.toLocaleString()}}),Object(Fr.jsx)(Nd.a,{cursor:{fill:"transparent"},formatter:function(e){return[e.toLocaleString()]}}),Object(Fr.jsx)(Rd.a,{dataKey:"value",fill:d})]})})]})};function Vd(e){var t=e.title,n=e.value,a=e.icon,r=(e.color,e.salesColor),o=e.eventColor,i=Object(er.c)(r,.8);Object(er.c)(o,.8);return Object(Fr.jsx)(Ql.a,{style:{height:116,background:i},children:Object(Fr.jsx)(ua.a,{p:1,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:11,children:Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"center"},children:[Object(Fr.jsx)(Jl,{color:"#fafafa",icon:a}),Object(Fr.jsx)(Xl,{color:"#fafafa",title:t})]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"center"},children:Object(Fr.jsx)(Yl,{color:"#fafafa",value:n})})})]})})})}var Fd=n(989),Md=function(){var e,t,n="ar"===Gn("store").lang,a=Object(Fd.a)(_t,{variables:{isRTL:n}}),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(ta.a)(nn,{refetchQueries:[{query:_t,variables:{isRTL:n}},{query:_t,variables:{isRTL:n}}]}),s=Object(nt.a)(c,1)[0],l=Object(ta.a)(rn,{refetchQueries:[{query:_t,variables:{isRTL:n}},{query:_t,variables:{isRTL:n}}]}),d=Object(nt.a)(l,1)[0],u=Object(ta.a)(an,{refetchQueries:[{query:_t,variables:{isRTL:n}},{query:_t,variables:{isRTL:n}}]}),m=Object(nt.a)(u,1)[0];Object(Xe.useEffect)((function(){o()}),[o]);return{departments:(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.getDepartments)||void 0===t?void 0:t.data)||[],refreshdepartment:function(){return null===i||void 0===i?void 0:i.refetch()},addDepartment:s,editDepartment:d,removeDepartment:m}},Hd=n(228),Ud=n.n(Hd),Qd=n(623);function Gd(e){var t=e.children,n=e.menuitem,a=e.isRTL,r=e.refresh,o=e.theme,i=e.bgcolor,c=void 0===i?o.palette.primary.light:i,s=Object(Qd.a)("(max-width:600px)");return Object(Fr.jsxs)(ua.a,{p:s?0:2,pt:s?6:void 0,children:[Object(Fr.jsx)(Gr.a,{xsDown:!0,implementation:"css",children:Object(Fr.jsxs)(Ql.a,{elevation:0,style:{backgroundColor:Object(er.c)(c,.2),paddingLeft:20,paddingRight:20,height:50,display:"flex",flex:1,alignItems:"center",justifyContent:"space-between",borderTopRightRadius:10,borderTopLeftRadius:10,borderBottomLeftRadius:0,borderBottomRightRadius:0},children:[Object(Fr.jsx)(la.a,{style:{color:o.palette.primary.main,fontSize:22},children:a?n.titleAr:n.titleEn}),r&&Object(Fr.jsx)(Jr.a,{style:{backgroundColor:Object(er.c)(c,.5),padding:7},onClick:r,children:Object(Fr.jsx)(Ud.a,{style:{fontSize:24,color:"#eee"},color:"primary"})})]})}),Object(Fr.jsx)(Ql.a,{style:{backgroundColor:Object(er.c)(o.palette.primary.light,.05),borderBottomLeftRadius:s?void 0:10,borderBottomRightRadius:s?void 0:10},elevation:0,children:Ze.a.cloneElement(t,Object(bt.a)({},e))})]})}var Kd,Yd=function(e){var t={all:e.words.all,newInvoice:e.words.newInvoice,addInvoice:e.words.addInvoice,addCategory:e.words.addCategory,categoryName:e.words.categoryName,categoryNameAr:e.words.categoryNameAr,addDepartment:e.words.addDepartment,department:e.words.department,departmentName:e.words.departmentName,departmentNameAr:e.words.departmentNameAr,employee:e.words.employee,addEmployee:e.words.addEmployee,employeeName:e.words.employeeName,employeeNameAr:e.words.employeeNameAr,service:e.words.service,product:e.words.product,services:e.words.services,products:e.words.products,serviceproduct:e.words.serviceproduct,newService:e.words.newService,serviceName:e.words.serviceName,serviceNameAr:e.words.serviceNameAr,customer:e.words.customer,supplier:e.words.supplier,newCustomer:e.words.newCustomer,customerName:e.words.customerName,customerNameAr:e.words.customerNameAr,addBrand:e.words.addBrand,brandName:e.words.brandName,brandNameAr:e.words.brandNameAr,newProducts:e.words.newProducts,productName:e.words.productName,newspecialproducts:e.words.newspecialproducts,serailNo:e.words.serailNo,newCustomers:e.words.newCustomer,newSupplier:e.words.newSupplier,supplierName:e.words.supplierName,phoneNumber:e.words.phoneNumber,email:e.words.email,category:e.words.category,brand:e.words.brand,cost:e.words.cost,price:e.words.price,used:e.words.used,underSale:e.words.underSale,save:e.words.save,cancel:e.words.cancel,close:e.words.close,color:e.words.color,name:e.words.name,nameAr:e.words.nameAr,nameEn:e.words.nameEn,username:e.words.username,password:e.words.password,login:e.words.login,logout:e.words.logout,signup:e.words.signup,edituser:e.words.edituser,adduser:e.words.adduser,deleteuser:e.words.deleteuser,delete:e.words.delete,discount:e.words.discount,total:e.words.total,amount:e.words.amount,grandtotal:e.words.grandtotal,profit:e.words.profit,day:e.words.day,tdays:e.words.tdays,week:e.words.week,month:e.words.month,year:e.words.year,cash:e.words.cash,paid:e.words.paid,credit:e.words.credit,cashbox:e.words.cashbox,finance:e.words.finance,card:e.words.card,bank:e.words.bank,partner:e.words.partner,income:e.words.income,sales:e.words.sales,appointments:e.words.appointments,past:e.words.past,today:e.words.today,coming:e.words.coming,discounts:e.words.discounts,status:e.words.status,start:e.words.start,end:e.words.end,no:e.words.no,qty:e.words.qty,print:e.words.print,printsave:e.words.printsave,time:e.words.time,timedate:e.words.timedate,to:e.words.to,from:e.words.from,type:e.words.type,description:e.words.description,ref:e.words.ref,depdraw:e.words.depdraw,depositbank:e.words.depositbank,addpartner:e.words.addpartner,drawpartner:e.words.drawpartner,customerpay:e.words.customerpay,fromdate:e.words.fromdate,todate:e.words.todate,period:e.words.period,avatar:e.words.avatar,roles:e.words.roles,duration:e.words.duration,companyName:e.words.companyName,companyNameAr:e.words.companyNameAr,mobile:e.words.mobile,fax:e.words.fax,phone2:e.words.phone2,website:e.words.website,accounts:e.words.accounts,account:e.words.account,address:e.words.address,theaddress:e.words.theaddress,unit:e.words.unit,info:e.words.info,expenses:e.words.expenses,hresource:e.words.hresource,oresource:e.words.oresource,resourses:e.words.resourses,generalkaid:e.words.generalkaid,interval:e.words.interval,task:e.words.task,addaction:e.words.addaction,title:e.words.title,receipts:e.words.receipts,notification:e.words.notification,reminder:e.words.reminder,subject:e.words.subject,body:e.words.body,weekdays:e.words.weekdays},n={itemadded:e.messages.itemadded,itemexist:e.messages.itemexist,erroronadd:e.messages.erroronadd};return{isRTL:e.isRTL,words:t,messages:n}},Jd=n(871),Xd=n(872),Zd=function(){var e,t,n="ar"===Gn("store").lang,a=Object(Fd.a)(Pt,{variables:{isRTL:n}}),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(ta.a)(on,{refetchQueries:[{query:Pt,variables:{isRTL:n}}]}),s=Object(nt.a)(c,1)[0],l=Object(ta.a)(sn,{refetchQueries:[{query:Pt,variables:{isRTL:n}}]}),d=Object(nt.a)(l,1)[0],u=Object(ta.a)(cn,{refetchQueries:[{query:Pt,variables:{isRTL:n}}]}),m=Object(nt.a)(u,1)[0];Object(Xe.useEffect)((function(){o()}),[o]);return{employees:(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.getEmployees)||void 0===t?void 0:t.data)||[],refreshemployee:function(){return null===i||void 0===i?void 0:i.refetch()},addEmployee:s,editEmployee:d,removeEmployee:m}},eu=function(){var e,t,n="ar"===Gn("store").lang,a=Object(Fd.a)(Bt,{variables:{isRTL:n}}),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(ta.a)(mn,{refetchQueries:[{query:Bt,variables:{isRTL:n}}]}),s=Object(nt.a)(c,1)[0],l=Object(ta.a)(bn,{refetchQueries:[{query:Bt,variables:{isRTL:n}}]}),d=Object(nt.a)(l,1)[0],u=Object(ta.a)(jn,{refetchQueries:[{query:Bt,variables:{isRTL:n}}]}),m=Object(nt.a)(u,1)[0];Object(Xe.useEffect)((function(){o()}),[o]);return{services:(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.getServices)||void 0===t?void 0:t.data)||[],addService:s,editService:d,removeService:m,refreshservice:function(){return null===i||void 0===i?void 0:i.refetch()}}},tu=function(){var e,t,n="ar"===Gn("store").lang,a=Object(Fd.a)(qt,{variables:{isRTL:n}}),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(ta.a)(ln,{refetchQueries:[{query:qt,variables:{isRTL:n}}]}),s=Object(nt.a)(c,1)[0],l=Object(ta.a)(un,{refetchQueries:[{query:qt,variables:{isRTL:n}}]}),d=Object(nt.a)(l,1)[0],u=Object(ta.a)(dn,{refetchQueries:[{query:qt,variables:{isRTL:n}}]}),m=Object(nt.a)(u,1)[0];Object(Xe.useEffect)((function(){o()}),[o]);return{customers:(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.getCustomers)||void 0===t?void 0:t.data)||[],refreshcustomer:function(){return null===i||void 0===i?void 0:i.refetch()},addCustomer:s,editCustomer:d,removeCustomer:m}},nu=(Object(Lt.a)(Kd||(Kd=Object(Et.a)(["\n  query getDecryptedLicense {\n    getDecryptedLicense {\n      ok\n      error\n      data\n      message\n    }\n  }\n"]))),function(){var e,t,n=Object(Fd.a)(Ft,{fetchPolicy:"network-only"}),a=Object(nt.a)(n,2),r=a[0],o=a[1];Object(Xe.useEffect)((function(){r()}),[r]);var i=null===o||void 0===o||null===(e=o.data)||void 0===e||null===(t=e.getLastNos)||void 0===t?void 0:t.data,c=i?JSON.parse(i):[],s={};return c.length>0&&c.map((function(e){s[e._id]=e.sequenceValue})),{lastNos:s,freshlastNos:r}}),au=function(){var e,t,n=Object(Fd.a)(Mt),a=Object(nt.a)(n,2),r=a[0],o=a[1],i=Object(ta.a)(En,{refetchQueries:[{query:Mt}]}),c=Object(nt.a)(i,1)[0];return Object(Xe.useEffect)((function(){r()}),[r]),{branches:(null===o||void 0===o||null===(e=o.data)||void 0===e||null===(t=e.getBranches)||void 0===t?void 0:t.data)||[],editBranch:c}};function ru(e){var t=e.words,n=e.isRTL,a=e.user,r=e.theme,o=e.menuitem,i=Md().departments,c=Zd().employees,s=function(){var e,t,n="ar"===Gn("store").lang,a=Object(Fd.a)(Xt),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Md().departments;Object(Xe.useEffect)((function(){o()}),[o]);var s,l,d,u,m,j,b,p,O,v,f,h,y,x=null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.getLandingChartData)||void 0===t?void 0:t.data,g=n?"nameAr":"name",w=n?"departmentNameAr":"departmentName",C=n?"employeeNameAr":"employeeName",S=n?"statusAr":"statusEn";if(x){var I=JSON.parse(x),N=I.accounts,A=I.daysEvents,T=I.daysSales,$=I.monthsEvents,k=I.monthsSales,D=I.todayEventsData,R=I.todaySalesData;y=N;var E=T.map((function(e){var t=e.date,a=e.count,r=e.amount;return{name:Fc(new Date(t),n),count:a,total:r,date:new Date(t)}})),L=ys(7,n);s=L.map((function(e){var t=E.filter((function(t){return t.name===e}));return t&&t.length>0?t[0]:{name:e,count:0,total:0}}));var _=td.a.groupBy(A,"date"),P=Object.keys(_).map((function(e){var t,a,r=td()(_[e]).groupBy(S).map((function(e,t){return{name:t,count:td.a.sumBy(e,"count"),amount:td.a.sumBy(e,"amount")}})).orderBy("count").value(),o=td.a.mapValues(td.a.keyBy(r,"name"),"count"),i=null===(t=_[e])||void 0===t||null===(a=t[0])||void 0===a?void 0:a.date,c=td.a.sumBy(_[e],"amount"),s=td.a.sumBy(_[e],"count"),l=Fc(new Date(i),n);return Object(bt.a)(Object(bt.a)({name:l,status:r},o),{},{count:s,total:c,date:new Date(e)})}));if(l=L.map((function(e){var t=P.filter((function(t){return t.name===e}));return t&&t.length>0?t[0]:{name:e,count:0,total:0}})),u=ys(7,n,"mid").map((function(e){var t=P.filter((function(t){return t.name===e}));return t&&t.length>0?t[0]:{name:e,count:0,total:0}})),R){var q=td.a.groupBy(R,w);d=Object.keys(q).map((function(e){var t,n=td.a.sumBy(q[e],"amount"),a=c&&c.length?c.filter((function(t){return t[g]===e})):null;return{name:e,value:n,color:a?null===a||void 0===a||null===(t=a[0])||void 0===t?void 0:t.color:""}})),j=td.a.sumBy(d,"value")}if(D&&(b=D.length),m=D,k){var B,W,z=td.a.groupBy(k,"month"),V=Object.keys(z).map((function(e){var t,a,r=td()(z[e]).groupBy(w).map((function(e,t){return{name:t,count:td.a.sumBy(e,"count"),amount:td.a.sumBy(e,"amount")}})).orderBy("name").value(),o=td()(z[e]).groupBy(C).map((function(e,t){return{name:t,count:td.a.sumBy(e,"count"),amount:td.a.sumBy(e,"amount"),color:e[0].color}})).orderBy("name").value(),i=null===(t=z[e])||void 0===t||null===(a=t[0])||void 0===a?void 0:a.date,c=td.a.sumBy(z[e],"amount"),s=td.a.sumBy(z[e],"count");return{name:Mc(i,n),departments:r,employees:o,count:s,total:c,date:new Date(i)}}));p=xs(6,n).map((function(e){var t=V.filter((function(t){return t.name===e}));return t&&t.length>0?t[0]:{name:e,count:0,total:0}}));var F=Mc(new Date,n);f=null===(W=v=null===(B=p.filter((function(e){return e.name===F})))||void 0===B?void 0:B[0])||void 0===W?void 0:W.total}if($){var M,H=td.a.groupBy($,"month"),U=Object.keys(H).map((function(e){var t,a,r=td()(H[e]).groupBy(w).map((function(e,t){return{name:t,count:td.a.sumBy(e,"count"),amount:td.a.sumBy(e,"amount")}})).orderBy("name").value(),o=td()(H[e]).groupBy(C).map((function(e,t){return{name:t,count:td.a.sumBy(e,"count"),amount:td.a.sumBy(e,"amount")}})).orderBy("name").value(),i=td()(H[e]).groupBy(S).map((function(e,t){return{name:t,count:td.a.sumBy(e,"count"),amount:td.a.sumBy(e,"amount")}})).orderBy("count").value(),c=null===(t=H[e])||void 0===t||null===(a=t[0])||void 0===a?void 0:a.date,s=td.a.sumBy(H[e],"amount"),l=td.a.sumBy(H[e],"count");return{name:Mc(c,n),departments:r,employees:o,status:i,count:l,total:s,date:new Date(c)}}));O=xs(6,n).map((function(e){var t=U.filter((function(t){return t.name===e}));return t&&t.length>0?t[0]:{name:e,count:0,total:0}}));var Q=Mc(new Date,n);h=(null===(M=O.filter((function(e){return e.name===Q})))||void 0===M?void 0:M[0]).count}}return{salesDays:s,eventDays:l,nextEventDays:u,todaySales:d,todayEvents:m,salesTodayTotal:j,eventsTodayCount:b,salesMonths:p,eventMonths:O,salesMonth:v,salesMonthTotal:f,eventsMonthCount:h,raseeds:y,refreshChartData:function(){return null===i||void 0===i?void 0:i.refetch()}}}(),l=s.salesDays,d=s.eventDays,u=s.nextEventDays,m=s.todayEvents,j=s.salesTodayTotal,b=s.eventsTodayCount,p=s.salesMonths,O=s.eventMonths,v=s.salesMonth,f=s.salesMonthTotal,h=s.eventsMonthCount,y=s.raseeds,x=s.refreshChartData,g=r.palette.primary.light,w=r.palette.secondary.main,C=r.palette.primary.light;return Object(Fr.jsx)(Gd,{menuitem:o,employees:c,departments:i,isRTL:n,words:t,user:a,theme:r,refresh:function(){x&&x()},children:Object(Fr.jsx)(ua.a,{style:{height:window.innerHeight-90,overflow:"auto"},children:Object(Fr.jsx)(ua.a,{style:{margin:20,marginBottom:20},children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:y&&f&&h&&Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:6,md:2,children:Object(Fr.jsx)(Vd,{title:n?"\u0627\u0644\u0635\u0646\u062f\u0648\u0642":"Cash",value:Zc(null===y||void 0===y?void 0:y.cash),icon:"cash",color:C,salesColor:g,eventColor:w})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,md:2,children:Object(Fr.jsx)(Vd,{title:t.card,value:Zc(null===y||void 0===y?void 0:y.card),icon:"card",color:C,salesColor:g,eventColor:w})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,md:2,children:Object(Fr.jsx)(Zl,{title:n?"\u0627\u0644\u064a\u0648\u0645":"Today",value:Zc(j),icon:"sales",color:g,desc:n?"\u0645\u0628\u064a\u0639\u0627\u062a \u0647\u0630\u0627 \u0627\u0644\u064a\u0648\u0645":"Today Sales"})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,md:2,children:Object(Fr.jsx)(Zl,{title:n?"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631":"This Month",value:Zc(f),icon:"sales",color:g,desc:n?"\u0645\u0628\u064a\u0639\u0627\u062a \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631":"This Month Sales"})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,md:2,children:Object(Fr.jsx)(Zl,{title:n?"\u0627\u0644\u064a\u0648\u0645":"Today",value:ts(b),icon:"event",color:w,desc:n?"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u064a\u0648\u0645":"Appointments Today"})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,md:2,children:Object(Fr.jsx)(Zl,{title:n?"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631":"This Month",value:ts(h),icon:"event",color:w,desc:n?"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631":"Appointments This month"})})]})}),m&&Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:4,children:Object(Fr.jsx)(Wd,{pricolor:g,seccolor:w,data:m,height:300,prim:C,isRTL:n})}),l&&Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:8,children:Object(Fr.jsx)(kd,{dataKey:"total",isRTL:n,data:l,color:g,height:300,prim:C})}),u&&Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:4,children:Object(Fr.jsx)(Ld,{dataKey:"count",theme:r,isRTL:n,data:u,height:300,prim:C})}),d&&Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:8,children:Object(Fr.jsx)(_d,{dataKey:"count",isRTL:n,data:d,color:w,pricolor:g,seccolor:w,height:300,prim:C})}),v&&Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:6,children:Object(Fr.jsx)(zd,{data:v,isRTL:n,color:g,title:n?"\u0645\u0628\u064a\u0639\u0627\u062a \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631 \u0628\u062d\u0633\u0628 \u0627\u0644\u0645\u0648\u0638\u0641":"Month Sales - Employee",employees:c.filter((function(e){return 1===e.resType})),prim:C,height:400})}),v&&Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:6,children:Object(Fr.jsx)(zd,{data:v,isRTL:n,color:g,title:n?"\u0645\u0628\u064a\u0639\u0627\u062a \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631 \u0628\u062d\u0633\u0628 \u0627\u0644\u0642\u0633\u0645":"Month Sales - Department",departments:i.filter((function(e){return 1===e.depType})),height:400,prim:C})}),p&&Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:6,children:Object(Fr.jsx)(Ed,{data:p,isRTL:n,color:g,prim:C,dataKey:"total",title:n?"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a \u0628\u062d\u0633\u0628 \u0627\u0644\u0634\u0647\u0648\u0631":"Months Sales",height:400})}),O&&Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:6,children:Object(Fr.jsx)(Ed,{data:O,isRTL:n,color:w,dataKey:"count",title:n?"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0628\u062d\u0633\u0628 \u0627\u0644\u0634\u0647\u0648\u0631":"Months Appointment",prim:C,height:400})})]})})})})}var ou=n(69),iu=n(72),cu=n(873),su=n(904),lu=n(626),du=n(353),uu=n.n(du),mu=n(354),ju=n.n(mu);function bu(e){return Object(Fr.jsx)(uu.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:Object(Fr.jsx)(Ql.a,Object(bt.a)({},e))})}function pu(e){var t=e.children,n=e.isRTL,a=e.theme,r=e.open,o=e.onClose,i=e.title,c=e.onSubmit,s=e.width,l=e.height,d=e.alrt,u=e.mt,m=void 0===u?30:u,j=e.mb,b=void 0===j?70:j,p=e.maxWidth,O=void 0===p?"sm":p,v=e.onlyclose,f=void 0!==v&&v,h=e.print,y=e.savetitle,x=void 0===y?n?"\u062d\u0641\u0638":"Save":y,g=e.taskvalue,w=e.preventclose,C=void 0!==w&&w,S=e.saving,I=e.bgcolor,N=I?Object(er.c)(I,.1):"#eee";return Object(Fr.jsxs)(Cl.a,{open:r,onClose:C?function(){return null}:o,PaperComponent:bu,"aria-describedby":"scroll-dialog-description","aria-labelledby":"draggable-dialog-title",maxWidth:O,children:[Object(Fr.jsxs)(ua.a,{id:"draggable-dialog-title",style:{direction:n?"rtl":"ltr",backgroundColor:N,cursor:"move",height:60,display:"flex",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(Fr.jsxs)(la.a,{style:{fontSize:20,marginRight:20,marginLeft:20},children:[i," ",g?" - ".concat(null===g||void 0===g?void 0:g.title):""]}),Object(Fr.jsx)(Jr.a,{onClick:o,children:Object(Fr.jsx)(ju.a,{style:{fontSize:26,color:"#777"}})})]}),Object(Fr.jsx)(Il.a,{style:{width:s||void 0,height:l||void 0,direction:n?"rtl":"ltr",paddingTop:m,paddingBottom:b},dividers:!0,children:Ze.a.cloneElement(t,Object(bt.a)({},e))}),d.show&&Object(Fr.jsx)(fd,{isRTL:n,type:null===d||void 0===d?void 0:d.type,msg:null===d||void 0===d?void 0:d.msg}),Object(Fr.jsxs)(lu.a,{style:{direction:n?"rtl":"ltr",backgroundColor:a?Object(er.c)(a.palette.primary.main,.05):"#dddd",height:60,alignItems:"center",paddingRight:5,paddingLeft:5,flexDirection:n?"row-reverse":"row"},children:[o&&Object(Fr.jsx)(oa.a,{style:{width:100,height:36,marginRight:10,marginLeft:10},variant:"outlined",onClick:o,color:"primary",children:Object(Fr.jsx)(la.a,{variant:"subtitle2",children:n?"\u0627\u063a\u0644\u0627\u0642":"Close"})}),h&&Object(Fr.jsx)(oa.a,{style:{width:100,height:36,marginRight:10,marginLeft:10},variant:"contained",onClick:h,color:"primary",children:Object(Fr.jsx)(la.a,{variant:"subtitle2",children:n?"\u0637\u0628\u0627\u0639\u0629":"print"})}),!f&&Object(Fr.jsxs)(oa.a,{style:{width:100,height:36,marginRight:10,marginLeft:10},variant:"contained",onClick:c,color:"primary",disabled:S,children:[Object(Fr.jsx)(la.a,{style:{marginLeft:5,marginRight:5},variant:"subtitle2",children:x}),S&&Object(Fr.jsx)(Cc.a,{color:"primary",size:16}),h&&Object(Fr.jsx)(la.a,{style:{marginLeft:5,marginRight:5,fontSize:10,color:"#ddd"},variant:"subtitle2",children:n?"(\u0637\u0628\u0627\u0639\u0629)":"(Print)"})]})]})]})}var Ou=function(e){var t=e.open,n=e.onClose,a=e.row,o=e.isNew,i=e.setNewValue,c=e.addAction,s=e.editAction,l=e.newtext,d=e.theme,u=e.depType,m=Object(Xe.useState)(!1),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)({show:!1,msg:"",type:void 0}),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(na.c)(r.departResolver),x=y.register,g=y.handleSubmit,w=y.errors,C=y.reset,S=Object(Xe.useContext)(Rr),I=S.translate,N=I.words,A=I.isRTL,T=S.store.user,$=Object(Xe.useState)("#AAAAAA"),k=Object(nt.a)($,2),D=k[0],R=k[1];Object(Xe.useEffect)((function(){a&&a._id&&R(a.color)}),[a]);var E=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,r,i,l;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0),n=t.name.trim(),r=t.nameAr.trim(),i=t.desc,l={_id:a&&a._id?a._id:void 0,name:n,nameAr:r,depType:u,desc:i,color:D,branch:T.branch,userId:T._id},L(o?c:s,o?"createDepartment":"updateDepartment",l);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n,a){var r,o;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({variables:a});case 3:return r=e.sent,o=Js(r,n),i&&o&&i(o),p(!1),e.next=9,Fs(h,A);case 9:P(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),_(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(h,A);case 3:e.next=10;break;case 5:return e.next=7,Hs(h,A);case 7:C(),R("#AAAAAA"),console.log(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){n(),C(),R("#AAAAAA"),p(!1)},q=A?o?"\u0627\u0636\u0627\u0641\u0629 \u0642\u0633\u0645":"\u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0642\u0633\u0645":o?"New Department":"Edit Department";return Object(Fr.jsx)(pu,{isRTL:A,open:t,onClose:n,title:q,onSubmit:function(){g(E)()},theme:d,alrt:f,saving:b,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:10,children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:1,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{autoFocus:!0,required:!0,name:"nameAr",label:N.name,register:x,errors:w,row:a,fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{required:!0,name:"name",label:N.nameEn,register:x,errors:w,row:a,fullWidth:!0,newtext:l,mb:0})})]}),Object(Fr.jsx)(xd,{name:"desc",label:N.description,register:x,errors:w,row:a,fullWidth:!0,multiline:!0,rowsMax:4,rows:4}),Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:8,children:Object(Fr.jsx)(da.a,{disabled:!0,name:"color",value:(null===a||void 0===a?void 0:a.color)?a.color:D,variant:"outlined",style:{backgroundColor:D,width:200},InputProps:{style:{borderRadius:5,color:"#fff"}},margin:"dense"})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:8,children:Object(Fr.jsx)(Ml,{setColor:R,color:D})})]})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:1})]})})};function vu(e){var t=e.isRTL,n=e.daysoff,a=e.daysoffChange;return Object(Fr.jsxs)(Al.a,{component:"fieldset",children:[Object(Fr.jsx)(la.a,{variant:"subtitle1",style:{fontWeight:"bold",marginBottom:10},children:t?"\u064a\u0648\u0645 \u0627\u0644\u0639\u0637\u0644\u0629":"Day Off"}),Object(Fr.jsx)(Bl.a,{children:dr.map((function(e){return Object(Fr.jsx)(ql.a,{style:{margin:0,padding:0,paddingBottom:5},control:Object(Fr.jsx)(Ic.a,{checked:n[e.short],onChange:a,color:"primary",name:e.short,style:{margin:0,padding:0,paddingBottom:5}}),label:t?e.nameAr:e.name},e.id)}))})]})}function fu(e){var t=e.name,n=e.options,a=e.value,r=e.setSelectValue,o=e.setSelectError,i=e.selectError,c=e.refernce,s=e.register,l=e.openAdd,d=e.title,u=e.ms,m=e.openOnFocus,j=e.classes,b=e.basename,p=e.resetRelated,O=e.disabled,v=e.isRTL,f=e.setPricevalue,h=e.mb,y=e.day,x=e.width,g=e.showphone;return Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:l?11:12,children:Object(Fr.jsx)(kl.a,{openOnFocus:m,autoSelect:!0,fullWidth:!0,options:n,getOptionLabel:function(e){var t;t=b?v?null===e||void 0===e?void 0:e["".concat(b,"Ar")]:null===e||void 0===e?void 0:e[b]:e.title&&!e.name?null===e||void 0===e?void 0:e.title:v?null===e||void 0===e?void 0:e.nameAr:null===e||void 0===e?void 0:e.name;var n=(null===e||void 0===e?void 0:e.phone)?null===e||void 0===e?void 0:e.phone:"";return n&&g?"".concat(t," - ").concat(n):t||""},getOptionSelected:function(e,t){return e._id===t._id},renderOption:function(e){return"item"===t?Object(Fr.jsx)(El,{isRTL:v,item:e}):Object(Fr.jsx)(Dl,{day:y,isRTL:v,item:e,basename:b,showphone:g})},value:a,disabled:O,onChange:function(e,t){r(t),o&&o(!1),p&&p(null),f&&f(null===t||void 0===t?void 0:t.price)},style:{marginInlineStart:u||void 0,width:x||void 0,direction:v?"rtl":"ltr"},classes:j?{input:j.smallFont}:void 0,renderInput:function(e){return Object(Fr.jsx)(da.a,Object(bt.a)(Object(bt.a)({},e),{},{id:t,name:t,label:d,variant:"outlined",error:i,style:{marginBottom:h},fullWidth:!0,inputRef:function(e){c&&(c.current=e,s&&s(e))}}))}})}),l&&Object(Fr.jsx)(Gl.a,{item:!0,xs:1,children:Object(Fr.jsx)(Jr.a,{disableFocusRipple:!0,onClick:function(){l()},style:{width:30,height:30,marginTop:15},children:Object(Fr.jsx)(li.a,{style:{color:"#aaa"}})})})]})}var hu=function(e){var t=e.open,n=e.onClose,a=e.row,o=e.isNew,i=e.setNewValue,c=e.addAction,s=e.editAction,l=e.newtext,d=e.theme,u=e.resKind,m=e.resType,j=Object(Xe.useState)(!1),b=Object(nt.a)(j,2),p=b[0],O=b[1],v=Object(Xe.useState)({show:!1,msg:"",type:void 0}),f=Object(nt.a)(v,2),h=f[0],y=f[1],x=Object(Xe.useState)(null),g=Object(nt.a)(x,2),w=g[0],C=g[1],S=Object(Xe.useState)(!1),I=Object(nt.a)(S,2),N=I[0],A=I[1],T=Object(Xe.useState)("#000000"),$=Object(nt.a)(T,2),k=$[0],D=$[1],R=Ze.a.useState(cr),E=Object(nt.a)(R,2),L=E[0],_=E[1],P=Ze.a.useRef(),q=Object(na.c)(r.emppResolver),B=q.register,W=q.handleSubmit,z=q.errors,V=q.reset,F=Object(Xe.useContext)(Rr),M=F.translate,H=M.words,U=M.isRTL,Q=F.store.user,G=Md().departments;Object(Xe.useEffect)((function(){if(a&&a._id){var e=a.departmentId,t=G.filter((function(t){return t._id===e}))[0];a.daysoff&&_(JSON.parse(a.daysoff)),C(t),D(a.color)}}),[a]);var K=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,r,i,l,d,j,b;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0),n=t.name.trim(),r=t.nameAr.trim(),i=t.phone,l=t.email,d=t.info,j=w?{departmentId:w._id,departmentName:w.name,departmentNameAr:w.nameAr,departmentColor:w.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},b={_id:a&&a._id?a._id:void 0,name:n,nameAr:r,resKind:u,resType:m,email:l,color:k,info:d,daysoff:JSON.stringify(L),phone:i,department:j,branch:Q.branch,userId:Q._id},Y(o?c:s,o?"createEmployee":"updateEmployee",b);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n,a){var r,o;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({variables:a});case 3:return r=e.sent,o=Js(r,n),i&&o&&i(o,"employee"),O(!1),e.next=9,Fs(y,U);case 9:Z(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),J(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(y,U);case 3:e.next=9;break;case 5:return e.next=7,Hs(y,U);case 7:X(),console.log(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){V(),C(null),D("#000000"),_(cr),O(!1)},Z=function(){n(),X()},ee=U?o?"\u0627\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641":"\u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0645\u0648\u0638\u0641":o?"New Employee":"Edit Employee";return Object(Fr.jsx)(pu,{isRTL:U,open:t,onClose:Z,title:ee,onSubmit:function(){W(K)()},theme:d,alrt:h,mb:50,saving:p,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:10,children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:1,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{required:!0,autoFocus:!0,name:"nameAr",label:H.name,register:B,errors:z,row:a,fullWidth:!0,margin:20,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{required:!0,name:"name",label:H.nameEn,register:B,errors:z,row:a,fullWidth:!0,newtext:l,margin:20,mb:0})})]}),Object(Fr.jsx)(xd,{name:"phone",label:H.phoneNumber,register:B,errors:z,row:a,fullWidth:!0,margin:20,mb:10}),Object(Fr.jsx)(xd,{name:"email",label:H.email,register:B,errors:z,row:a,fullWidth:!0,margin:20,mb:10}),Object(Fr.jsx)(fu,{name:"department",title:H.department,words:H,options:G.filter((function(e){return e.depType===m})),value:w,setSelectValue:C,setSelectError:A,selectError:N,refernce:P,register:B,isRTL:U,fullWidth:!0,mb:20}),Object(Fr.jsx)(xd,{name:"info",label:H.info,register:B,errors:z,row:a,fullWidth:!0,multiline:!0,rowsMax:4,rows:4}),Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(vu,{isRTL:U,daysoff:L,daysoffChange:function(e){_(Object(bt.a)(Object(bt.a)({},L),{},Object(Qr.a)({},e.target.name,e.target.checked)))}})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:6,children:[Object(Fr.jsx)(da.a,{disabled:!0,name:"color",value:(null===a||void 0===a?void 0:a.color)?a.color:k,variant:"outlined",style:{width:200,backgroundColor:k},InputProps:{style:{borderRadius:5,color:"#fff"}},margin:"dense"}),Object(Fr.jsx)(Ml,{setColor:D,color:k})]})]})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:1})]})})},yu=function(e){var t=e.open,n=e.onClose,a=e.row,o=e.isNew,i=e.setNewValue,c=e.addAction,s=e.editAction,l=e.newtext,d=e.theme,u=Object(Xe.useState)(!1),m=Object(nt.a)(u,2),j=m[0],b=m[1],p=Object(Xe.useState)({show:!1,msg:"",type:void 0}),O=Object(nt.a)(p,2),v=O[0],f=O[1],h=Object(na.c)(r.custResolver),y=h.register,x=h.handleSubmit,g=h.errors,w=h.reset,C=Object(Xe.useContext)(Rr),S=C.translate,I=S.words,N=S.isRTL,A=C.store.user,T=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,r,i,l,d,u,m;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0),n=t.name.trim(),r=t.nameAr.trim(),i=t.phone,l=t.email,d=t.mobile,u=t.address,m={_id:a&&a._id?a._id:void 0,name:n,nameAr:r,phone:i,email:l,mobile:d,address:u,branch:A.branch,userId:A._id},$(o?c:s,o?"createCustomer":"updateCustomer",m);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,a,r){var o,c;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({variables:r});case 3:return o=e.sent,c=Js(o,a),i&&c&&i(c,"customer"),w(),b(!1),e.next=10,Fs(f,N);case 10:n(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),k(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(f,N);case 3:e.next=9;break;case 5:return e.next=7,Hs(f,N);case 7:w(),console.log(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=N?o?"\u0627\u0636\u0627\u0641\u0629 \u0639\u0645\u064a\u0644":"\u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0639\u0645\u064a\u0644":o?"New Customer":"Edit Customer";return Object(Fr.jsx)(pu,{isRTL:N,open:t,onClose:n,title:D,onSubmit:function(){x(T)()},theme:d,alrt:v,saving:j,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:10,children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{autoFocus:!0,required:!0,name:"nameAr",label:I.name,register:y,errors:g,row:a,fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{required:!0,name:"name",label:I.nameEn,register:y,errors:g,row:a,fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{required:!0,name:"phone",label:I.phoneNumber,register:y,errors:g,row:a,newtext:l,fullWidth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{name:"mobile",label:I.mobile,register:y,errors:g,row:a,newtext:l,fullWidth:!0})})]}),Object(Fr.jsx)(xd,{name:"email",label:I.email,register:y,errors:g,row:a,fullWidth:!0}),Object(Fr.jsx)(xd,{name:"address",label:I.theaddress,register:y,errors:g,row:a,fullWidth:!0,multiline:!0,rowsMax:4,rows:4})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:1})]})})},xu=function(){var e,t,n="ar"===Gn("store").lang,a=Object(Fd.a)(_t,{variables:{isRTL:n,depType:2}}),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(ta.a)(nn,{refetchQueries:[{query:_t,variables:{isRTL:n,depType:2}},{query:_t,variables:{isRTL:n}}]}),s=Object(nt.a)(c,1)[0],l=Object(ta.a)(rn,{refetchQueries:[{query:_t,variables:{isRTL:n,depType:2}},{query:_t,variables:{isRTL:n}}]}),d=Object(nt.a)(l,1)[0],u=Object(ta.a)(an,{refetchQueries:[{query:_t,variables:{isRTL:n,depType:2}},{query:_t,variables:{isRTL:n}}]}),m=Object(nt.a)(u,1)[0];Object(Xe.useEffect)((function(){o()}),[o]);return{departments:(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.getDepartments)||void 0===t?void 0:t.data)||[],refreshdepartment:function(){return null===i||void 0===i?void 0:i.refetch()},addDepartment:s,editDepartment:d,removeDepartment:m}},gu=function(e){var t=e.open,n=e.onClose,a=e.row,o=e.isNew,i=e.setNewValue,c=e.addAction,s=e.editAction,l=e.newtext,d=e.theme,u=Object(Xe.useState)(!1),m=Object(nt.a)(u,2),j=m[0],b=m[1],p=Object(Xe.useState)({show:!1,msg:"",type:void 0}),O=Object(nt.a)(p,2),v=O[0],f=O[1],h=Object(Xe.useState)(null),y=Object(nt.a)(h,2),x=y[0],g=y[1],w=Object(Xe.useState)(!1),C=Object(nt.a)(w,2),S=C[0],I=C[1],N=Ze.a.useRef(),A=Object(Xe.useState)(null),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Object(Xe.useState)(!1),R=Object(nt.a)(D,2),E=R[0],L=R[1],_=Ze.a.useRef(),P=Object(Xe.useState)(null),q=Object(nt.a)(P,2),B=q[0],W=q[1],z=Object(Xe.useState)([]),V=Object(nt.a)(z,2),F=V[0],M=V[1],H=Object(na.c)(r.itmResolver),U=H.register,Q=H.handleSubmit,G=H.errors,K=H.reset,Y=Object(Xe.useContext)(Rr),J=Y.translate,X=J.words,Z=J.isRTL,ee=Y.store.user,te=xu().departments,ne=Zd().employees;Object(Xe.useEffect)((function(){if(ne&&ne.length>0){var e=ne.filter((function(e){return e.resKind===B&&2===e.resType}));M(e)}}),[B,ne]),Object(Xe.useEffect)((function(){if(a&&a._id){var e=a.departmentId,t=a.employeeId;if(W(null),e){var n=te.filter((function(t){return t._id===e}))[0];g(n)}if(t){var r=ne.filter((function(e){return e._id===t}))[0];k(r)}}}),[a]);var ae=function(){K(),g(null),I(!1),k(null),L(!1),W(null),M([])},re=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,r,i,l,d,u,m,j;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0),n=t.name.trim(),r=t.nameAr.trim(),i=t.price,l=t.unit,d=t.desc,u=x?{departmentId:x._id,departmentName:x.name,departmentNameAr:x.nameAr,departmentColor:x.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},m=$?{employeeId:$._id,employeeName:$.name,employeeNameAr:$.nameAr,employeeColor:$.color}:{employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0},j={_id:a&&a._id?a._id:void 0,itemType:2,name:n,nameAr:r,price:i,unit:l,desc:d,department:u,employee:m,branch:ee.branch,userId:ee._id},oe(o?c:s,o?"createItem":"updateItem",j);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n,a){var r,o;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({variables:a});case 3:return r=e.sent,o=Js(r,n),i&&o&&i(o,"item"),b(!1),e.next=9,Fs(f,Z);case 9:ce(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),ie(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(f,Z);case 3:e.next=9;break;case 5:return e.next=7,Hs(f,Z);case 7:ae(),console.log(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){ae(),n()},se=Z?o?"\u062e\u062f\u0645\u0629 \u062c\u062f\u064a\u062f\u0629":"\u062a\u0639\u062f\u064a\u0644 \u062e\u062f\u0645\u0629":o?"New Service":"Edit Service";return Object(Fr.jsx)(pu,{isRTL:Z,open:t,onClose:ce,title:se,onSubmit:function(){Q(re)()},theme:d,alrt:v,saving:j,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:10,children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{required:!0,autoFocus:!0,name:"nameAr",label:X.name,register:U,errors:G,row:a,fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{required:!0,name:"name",label:X.nameEn,register:U,errors:G,row:a,newtext:l,fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{required:!0,name:"price",label:X.price,register:U,errors:G,type:"number",row:a,fullWidth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{name:"unit",label:X.unit,register:U,errors:G,row:a,newtext:l,fullWidth:!0,mb:0})})]}),Object(Fr.jsx)(fu,{name:"department",title:X.department,words:X,options:te,value:x,setSelectValue:g,setSelectError:I,selectError:S,refernce:N,register:U,isRTL:Z,mb:20}),Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:B,onChange:function(e){W(Number(e.target.value)),k(null)},children:[Object(Fr.jsx)(ql.a,{value:1,control:Object(Fr.jsx)(su.a,{color:"primary"}),label:Z?"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Employees"}),Object(Fr.jsx)(ql.a,{value:2,control:Object(Fr.jsx)(su.a,{color:"primary"}),label:Z?"\u0627\u0644\u0645\u0648\u0627\u0631\u062f":"Resourses"})]}),Object(Fr.jsx)(fu,{name:"employee",title:2===B?X.resourses:X.employee,disabled:!B,words:X,options:F,value:$,setSelectValue:k,setSelectError:L,selectError:E,refernce:_,register:U,isRTL:Z,mb:20}),Object(Fr.jsx)(xd,{name:"desc",label:X.description,register:U,errors:G,row:a,fullWidth:!0,multiline:!0,rowsMax:4,rows:4})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:1})]})})},wu=n(432),Cu=function(){return{popper:{width:"fit-content"}}},Su=function(e){return Object(Fr.jsx)(wu.a,Object(bt.a)(Object(bt.a)({},e),{},{style:Cu.popper,placement:"bottom-start"}))};function Iu(e){var t=e.options,n=e.addItem,r=e.words,o=e.employees,i=e.departments,c=e.classes,s=e.user,l=e.isRTL,d=Object(Xe.useState)(!1),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Object(Xe.useState)(null),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=Object(Xe.useState)(1),h=Object(nt.a)(f,2),y=h[0],x=h[1],g=Object(Xe.useState)(0),w=Object(nt.a)(g,2),C=w[0],S=w[1],I=Object(Xe.useState)(null),N=Object(nt.a)(I,2),A=N[0],T=N[1],$=Object(Xe.useState)(!1),k=Object(nt.a)($,2),D=k[0],R=k[1],E=Ze.a.useRef(),L=Object(Xe.useState)(null),_=Object(nt.a)(L,2),P=_[0],q=_[1],B=Object(Xe.useState)(!1),W=Object(nt.a)(B,2),z=W[0],V=W[1],F=Ze.a.useRef(),M=Object(Xe.useState)(null),H=Object(nt.a)(M,2),U=H[0],Q=H[1],G=Object(Xe.useState)([]),K=Object(nt.a)(G,2),Y=K[0],J=K[1],X=Object(na.c)(a.invItemResolver),Z=X.register,ee=X.handleSubmit,te=X.errors,ne=Ze.a.useRef();Object(Xe.useEffect)((function(){if(o&&o.length>0){var e=o.filter((function(e){return e.resKind===U&&2===e.resType}));J(e)}}),[U,o]),Object(Xe.useEffect)((function(){if(O){if(O.employeeId){var e=o.filter((function(e){return e._id===O.employeeId}))[0];T(e)}if(O.departmentId){var t=i.filter((function(e){return e._id===O.departmentId}))[0];q(t)}}}),[o,i,O]);return Object(Fr.jsx)(ua.a,{display:"flex",style:{flex:1,marginTop:10,marginBottom:10,borderRadius:5},children:Object(Fr.jsxs)(ua.a,{display:"flex",style:{flex:1,alignItems:"center",justifyContent:"space-between"},children:[Object(Fr.jsx)(kl.a,{PopperComponent:Su,autoSelect:!0,size:"small",options:t,getOptionLabel:function(e){return l?e.nameAr:e.name},getOptionSelected:function(e,t){return e._id===t._id},renderOption:function(e){return Object(Fr.jsx)(El,{isRTL:l,item:e})},value:O,onChange:function(e,t){v(t),S((null===t||void 0===t?void 0:t.price)||0),t&&j(!1)},classes:{input:c.smallFont},renderInput:function(e){return Object(Fr.jsx)(da.a,Object(bt.a)(Object(bt.a)({},e),{},{id:"service",name:"service",label:"".concat(r.service,"/").concat(r.product),error:m,variant:"outlined",style:{width:220},inputRef:function(e){ne.current=e},InputLabelProps:{style:{fontSize:l?16:13}}}))}}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(ua.a,{style:{marginRight:10,marginTop:-20},children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:U,onChange:function(e){Q(Number(e.target.value)),T(null)},children:[Object(Fr.jsx)(ql.a,{value:1,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:l?"\u0627\u0644\u0641\u0646\u064a":"Employee"}),Object(Fr.jsx)(ql.a,{value:2,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:l?"\u0627\u0644\u0645\u0648\u0631\u062f":"Resourse"})]})}),Object(Fr.jsx)(Pl,{name:"employee",words:r,options:Y,disabled:!U,value:A,setSelectValue:T,setSelectError:R,selectError:D,refernce:E,register:Z,width:180,ms:0,nolabel:!0,noPlus:!0,classes:c,isRTL:l})]}),Object(Fr.jsx)(Pl,{name:"department",title:r.department,words:r,options:i.filter((function(e){return 2===e.depType})),value:P,setSelectValue:q,setSelectError:V,selectError:z,refernce:F,register:Z,width:200,ms:0,nolabel:!0,noPlus:!0,classes:c,isRTL:l}),Object(Fr.jsx)(da.a,{name:"qty",onChange:function(e){return x(Number(e.target.value))},value:y,label:r.qty,variant:"outlined",inputRef:Z,type:"number",error:!!te.qty,style:{width:80},margin:"dense",onFocus:function(e){return e.target.select()},inputProps:{style:{textAlign:"right",fontSize:13,height:13}}}),Object(Fr.jsx)(da.a,{name:"price",onChange:function(e){return S(Number(e.target.value))},value:C,label:r.price,error:!!te.price,variant:"outlined",inputRef:Z,type:"number",style:{width:100},margin:"dense",onFocus:function(e){return e.target.select()},inputProps:{style:{textAlign:"right",fontSize:13,height:13}}}),Object(Fr.jsx)(bi.a,{style:{marginLeft:10},color:"primary",size:"small",onClick:ee((function(){if(!O)return j(!0),void ne.current.focus();var e=A?{employeeId:A._id,employeeName:A.name,employeeNameAr:A.nameAr,employeeColor:A.color}:void 0,t=P?{departmentId:P._id,departmentName:P.name,departmentNameAr:P.nameAr,departmentColor:P.color}:void 0,a=Object(bt.a)(Object(bt.a)(Object(bt.a)(Object(bt.a)({},O),e),t),{},{itemqty:y,itemprice:C,itemtotal:y*C,itemtotalcost:y*O.cost,branch:s.branch,userId:s._id});n(a),S(0),x(1),v(null),T(null),q(null),Q(null),ne.current.focus()})),title:"Create new row",children:Object(Fr.jsx)(li.a,{})})]})})}var Nu=n(16),Au=n(6),Tu=n(229),$u=n.n(Tu),ku={add:function(e){var t=e.onExecute;return Object(Fr.jsx)("div",{style:{textAlign:"center"},children:Object(Fr.jsx)(ua.a,{m:1,children:Object(Fr.jsx)(bi.a,{color:"primary",onClick:t,title:"Create new row",children:Object(Fr.jsx)(li.a,{})})})})},edit:function(e){var t=e.onExecute;return Object(Fr.jsx)(Jr.a,{onClick:t,style:{height:30,width:30},title:"Edit row",children:Object(Fr.jsx)($u.a,{style:{fontSize:22,color:"#aaa"}})})},delete:function(e){var t=e.onExecute;return Object(Fr.jsx)(Jr.a,{onClick:t,style:{height:30,width:30},title:"Delete row",children:Object(Fr.jsx)(_s.a,{style:{fontSize:22,color:"#aaa"}})})}},Du=function(e){var t=e.id,n=e.onExecute,a=ku[t];return Object(Fr.jsx)(a,{onExecute:n})},Ru=n(651),Eu=n.n(Ru),Lu=function(e){var t=e.open,n=e.onClose,r=e.row,o=(e.isNew,e.editAction),i=e.isRTL,c=e.words,s=e.user,l=wt(),d=Object(Xe.useState)(!1),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Object(Xe.useState)(null),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=Object(Xe.useState)(1),h=Object(nt.a)(f,2),y=h[0],x=h[1],g=Object(Xe.useState)(0),w=Object(nt.a)(g,2),C=w[0],S=w[1],I=Object(Xe.useState)(null),N=Object(nt.a)(I,2),A=N[0],T=N[1],$=Object(Xe.useState)(!1),k=Object(nt.a)($,2),D=k[0],R=k[1],E=Ze.a.useRef(),L=Object(Xe.useState)(null),_=Object(nt.a)(L,2),P=_[0],q=_[1],B=Object(Xe.useState)([]),W=Object(nt.a)(B,2),z=W[0],V=W[1],F=Object(Xe.useState)(null),M=Object(nt.a)(F,2),H=M[0],U=M[1],Q=Object(Xe.useState)(!1),G=Object(nt.a)(Q,2),K=G[0],Y=G[1],J=Ze.a.useRef(),X=Object(na.c)(a.invItemResolver),Z=X.register,ee=X.handleSubmit,te=X.errors,ne=Md().departments,ae=eu().services,re=Zd().employees,oe=Ze.a.useRef();Object(Xe.useEffect)((function(){if(r&&r._id){S(r.itemprice),x(r.itemqty);var e=r._id,t=r.departmentId,n=r.employeeId;if(t){var a=ne.filter((function(e){return e._id===t}))[0];U(a)}if(n){var o=re.filter((function(e){return e._id===n}))[0];T(o)}if(e){var i=ae.filter((function(t){return t._id===e}))[0];v(i)}}}),[t]),Object(Xe.useEffect)((function(){if(re&&re.length>0){var e=re.filter((function(e){return e.resType===P}));V(e)}}),[P,re]);var ie=function(){n(),S(0),x(1),v(null),T(null)};return Object(Fr.jsx)(Sl,{open:t,onClose:ie,maxWidth:"lg",classes:l,children:Object(Fr.jsx)(ua.a,{display:"flex",style:{flex:1,margin:20,direction:i?"rtl":"ltr"},children:Object(Fr.jsxs)(ua.a,{display:"flex",style:{flex:1,alignItems:"center",justifyContent:"space-between"},children:[Object(Fr.jsx)(kl.a,{autoSelect:!0,size:"small",options:ae,getOptionLabel:function(e){return i?e.nameAr:e.name},getOptionSelected:function(e,t){return e._id===t._id},renderOption:function(e){return Object(Fr.jsx)(El,{item:e})},disabled:!0,value:O,onChange:function(e,t){v(t),t&&j(!1)},classes:{input:l.smallFont},renderInput:function(e){return Object(Fr.jsx)(da.a,Object(bt.a)(Object(bt.a)({},e),{},{id:"service",name:"service",label:c.service,error:m,variant:"outlined",style:{width:180},inputRef:function(e){oe.current=e},InputLabelProps:{style:{fontSize:13}}}))}}),Object(Fr.jsx)(Pl,{name:"department",title:c.department,words:c,options:ne,value:H,setSelectValue:U,setSelectError:Y,selectError:K,refernce:J,register:Z,width:200,ms:0,nolabel:!0,noPlus:!0,classes:l,isRTL:i}),Object(Fr.jsx)(ua.a,{style:{position:"absolute",marginTop:-80,right:480},children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:P,onChange:function(e){q(Number(e.target.value)),T(null)},children:[Object(Fr.jsx)(ql.a,{value:1,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:i?"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Employees"}),Object(Fr.jsx)(ql.a,{value:2,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:i?"\u0627\u0644\u0645\u0648\u0627\u0631\u062f":"Resourses"})]})}),Object(Fr.jsx)(Pl,{name:"employee",title:c.employee,words:c,options:z,value:A,setSelectValue:T,setSelectError:R,selectError:D,refernce:E,register:Z,width:150,ms:0,nolabel:!0,noPlus:!0,classes:l,isRTL:i}),Object(Fr.jsx)(da.a,{name:"qty",onChange:function(e){return x(Number(e.target.value))},value:y,label:c.qty,variant:"outlined",inputRef:Z,type:"number",error:!!te.qty,style:{width:80},margin:"dense",onFocus:function(e){return e.target.select()},inputProps:{style:{textAlign:"right",fontSize:13,height:13}}}),Object(Fr.jsx)(da.a,{name:"price",onChange:function(e){return S(Number(e.target.value))},value:C,label:c.price,error:!!te.price,variant:"outlined",inputRef:Z,type:"number",style:{width:100},margin:"dense",onFocus:function(e){return e.target.select()},inputProps:{style:{textAlign:"right",fontSize:13,height:13}}}),Object(Fr.jsx)(bi.a,{style:{marginLeft:10},color:"primary",size:"small",onClick:ee((function(){if(!O)return j(!0),void oe.current.focus();var e=A?{employeeId:A._id,employeeName:A.name,employeeNameAr:A.nameAr,employeeColor:A.color}:{employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0},t=H?{departmentId:H._id,departmentName:H.name,departmentNameAr:H.nameAr,departmentColor:H.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},n=Object(bt.a)(Object(bt.a)(Object(bt.a)(Object(bt.a)({},O),e),t),{},{itemqty:y,itemprice:C,itemtotal:y*C,itemtotalcost:y*O.cost,branch:s.branch,userId:s._id});o(n),ie()})),title:"Create new row",children:Object(Fr.jsx)(Eu.a,{})})]})})})},_u=function(e){return e.index},Pu=function(e){var t=e.value;return Object(Fr.jsx)(ua.a,{display:"flex",style:{flex:1,alignItems:"center",justifyContent:"flex-end"},children:Object(Fr.jsx)(la.a,{variant:"subtitle2",children:t?t.toLocaleString("en-QA"):""})})},qu=function(e){return Object(Fr.jsx)(Au.b,Object(bt.a)({formatterComponent:Pu},e))},Bu=function(e){return Object(Fr.jsx)(Au.b,Object(bt.a)({formatterComponent:function(e){var t=e.value;return Object(Fr.jsx)(la.a,{variant:"subtitle2",children:Number(t)+1})}},e))},Wu=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.1)}}}}),{name:"TableComponent"})((function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.e.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))}));function zu(e){var t=e.rows,n=e.removeItem,a=e.editItem,r=e.isRTL,o=e.words,i=e.user,c=e.height,s=void 0===c?265:c,l=Object(Xe.useState)([{name:"index",title:o.no},{name:r?"nameAr":"name",title:o.service},{name:r?"employeeNameAr":"employeeName",title:o.employee},{name:"itemqty",title:o.qty},{name:"itemprice",title:o.price},{name:"itemtotal",title:o.total}]),d=Object(nt.a)(l,1)[0],u=Object(Xe.useState)([{columnName:"index",width:"10%",align:"left"},{columnName:"name",width:"auto"},{columnName:"itemqty",width:"10%",align:"right"},{columnName:"itemprice",width:"10%",align:"right"},{columnName:"itemtotal",width:"15%",align:"right"}]),m=Object(nt.a)(u,1)[0],j=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var a,r;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t.deleted)&&(r=a[0],n(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsx)(Ql.a,{style:{maxHeight:s,overflow:"auto",margin:10,minHeight:s},children:t&&Object(Fr.jsxs)(Od.c,{rows:t,columns:d,getRowId:_u,children:[Object(Fr.jsx)(Au.d,{onCommitChanges:j}),Object(Fr.jsx)(Od.e,{noDataCellComponent:function(){return Object(Fr.jsx)(ua.a,{display:"flex"})},columnExtensions:m,tableComponent:Wu}),Object(Fr.jsx)(qu,{for:["itemtotal","itemqty","itemprice"]}),Object(Fr.jsx)(Bu,{for:["index"]}),Object(Fr.jsx)(Od.i,{}),Object(Fr.jsx)(Od.g,{showDeleteCommand:!0,showEditCommand:!0,commandComponent:Du}),Object(Fr.jsx)(Vl,{addAction:function(){},editAction:a,children:Object(Fr.jsx)(Lu,{user:i,isRTL:r,words:o})}),Object(Fr.jsx)(zl.f,{name:"tableColumns",computed:function(e){var t=e.tableColumns;return[{key:"editCommand",type:Od.g.COLUMN_TYPE,width:70}].concat(Object(at.a)(t.filter((function(e){return e.type!==Od.g.COLUMN_TYPE}))))}})]})})}var Vu,Fu=function(e){e.items;var t=e.amount,n=e.total,a=e.words;return Object(Fr.jsxs)(ua.a,{display:"flex",style:{flex:1,flexDirection:"column",alignItems:"flex-end",justifyContent:"center",height:65},children:[Object(Fr.jsxs)(la.a,{style:{},children:[a.total," : ",Zc(n)]}),Object(Fr.jsxs)(la.a,{style:{fontWeight:"bold",fontSize:16},children:[a.grandtotal," : ",Zc(t)]})]})},Mu=function(e){var t=e.ptype,n=e.setPtype,a=e.isCash,r=e.setIsCash,o=e.words;return Object(Fr.jsx)(ua.a,{style:{backgroundColor:"#f3f3f3",padding:10,marginTop:10,borderRadius:10,marginBottom:10},children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:5,children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",value:a?"paid":"credit",onChange:function(e){"paid"===e.target.value?(r(!0),n("cash")):(r(!1),n(""))},children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{flexDirection:"row",padding:5},children:Object(Fr.jsx)(ql.a,{value:"paid",style:{minWidth:200,backgroundColor:a?"#e5e5e5":"#f3f3f3",marginInlineStart:5,borderRadius:10},control:Object(Fr.jsx)(su.a,{color:"primary"}),label:o.paid})}),Object(Fr.jsx)(ua.a,{display:"flex",style:{flexDirection:"row",padding:5},children:Object(Fr.jsx)(ql.a,{value:"credit",style:{minWidth:200,backgroundColor:a?"#f3f3f3":"#e5e5e5",marginInlineStart:5,borderRadius:10},control:Object(Fr.jsx)(su.a,{color:"primary"}),label:o.credit})})]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:7,children:a&&Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:t,onChange:function(e){n(e.target.value)},children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{flexDirection:"row",marginTop:5},children:Object(Fr.jsx)(ql.a,{value:"cash",control:Object(Fr.jsx)(su.a,{color:"secondary"}),label:o.cash})}),Object(Fr.jsx)(ua.a,{display:"flex",style:{flexDirection:"row",marginTop:5},children:Object(Fr.jsx)(ql.a,{value:"card",control:Object(Fr.jsx)(su.a,{color:"secondary"}),label:o.card})})]})})]})})},Hu=function(){return Object(Fr.jsx)(ua.a,{style:{position:"relative"},display:"flex",flex:"1",justifyContent:"center",alignItems:"center",children:Object(Fr.jsx)(Cc.a,{})})},Uu=n(230),Qu=n(67),Gu=n(68),Ku=n(94),Yu=n(97),Ju={fontSize:12,fontWeight:"bold"},Xu={fontSize:12},Zu=function(e){Object(Ku.a)(n,e);var t=Object(Yu.a)(n);function n(){var e;Object(Qu.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderTableHeader=function(){return Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1,children:Object(Fr.jsx)("div",{style:{paddingLeft:8,paddingRight:8,fontSize:13,fontWeight:"bold",borderWidth:1,borderColor:"#777",backgroundColor:"#eee",height:34,display:"flex",alignItems:"center",justifyContent:"center"},children:"No"})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)("div",{style:{paddingLeft:8,paddingRight:8,fontSize:13,fontWeight:"bold",borderTopWidth:1,borderTopColor:"#777",borderBottomWidth:1,borderBottomColor:"#777",backgroundColor:"#eee",height:34,display:"flex",alignItems:"center",justifyContent:"center"},children:"ITEM DESCRIPTION"})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)("div",{style:{paddingLeft:8,paddingRight:8,fontSize:13,fontWeight:"bold",borderWidth:1,borderColor:"#777",backgroundColor:"#eee",display:"flex",alignItems:"center",justifyContent:"center",height:34},children:"PRICE"})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:1,children:Object(Fr.jsx)("div",{style:{paddingLeft:8,paddingRight:8,fontSize:13,fontWeight:"bold",borderTopWidth:1,borderTopColor:"#777",borderBottomWidth:1,borderBottomColor:"#777",backgroundColor:"#eee",display:"flex",alignItems:"center",justifyContent:"center",height:34},children:"QTY"})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)("div",{style:{paddingLeft:8,paddingRight:8,fontSize:13,fontWeight:"bold",borderWidth:1,borderColor:"#777",backgroundColor:"#eee",display:"flex",alignItems:"center",justifyContent:"center",height:34},children:"TOTAL"})})]})},e.renderGrandTotal=function(){var t;return Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)("div",{style:{height:15}})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:7}),Object(Fr.jsx)(Gl.a,{item:!0,xs:3,children:Object(Fr.jsx)("div",{style:{padding:6,fontSize:13,fontWeight:"bold",borderWidth:1,borderColor:"#777",backgroundColor:"#eee",display:"flex",alignItems:"center",justifyContent:"center"},children:"GRAND TOTAL"})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)("div",{style:{padding:6,fontSize:13,fontWeight:"bold",borderTopWidth:1,borderTopColor:"#777",borderBottomWidth:1,borderBottomColor:"#777",borderRightWidth:1,borderRightColor:"#777",backgroundColor:"#eee",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:Zc(null===(t=e.props.printData)||void 0===t?void 0:t.total)})})]})},e.renderItem=function(e){var t=e.name.substring(0,42);return Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1,children:Object(Fr.jsx)("div",{style:{paddingLeft:8,paddingRight:8,fontSize:12,borderLeftWidth:1,borderLeftColor:"#777",borderBottomWidth:1,borderBottomColor:"#777",borderRightWidth:1,borderRightColor:"#777",display:"flex",alignItems:"center",justifyContent:"center",height:34},children:e.index+1})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsxs)("div",{style:{paddingLeft:8,paddingRight:8,fontSize:12,borderBottomWidth:1,borderBottomColor:"#777",display:"flex",alignItems:"center",justifyContent:"flex-start",height:34},children:[Object(Fr.jsx)("div",{children:t}),e.sn&&Object(Fr.jsxs)("div",{children:["SN: ",e.sn]})]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)("div",{style:{paddingLeft:8,paddingRight:8,fontSize:12,borderLeftWidth:1,borderLeftColor:"#777",borderBottomWidth:1,borderBottomColor:"#777",borderRightWidth:1,borderRightColor:"#777",display:"flex",alignItems:"center",justifyContent:"flex-end",height:34},children:Zc(e.itemprice)})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:1,children:Object(Fr.jsx)("div",{style:{paddingLeft:8,paddingRight:8,fontSize:12,borderBottomWidth:1,borderBottomColor:"#777",display:"flex",alignItems:"center",justifyContent:"center",height:34},children:e.itemqty})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)("div",{style:{paddingLeft:8,paddingRight:8,fontSize:12,fontWeight:"bold",borderBottomWidth:1,borderBottomColor:"#777",borderLeftWidth:1,borderLeftColor:"#777",borderRightWidth:1,borderRightColor:"#777",display:"flex",alignItems:"center",justifyContent:"flex-end",height:34},children:Zc(e.itemtotal)})})]})},e.renderEmptyItem=function(){return Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1,children:Object(Fr.jsx)("div",{style:{padding:14,fontSize:12,borderLeftWidth:1,borderLeftColor:"#777",borderBottomWidth:1,borderBottomColor:"#777",borderRightWidth:1,borderRightColor:"#777",textAlign:"center",height:34}})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)("div",{style:{padding:14,fontSize:12,borderBottomWidth:1,borderBottomColor:"#777",height:34}})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)("div",{style:{padding:14,fontSize:12,borderLeftWidth:1,borderLeftColor:"#777",borderBottomWidth:1,borderBottomColor:"#777",borderRightWidth:1,borderRightColor:"#777",textAlign:"right",height:34}})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:1,children:Object(Fr.jsx)("div",{style:{padding:14,fontSize:12,borderBottomWidth:1,borderBottomColor:"#777",textAlign:"center",height:34}})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)("div",{style:{padding:14,fontSize:12,fontWeight:"bold",borderBottomWidth:1,borderBottomColor:"#777",borderLeftWidth:1,borderLeftColor:"#777",borderRightWidth:1,borderRightColor:"#777",textAlign:"right",height:34}})})]})},e.renderTableItems=function(){var t,n,a,r=null===(t=e.props.printData)||void 0===t||null===(n=t.items)||void 0===n?void 0:n.length,o=Array.from(Array(10-r).fill({})),i=[].concat(Object(at.a)(null===(a=e.props.printData)||void 0===a?void 0:a.items),Object(at.a)(o));return null===i||void 0===i?void 0:i.map((function(t){return(null===t||void 0===t?void 0:t._id)?e.renderItem(t):e.renderEmptyItem()}))},e}return Object(Gu.a)(n,[{key:"render",value:function(){var e,t=this.props.printData,n=this.props.company;return Object(Fr.jsxs)(ua.a,{style:{fontFamily:"inherit"},m:5,children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:5,children:Object(Fr.jsx)("div",{style:{padding:10,borderTopWidth:1,borderBottomWidth:1,borderLeftWidth:1,borderTopColor:"#ccc",borderBottomColor:"#ccc",borderLeftColor:"#ccc",display:"flex",alignItems:"center",justifyContent:"flex-start",borderTopLeftRadius:15,height:90},children:Object(Fr.jsx)("img",{src:null===n||void 0===n?void 0:n.logo,alt:null===n||void 0===n?void 0:n.name,height:100,style:{objectFit:"contain",borderRadius:10,marginTop:5}})})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:7,children:Object(Fr.jsx)("div",{style:{padding:10,backgroundColor:"#eee",borderTopRightRadius:15,borderTopWidth:1,borderBottomWidth:1,borderRightWidth:1,borderBottomColor:"#ccc",borderTopColor:"#ccc",borderRightColor:"#ccc",height:90},children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsxs)(Gl.a,{item:!0,xs:6,children:[Object(Fr.jsx)("div",{style:Ju,children:"Contact"}),Object(Fr.jsx)("div",{style:Xu,children:n.tel1}),Object(Fr.jsx)("div",{style:Xu,children:null===n||void 0===n?void 0:n.email}),Object(Fr.jsx)("div",{style:Xu,children:null===n||void 0===n?void 0:n.website})]}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:6,children:[Object(Fr.jsx)("div",{style:Ju,children:"Address"}),Object(Fr.jsx)("div",{style:Xu,children:null===n||void 0===n?void 0:n.address})]})]})})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)("div",{style:{height:15}})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:6,children:[Object(Fr.jsx)("div",{style:{fontWeight:"bold",marginBottom:10,fontSize:16},children:"To:"}),Object(Fr.jsx)("div",{style:{fontSize:12,fontWeight:"bold",textTransform:"uppercase"},children:t.customerName}),Object(Fr.jsxs)("div",{children:[Object(Fr.jsx)("span",{style:{fontWeight:"bold"},children:"Phone: "}),t.customerPhone]})]}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:6,children:[Object(Fr.jsx)("div",{style:{fontSize:24,letterSpacing:2},children:"INVOICE"}),Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)("div",{style:{fontWeight:"bold"},children:"Invoice No:"})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)("div",{children:t.invoiceNo})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)("div",{style:{fontWeight:"bold"},children:"Date:"})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)("div",{children:(e=null===t||void 0===t?void 0:t.time,Object(Fr.jsx)("div",{children:new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}))})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4})]})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)("div",{style:{height:15}})}),this.renderTableHeader(),this.renderTableItems(),this.renderGrandTotal()]}),Object(Fr.jsxs)(ua.a,{style:{position:"absolute",bottom:80,right:100},children:[Object(Fr.jsx)("div",{style:{fontWeight:"bold"},children:"Name"}),Object(Fr.jsx)("div",{children:"Sales Executive"})]}),Object(Fr.jsx)(ua.a,{style:{position:"absolute",bottom:40,left:50},children:Object(Fr.jsx)("div",{style:{fontWeight:"bold",color:"#999",fontSize:11},children:"Thank you for your business."})})]})}}]),n}(Ze.a.PureComponent),em=Object(Lt.a)(Vu||(Vu=Object(Et.a)(["\n  query getTasks(\n    $departmentId: String\n    $employeeId: String\n    $customerId: String\n    $status: Int\n    $start: Date\n    $end: Date\n  ) {\n    getTasks(\n      departmentId: $departmentId\n      employeeId: $employeeId\n      customerId: $customerId\n      status: $status\n      start: $start\n      end: $end\n    ) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        title\n        desc\n\n        id\n        name\n        type\n        start\n        end\n        progress\n        isDisabled\n        tasktype\n\n        priority\n        amount\n        evQty\n        evDone\n\n        status\n        totalinvoiced\n        totalDiscount\n        totalpaid\n        toatlExpenses\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        userId\n        note\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),tm=function(){var e,t,n=Object(Fd.a)(em,{fetchPolicy:"cache-and-network"}),a=Object(nt.a)(n,2),r=a[0],o=a[1];return Object(Xe.useEffect)((function(){r()}),[r]),{tasks:((null===o||void 0===o||null===(e=o.data)||void 0===e||null===(t=e.getTasks)||void 0===t?void 0:t.data)||[]).map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{name:e.title,nameAr:e.title})}))}},nm=function(){var e,t,n,a=Object(Fd.a)(Kt),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(ta.a)(Pn,{refetchQueries:[{query:Kt}]}),s=Object(nt.a)(c,1)[0];Object(Xe.useEffect)((function(){o()}),[o]);var l=(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.getCompany)||void 0===t?void 0:t.data)||null;l&&(n=JSON.parse(l));return{company:n,editCompany:s,refreshcompany:function(){return null===i||void 0===i?void 0:i.refetch()}}},am=function(e){return e.map((function(e,t){return Object(bt.a)(Object(bt.a)({},e),{},{index:t})}))},rm=function(e){var t=e.open,n=e.onClose,a=e.row,r=e.isNew,o=e.addAction,i=e.editAction,c=e.employees,s=e.departments,l=e.servicesproducts,d=e.theme,u=e.task,m=e.value,j=e.name,b=gt(),p=Object(Xe.useState)(!1),O=Object(nt.a)(p,2),v=O[0],f=O[1],h=tm().tasks,y=Object(Xe.useState)({show:!1,msg:"",type:void 0}),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Ze.a.useState(new Date),S=Object(nt.a)(C,2),I=S[0],N=S[1],A=Object(Xe.useState)(""),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Object(Xe.useState)([]),R=Object(nt.a)(D,2),E=R[0],L=R[1],_=Object(Xe.useState)([]),P=Object(nt.a)(_,2),q=P[0],B=P[1],W=Object(Xe.useState)(""),z=Object(nt.a)(W,2),V=z[0],F=z[1],M=Object(Xe.useState)(0),H=Object(nt.a)(M,2),U=H[0],Q=H[1],G=Object(Xe.useState)({}),K=Object(nt.a)(G,2),Y=K[0],J=K[1],X=nm().company,Z=Object(Xe.useState)("departmentId"===j?m:null),ee=Object(nt.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(Xe.useState)(!1),re=Object(nt.a)(ae,2),oe=re[0],ie=re[1],ce=Ze.a.useRef(),se=Object(Xe.useState)("employeeId"===j?m:null),le=Object(nt.a)(se,2),de=le[0],ue=le[1],me=Object(Xe.useState)(!1),je=Object(nt.a)(me,2),be=je[0],pe=je[1],Oe=Ze.a.useRef(),ve=Object(Xe.useState)("customerId"===j?m:null),fe=Object(nt.a)(ve,2),he=fe[0],ye=fe[1],xe=Object(Xe.useState)("taskId"===j?m:null),ge=Object(nt.a)(xe,2),we=ge[0],Ce=ge[1],Se=Object(Xe.useState)(!1),Ie=Object(nt.a)(Se,2),Ne=Ie[0],Ae=Ie[1],Te=Object(Xe.useState)(""),$e=Object(nt.a)(Te,2),ke=$e[0],De=$e[1],Re=Object(Xe.useState)(!1),Ee=Object(nt.a)(Re,2),Le=Ee[0],_e=Ee[1],Pe=Object(Xe.useState)(null),qe=Object(nt.a)(Pe,2),Be=qe[0],We=qe[1],ze=Object(Xe.useState)([]),Ve=Object(nt.a)(ze,2),Fe=Ve[0],Me=Ve[1],He=Object(Fd.a)(Yt,{fetchPolicy:"cache-and-network"}),Ue=Object(nt.a)(He,2),Qe=Ue[0],Ge=Ue[1],Ke=nu(),Ye=Ke.lastNos,Je=Ke.freshlastNos,et=tu(),tt=et.customers,rt=et.addCustomer,ot=et.editCustomer;Object(Xe.useEffect)((function(){if(c&&c.length>0){var e=c.filter((function(e){return e.resKind===Be&&1===e.resType}));Me(e)}}),[Be,c]),Object(Xe.useEffect)((function(){if(r&&we){if((null===we||void 0===we?void 0:we.departmentId)&&"departmentId"!==j){var e,t=null===(e=s.filter((function(e){return e._id===(null===we||void 0===we?void 0:we.departmentId)})))||void 0===e?void 0:e[0];ne(t)}if((null===we||void 0===we?void 0:we.employeeId)&&"employeeId"!==j){var n,a=null===(n=c.filter((function(e){return e._id===(null===we||void 0===we?void 0:we.employeeId)})))||void 0===n?void 0:n[0];ue(a)}}}),[we]),Object(Xe.useEffect)((function(){if(r&&de&&(null===de||void 0===de?void 0:de.departmentId)&&"departmentId"!==j){var e,t=null===(e=s.filter((function(e){return e._id===(null===de||void 0===de?void 0:de.departmentId)})))||void 0===e?void 0:e[0];ne(t)}}),[de]),Object(Xe.useEffect)((function(){var e,t,n=(null===Ge||void 0===Ge||null===(e=Ge.data)||void 0===e||null===(t=e.getOperationItems)||void 0===t?void 0:t.data)||[];if(n&&n.length>0){var a=n.map((function(e){return e.itemId})),r=l.filter((function(e){return a.includes(e._id)})),o=n.map((function(e,t){var n=e.categoryId,a=e.categoryName,o=e.categoryNameAr,i=e.departmentId,c=e.departmentName,s=e.departmentNameAr,l=e.departmentColor,d=e.employeeId,u=e.employeeName,m=e.employeeNameAr,j=e.employeeColor,b=r.filter((function(t){return t._id===e.itemId}))[0];return Object(bt.a)(Object(bt.a)({},b),{},{categoryId:n,categoryName:a,categoryNameAr:o,departmentId:i,departmentName:c,departmentNameAr:s,departmentColor:l,employeeId:d,employeeName:u,employeeNameAr:m,employeeColor:j,index:t,itemprice:e.itemPrice,itemqty:e.qty,itemtotal:e.total})}));o.sort((function(e,t){return e.indx>t.indx?1:t.indx>e.indx?-1:0})),L(o),f(!1)}}),[Ge]);var it=Object(na.c)({}),ct=it.handleSubmit,st=it.reset,lt=Object(Xe.useContext)(Rr),dt=lt.translate,ut=dt.words,mt=dt.isRTL,jt=lt.store.user,pt=function(e){N(e)};Object(Xe.useEffect)((function(){if(r&&Ye&&k((null===Ye||void 0===Ye?void 0:Ye.salesInvoice)?Number(null===Ye||void 0===Ye?void 0:Ye.salesInvoice)+1:1),r&&"taskId"===j){if(null===m||void 0===m?void 0:m.departmentId){var e,t=null===(e=s.filter((function(e){return e._id===(null===m||void 0===m?void 0:m.departmentId)})))||void 0===e?void 0:e[0];ne(t)}if(null===m||void 0===m?void 0:m.employeeId){var n,a=null===(n=c.filter((function(e){return e._id===(null===m||void 0===m?void 0:m.employeeId)})))||void 0===n?void 0:n[0];ue(a)}if(null===m||void 0===m?void 0:m.customerId){var o,i=null===(o=tt.filter((function(e){return e._id===(null===m||void 0===m?void 0:m.customerId)})))||void 0===o?void 0:o[0];ye(i)}}}),[t]),Object(Xe.useEffect)((function(){Ot()}),[E,U,V,Le]),Object(Xe.useEffect)((function(){if(a&&a._id){f(!0);var e={opId:a._id};Qe({variables:e});var t=a.customerId,n=tt.filter((function(e){return e._id===t}))[0],r=a.departmentId,o=a.employeeId;if(r){var i=s.filter((function(e){return e._id===r}))[0];ne(i)}if(o){var l=c.filter((function(e){return e._id===o}))[0];ue(l)}if(!u&&a.taskId){var d=h.filter((function(e){return e.id===a.taskId}))[0];Ce(d)}ye(n),_e(a.isCash),Q(a.discount),k(a.docNo),pt(a.time),F(a.paymentType?a.paymentType:"")}}),[a]);var Ot=function(){var e=E.map((function(e){return e.itemtotal})).reduce((function(e,t){return e+t}),0),t=E.map((function(e){return e.itemtotalcost})).reduce((function(e,t){return e+t}),0),n=e-U;J({itemsSum:n,itemsCostSum:t,costAmount:t,total:e,amount:n,profit:e-U-t}),B([{debitAcc:Qi,creditAcc:Yi,amount:e,type:tr.salesInvoice},{debitAcc:Yi,creditAcc:Qi,amount:U,type:tr.customerDiscount},{debitAcc:"cash"===V?Mi:Hi,creditAcc:Qi,amount:Le?e-U:0,type:tr.customerReceipt}])},vt=function(){var e=Object(ea.a)(Zn.a.mark((function e(){var t,n,c,s,l,d,u,m;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=hs(),n=t.startPeriod,c=t.endPeriod,!(I<n||I>c)){e.next=5;break}return e.next=4,Ks(w,mt?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change");case 4:return e.abrupt("return");case 5:if(!(U<0)){e.next=9;break}return e.next=8,Ks(w,mt?"\u0627\u0644\u062d\u0633\u0645 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0633\u0644\u0628\u064a":"Discount can't be minus");case 8:return e.abrupt("return");case 9:if(!(U>(null===Y||void 0===Y?void 0:Y.total))){e.next=13;break}return e.next=12,Ks(w,mt?"\u0627\u0644\u062d\u0633\u0645 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0627\u0643\u0628\u0631 \u0645\u0646 \u0642\u064a\u0645\u0629 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629":"Discount can't be biger than Total");case 12:return e.abrupt("return");case 13:if(he){e.next=17;break}return e.next=16,Ks(w,mt?"\u064a\u0631\u062c\u0649 \u0627\u0636\u0627\u0641\u0629 \u0639\u0645\u064a\u0644 \u0644\u0644\u0641\u0627\u062a\u0648\u0631\u0629":"Please add Customer");case 16:return e.abrupt("return");case 17:if(!(r&&Number($)<=Number(Ye.salesInvoice))){e.next=21;break}return e.next=20,Ks(w,mt?"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u064a\u062c\u0628 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0623\u0643\u0628\u0628 \u0645\u0646 ".concat(Ye.salesInvoice):"Invoice no must be more than ".concat(Ye.salesInvoice));case 20:return e.abrupt("return");case 21:if(E&&0!==E.length){e.next=25;break}return e.next=24,Ks(w,mt?"\u064a\u062c\u0628 \u0627\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631 (\u062e\u062f\u0645\u0629 \u0627\u0648 \u0645\u0646\u062a\u062c) \u0648\u0627\u062d\u062f \u0644\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644":"You should add min one service to invoice");case 24:return e.abrupt("return");case 25:s=Y.amount,l=Y.costAmount,d=Y.profit,u=Y.total,m={_id:a&&a._id?a._id:void 0,docNo:$?$.toString():void 0,time:I,customer:{customerId:he._id,customerName:he.name,customerNameAr:he.nameAr,customerPhone:he.phone},department:te?{departmentId:te._id,departmentName:te.name,departmentNameAr:te.nameAr,departmentColor:te.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},employee:de?{employeeId:de._id,employeeName:de.name,employeeNameAr:de.nameAr,employeeColor:de.color,employeePhone:de.phone}:{employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0,employeePhone:void 0},items:JSON.stringify(E),costAmount:l,total:u,discount:U,amount:s,profit:d,isPaid:Le,isCash:Le,amountPaid:Le?s:0,accounts:q,paymentType:V,taskId:we?we.id:void 0,userId:jt._id},ft(r?o:i,m);case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({variables:n}),a&&a._id&&(null===Ge||void 0===Ge||Ge.refetch()),Je({}),yt()}catch(r){ht(r),console.log(r)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ht=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(w,mt);case 3:e.next=8;break;case 5:return e.next=7,Hs(w,mt);case 7:console.log(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yt=function(){st(),L([]),Q(0),J({}),ye(null),k(""),B([]),F(""),Ce(null),_e(!1),N(new Date),ne(null),ue(null),We(null),n()},xt=Object(Xe.useRef)(),wt=Object(Uu.useReactToPrint)({content:function(){return xt.current},documentTitle:"Invoice #".concat(null===a||void 0===a?void 0:a.invoiceNo),removeAfterPrint:!0}),Ct={invoiceNo:null===a||void 0===a?void 0:a.invoiceNo,time:I,customerName:null===he||void 0===he?void 0:he.name,customerPhone:null===he||void 0===he?void 0:he.phone,total:Y.total,amount:Y.amount,items:E},St=(null===a||void 0===a?void 0:a.startDate)?new Date(null===a||void 0===a?void 0:a.startDate):new Date,It=null===sr||void 0===sr?void 0:sr[St.getDay()],Nt=mt?r?"\u0641\u0627\u062a\u0648\u0631\u0629 \u062c\u062f\u064a\u062f\u0629":"\u062a\u0639\u062f\u064a\u0644 \u0641\u0627\u062a\u0648\u0631\u0629":r?"New Invoice":"Edit Invoice";return Object(Fr.jsx)(pu,{isRTL:mt,open:t,onClose:yt,title:Nt,onSubmit:function(){wt(),ct(vt)()},theme:d,alrt:g,print:wt,maxWidth:"md",mt:0,mb:50,bgcolor:Sc.a.green[500],children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(yd,{isRTL:mt,label:ut.time,value:I,onChange:pt})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:8,children:Object(Fr.jsx)(Mu,{words:ut,ptype:V,isCash:Le,setIsCash:_e,setPtype:F})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"customer",title:ut.customer,words:ut,options:tt,value:he,setSelectValue:ye,isRTL:mt,fullWidth:!0,openAdd:function(){Ae(!0)},showphone:!0,disabled:"customerId"===j})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(fu,{name:"task",title:ut.task,words:ut,options:h,value:we,setSelectValue:Ce,isRTL:mt,fullWidth:!0,disabled:"taskId"===j})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsxs)(ua.a,{display:"flex",style:{flex:1,flexDirection:mt?"row-reverse":"row",alignItems:"center",justifyContent:"flex-end",marginLeft:mt?void 0:20,marginRight:mt?20:void 0},children:[r&&Object(Fr.jsx)(la.a,{style:{color:"#777"},children:ut.no}),Object(Fr.jsx)(da.a,{name:"invNo",disabled:!r,value:$,onChange:function(e){return k(Number(e.target.value))},variant:"outlined",style:{width:r?70:100,marginLeft:20},margin:"dense",inputProps:{style:{textAlign:"center",fontSize:14,height:13}}})]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(ua.a,{style:{marginRight:10,marginTop:0,marginBottom:0},children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:Be,onChange:function(e){We(Number(e.target.value)),ue(null)},children:[Object(Fr.jsx)(ql.a,{value:1,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:mt?"\u0627\u0644\u0645\u0648\u0638\u0641":"Employee"}),Object(Fr.jsx)(ql.a,{value:2,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:mt?"\u0627\u0644\u0645\u0648\u0631\u062f":"Resourse"})]})})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"employee",title:ut.employee,words:ut,options:Fe,disabled:!Be||"employeeId"===j,value:de,setSelectValue:ue,setSelectError:pe,selectError:be,refernce:Oe,noPlus:!0,isRTL:mt,fullWidth:!0,day:It})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"department",title:ut.department,words:ut,options:s.filter((function(e){return 1===e.depType})),value:te,setSelectValue:ne,setSelectError:ie,selectError:oe,refernce:ce,noPlus:!0,isRTL:mt,width:420,disabled:"departmentId"===j})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,children:[Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#f3f3f3",padding:10,marginTop:15,marginBottom:15,borderRadius:10},children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{paddingLeft:10,paddingRight:10},children:Object(Fr.jsx)(Iu,{options:l,addItem:function(e){var t=[].concat(Object(at.a)(E),[Object(bt.a)(Object(bt.a)({},e),{},{userId:jt._id})]),n=am(t);L(n)},words:ut,employees:c,departments:s,classes:b,user:jt,isRTL:mt})}),!v&&Object(Fr.jsx)(ua.a,{style:{marginBottom:20},children:Object(Fr.jsx)(zu,{rows:E,editItem:function(e){var t=E.map((function(t){return t._id===e._id?e:t})),n=am(t);L(n)},removeItem:function(e){var t=Object(at.a)(E);t.splice(e,1);var n=am(t);L(n)},isRTL:mt,words:ut,user:jt})}),v&&Object(Fr.jsx)(Hu,{})]}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between",marginRight:10,marginLeft:10},children:[Object(Fr.jsx)(da.a,{name:"discount",label:ut.discount,value:U.toString(),onChange:function(e){return Q(Number(e.target.value))},variant:"outlined",style:{width:200},margin:"dense",type:"number",onFocus:function(e){return e.target.select()}}),Object(Fr.jsx)(Fu,{amount:null===Y||void 0===Y?void 0:Y.amount,total:null===Y||void 0===Y?void 0:Y.total,discount:U,words:ut})]}),Object(Fr.jsx)(yu,{newtext:ke,open:Ne,onClose:function(){Ae(!1),De("")},isNew:!0,setNewValue:function(e){ye(e)},row:null,addAction:rt,editAction:ot}),Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)("div",{style:{display:"none"},children:Object(Fr.jsx)(Zu,{company:X,printData:Ct,ref:xt})})})]})]})})},om=function(e,t,n){return function(e,t){var n=t.max+1-t.min;return Array.from(Array(n),(function(e,n){return n+t.min})).find((function(t){return!e.includes(t)}))}(function(e,t){var n=e.parentcode;return t.filter((function(e){return n===e.parentcode})).map((function(e){return e.code}))}(e,t),n)},im=(Object(Ot.a)((function(e){return Object(vt.a)({popup:{height:"50vh",width:"60vh"},margin:{margin:8,height:36,width:100},formControl:{margin:e.spacing(1)},noLabel:{marginTop:e.spacing(3)}})})),La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c()})),cm=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c()}),sm={resolver:Object(_a.a)(im)},lm={resolver:Object(_a.a)(cm)},dm=function(e){var t=e.open,n=e.onClose,a=e.row,r=e.isNew,o=e.addAction,i=e.editAction,c=e.theme,s=e.accounts,l=Object(Xe.useState)(!1),d=Object(nt.a)(l,2),u=d[0],m=d[1],j=Object(Xe.useState)({show:!1,msg:"",type:void 0}),b=Object(nt.a)(j,2),p=b[0],O=b[1],v=Object(Xe.useState)(null),f=Object(nt.a)(v,2),h=f[0],y=f[1],x=Object(Xe.useState)(!1),g=Object(nt.a)(x,2),w=g[0],C=g[1],S=Ze.a.useRef(),I=Object(Xe.useState)(null),N=Object(nt.a)(I,2),A=N[0],T=N[1],$=Object(Xe.useState)([]),k=Object(nt.a)($,2),D=k[0],R=k[1],E=Object(Xe.useState)({}),L=Object(nt.a)(E,2),_=L[0],P=L[1],q=Object(Xe.useState)(0),B=Object(nt.a)(q,2),W=B[0],z=B[1],V=Object(na.c)(r?sm:lm),F=V.register,M=V.handleSubmit,H=V.errors,U=V.reset,Q=Object(Xe.useContext)(Rr).translate,G=Q.words,K=Q.isRTL,Y=au().branches;Object(Xe.useEffect)((function(){T(Y[0])}),[t]),Object(Xe.useEffect)((function(){if(h){var e=function(e){var t=e.parentcode;if(t)return Li[t]}(h);if(P(e),r){var t=om(h,s,e);z(t)}}else z(0)}),[h]),Object(Xe.useEffect)((function(){if(a&&a.parentcode){var e=a.parentcode,t=Pi.filter((function(t){return t.parentcode===e}))[0],n=Y.filter((function(e){return e.basename===a.branch}))[0];y(t),T(n),z(a.code)}}),[a]),Object(Xe.useEffect)((function(){R(A?Pi:[])}),[A]);var J=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,c,s,l;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=4;break}return C(!0),S.current.focus(),e.abrupt("return");case 4:if(!(W>_.max||W<_.min)){e.next=8;break}return e.next=7,Us(O,K?"\u0631\u0642\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 \u062e\u0627\u0631\u062c \u0627\u0644\u0646\u0637\u0627\u0642":"Code range issue");case 7:return e.abrupt("return");case 8:m(!0),n=t.name.trim(),c=t.nameAr.trim(),s=A.basename,l=Object(bt.a)({_id:a._id?a._id:void 0,branch:s,code:W,name:n,nameAr:c,canedit:!a._id||void 0},h),X(r?o:i,l);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({variables:n});case 3:m(!1),ee(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Z(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(O,K);case 3:e.next=8;break;case 5:return e.next=7,Hs(O,K);case 7:console.log(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){y(null),C(!1),T(null),P({}),z(0),U(),n()},te=K?r?"\u0627\u0636\u0627\u0641\u0629 \u062d\u0633\u0627\u0628":"\u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u062d\u0633\u0627\u0628":r?"New Account":"Edit Account";return Object(Fr.jsx)(pu,{isRTL:K,open:t,onClose:ee,title:te,onSubmit:function(){M(J)()},theme:c,alrt:p,saving:u,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:9,children:[Object(Fr.jsx)(fu,{name:"parent",nolabel:!0,title:K?"\u0627\u0644\u062d\u0633\u0627\u0628 \u0627\u0644\u0631\u0626\u064a\u0633\u064a":"Main Account",basename:"parent",options:D,value:h,setSelectValue:y,setSelectError:C,selectError:w,refernce:S,register:F,disabled:!(!a||!a.parentcode),isRTL:K,fullWidth:!0}),_&&(null===_||void 0===_?void 0:_.min)&&r&&Object(Fr.jsxs)(la.a,{children:[_.min," - ",_.max]}),Object(Fr.jsx)(xd,{required:!0,name:"code",label:K?"\u0643\u0648\u062f \u0627\u0644\u062d\u0633\u0627\u0628":"Code",value:W,onChange:function(e){return z(e.target.value)},row:a,disabled:!(!a||!a.parentcode),type:"number",fullWidth:!0}),K&&Object(Fr.jsxs)(Ze.a.Fragment,{children:[Object(Fr.jsx)(xd,{required:!0,autoFocus:!0,name:"nameAr",label:G.name,register:F,errors:H,row:a,fullWidth:!0}),Object(Fr.jsx)(xd,{required:!0,name:"name",label:G.nameEn,register:F,errors:H,row:a,fullWidth:!0})]}),!K&&Object(Fr.jsxs)(Ze.a.Fragment,{children:[Object(Fr.jsx)(xd,{autoFocus:!0,required:!0,name:"name",label:G.name,register:F,errors:H,row:a,fullWidth:!0}),Object(Fr.jsx)(xd,{required:!0,name:"nameAr",label:G.nameAr,register:F,errors:H,row:a,fullWidth:!0})]})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2})]})})},um=n(652),mm=n.n(um),jm=n(653),bm=n.n(jm),pm=n(656),Om=n.n(pm),vm=n(654),fm=n.n(vm),hm=n(655),ym=n.n(hm),xm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#eee",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;switch(e){case 1:return Object(Fr.jsx)(mm.a,{style:{fontSize:n,color:t}});case 2:return Object(Fr.jsx)(bm.a,{style:{fontSize:n,color:t}});case 3:return Object(Fr.jsx)(fm.a,{style:{fontSize:n,color:t}});case 4:return Object(Fr.jsx)(ym.a,{style:{fontSize:n,color:t}});case 10:return Object(Fr.jsx)(Om.a,{style:{fontSize:n,color:t}});default:return Object(Fr.jsx)("div",{})}},gm=function(e){var t=e.status,n=e.setStatus,a=e.onNewFieldChange,r=e.title,o=e.isRTL;return Object(Fr.jsxs)(ua.a,{display:"flex",children:[Object(Fr.jsx)(Al.a,{children:Object(Fr.jsx)(Tl.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t,onChange:function(e){var t=Number(e.target.value);n(t),a(t,"status")},variant:"outlined",style:{maxHeight:38,minWidth:140},children:or.map((function(e){return Object(Fr.jsx)($l.a,{value:e.id,selected:e.id===t,children:o?e.nameAr:e.name},e.id)}))})}),Object(Fr.jsxs)(ua.a,{style:{display:"flex",minWidth:70,alignItems:"center",height:40,padding:10,marginTop:8},children:[Object(Fr.jsx)(la.a,{children:r}),xm(t,"#777",30)]})]})},wm=function(e){var t=e.options,n=e.value,a=e.onChange,r=e.isRTL,o=e.width,i=void 0===o?180:o,c=e.disabled,s=void 0!==c&&c;return Object(Fr.jsx)(Al.a,{children:Object(Fr.jsx)(Tl.a,{id:"simple-menu",value:n,disabled:s,onChange:a,variant:"outlined",style:{height:38,width:i,alignSelf:"flex-end",fontSize:12,fontWeight:"bold",color:"#555"},children:t.map((function(e){return Object(Fr.jsx)($l.a,{style:{justifyContent:r?"flex-end":"flex-start"},value:e.value,children:r?e.nameAr:e.name},e.id)}))})})},Cm=n(81),Sm=[{id:2,name:"Daily",nameAr:"\u064a\u0648\u0645\u064a",value:Cm.b.DAILY},{id:3,name:"Weekly",nameAr:"\u0627\u0633\u0628\u0648\u0639\u064a",value:Cm.b.WEEKLY},{id:4,name:"Monthly",nameAr:"\u0634\u0647\u0631\u064a",value:Cm.b.MONTHLY},{id:5,name:"Yearly",nameAr:"\u0633\u0646\u0648\u064a",value:Cm.b.YEARLY}],Im=[{id:2,name:"Saturday",nameAr:"\u0627\u0644\u0633\u0628\u062a",value:Cm.b.SA},{id:3,name:"Sunday",nameAr:"\u0627\u0644\u0627\u062d\u062f",value:Cm.b.SU},{id:4,name:"Monday",nameAr:"\u0627\u0644\u0627\u062b\u0646\u064a\u0646",value:Cm.b.MO},{id:5,name:"Tuesday",nameAr:"\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621",value:Cm.b.TU},{id:5,name:"Wednesday",nameAr:"\u0627\u0644\u0627\u0631\u0628\u0639\u0627\u0621",value:Cm.b.WE},{id:5,name:"Thursday",nameAr:"\u0627\u0644\u062e\u0645\u064a\u0633",value:Cm.b.TH},{id:5,name:"Friday",nameAr:"\u0627\u0644\u062c\u0645\u0639\u0629",value:Cm.b.FR}],Nm=[{id:1,name:"SMS",nameAr:"\u0631\u0633\u0627\u0644\u0629 SMS",value:1},{id:2,name:"Email",nameAr:"\u0628\u0631\u064a\u062f \u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a",value:2},{id:3,name:"Notification",nameAr:"\u062a\u0646\u0628\u064a\u0647",value:3}],Am=[{id:1,name:"Befor Appointment Start",nameAr:"\u0642\u0628\u0644 \u0627\u0644\u0645\u0648\u0639\u062f",value:"bstart"},{id:2,name:"After Appointment End",nameAr:"\u0628\u0639\u062f \u0646\u0647\u0627\u064a\u0629 \u0627\u0644\u0645\u0648\u0639\u062f",value:"aend"},{id:3,name:"After Appointment Start",nameAr:"\u0628\u0639\u062f \u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u0645\u0648\u0639\u062f",value:"astart"}],Tm=[{id:1,name:"Minutes",nameAr:"\u062f\u0642\u064a\u0642\u0629",value:"minute"},{id:2,name:"Hours",nameAr:"\u0633\u0627\u0639\u0629",value:"hour"},{id:3,name:"Days",nameAr:"\u064a\u0648\u0645",value:"day"}],$m=[{id:0,value:0,nameAr:"\u0627\u0644\u0645\u0647\u0645\u0627\u062a",name:"Tasks"},{id:1,value:1,nameAr:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f",name:"Appointments"},{id:2,value:2,nameAr:"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u064a\u0631",name:"Invoices"},{id:3,value:3,nameAr:"\u0627\u0644\u0645\u0642\u0628\u0648\u0636\u0627\u062a",name:"Receipts"},{id:4,value:4,nameAr:"\u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641",name:"Expenses"}],km=[{id:0,value:0,nameAr:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f",name:"Appointments"},{id:1,value:1,nameAr:"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u064a\u0631",name:"Invoices"},{id:2,value:2,nameAr:"\u0627\u0644\u0645\u0642\u0628\u0648\u0636\u0627\u062a",name:"Receipts"},{id:3,value:3,nameAr:"\u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641",name:"Expenses"}],Dm=function(e){var t=e.open,n=e.onClose,a=e.row,r=e.isNew,o=e.addAction,i=e.editAction,c=e.theme,s=e.event,l=Object(Xe.useState)(!1),d=Object(nt.a)(l,2),u=d[0],m=d[1],j=Object(Xe.useState)(1),b=Object(nt.a)(j,2),p=b[0],O=b[1],v=Object(Xe.useState)("minute"),f=Object(nt.a)(v,2),h=f[0],y=f[1],x=Object(Xe.useState)("bstart"),g=Object(nt.a)(x,2),w=g[0],C=g[1],S=Object(Xe.useState)(30),I=Object(nt.a)(S,2),N=I[0],A=I[1],T=Object(Xe.useState)(""),$=Object(nt.a)(T,2),k=$[0],D=$[1],R=Object(Xe.useState)(""),E=Object(nt.a)(R,2),L=E[0],_=E[1],P=Object(Xe.useState)(null),q=Object(nt.a)(P,2),B=q[0],W=q[1],z=Object(Xe.useContext)(Rr),V=z.translate,F=V.words,M=V.isRTL,H=z.store.user;Object(Xe.useEffect)((function(){a&&(D(a.body),O(a.type),_(a.address),O(a.type),y(a.timeunit),A(a.qty),C(a.timerelate),W(a.sendtime))}),[t]),Object(Xe.useEffect)((function(){var e=s.startDate,t=s.endDate,n=gc({startDate:e,endDate:t,timeunit:h,timerelate:w,qty:N});W(n)}),[h,w,N]);var U=function(){var e=Object(ea.a)(Zn.a.mark((function e(){var t;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0),t={branch:H.branch,type:p,phone:1===p?L:void 0,email:2===p?L:void 0,userId:3===p?H._id:void 0,sendtime:B,body:k,timeunit:h,timerelate:w,qty:N,address:L},r?o(t):i(t),Q(),m(!1),n();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){O(1),y("minute"),C("bstart"),A(30),D(""),_(""),W(null)},G=M?r?"\u0627\u0636\u0627\u0641\u0629 \u062a\u0646\u0628\u064a\u0647":"\u062a\u0639\u062f\u064a\u0644 \u062a\u0646\u0628\u064a\u0647":r?"New Action":"Edit Action",K=1===p?F.mobile:2===p?F.email:F.notification;return Object(Fr.jsx)(pu,{isRTL:M,open:t,onClose:function(){Q(),n()},title:G,onSubmit:function(){U()},theme:c,alrt:{},saving:u,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsx)(Gl.a,{item:!0,xs:9,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)(xd,{required:!0,name:"body",multiline:!0,rows:4,label:F.body,value:k,onChange:function(e){return D(e.target.value)},row:a,fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:5,children:Object(Fr.jsx)(wm,{options:Nm,value:p,onChange:function(e){return O(e.target.value)},isRTL:M,width:160})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:7,children:3!==p&&Object(Fr.jsx)(xd,{name:"address",label:K,value:L,onChange:function(e){return _(e.target.value)},fullWidth:!0,mb:0})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(wm,{options:Am,value:w,onChange:function(e){return C(e.target.value)},isRTL:M,width:128})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(xd,{required:!0,name:"qty",label:F.qty,value:N,onChange:function(e){return A(Number(e.target.value))},type:"number",width:128})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(wm,{options:Tm,value:h,onChange:function(e){return y(e.target.value)},isRTL:M,width:128})})]}),Object(Fr.jsx)(Gl.a,{container:!0,spacing:2,children:Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)(ua.a,{display:"flex",style:{flex:1,direction:"ltr",fontSize:16,alignItems:"center",justifyContent:"center"},children:Wc(B,M)})})})]})]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2})]})})},Rm=function(e){return e.map((function(e,t){return Object(bt.a)(Object(bt.a)({},e),{},{index:t})}))},Em=function(e){var t=e.onFieldChange,n=e.appointmentData,a=e.departments,r=e.tasks,o=e.employees,i=e.theme,c=e.servicesproducts,s=function(e){e.departmentId,e.departmentName,e.departmentNameAr,e.departmentColor;var t=e.employeeId,n=(e.employeeName,e.employeeNameAr,e.employeeColor,e.itemId),a=(e.itemName,e.itemNameAr,e.customerId),r=(e.customerName,e.customerNameAr,e.customerPhone,Object(wc.a)(e,["departmentId","departmentName","departmentNameAr","departmentColor","employeeId","employeeName","employeeNameAr","employeeColor","itemId","itemName","itemNameAr","customerId","customerName","customerNameAr","customerPhone"])),o=Object(bt.a)({},r);return o.department=e.department?e.department:{_id:e.departmentId,name:e.departmentName,nameAr:e.departmentNameAr,color:e.departmentColor},t&&(o.employee=e.employee?e.employee:{_id:e.employeeId,name:e.employeeName,nameAr:e.employeeNameAr,color:e.employeeColor}),n&&(o.item=e.item?e.item:{_id:e.itemId,name:e.itemName,nameAr:e.itemNameAr}),a&&(o.customer=e.customer?e.customer:{_id:e.customerId,name:e.customerName,nameAr:e.customerNameAr,phone:e.customerPhone}),o}(n),l=gt(),d=Object(Xe.useState)(!1),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Object(Xe.useState)(null===s||void 0===s?void 0:s.startDate),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=Object(Xe.useState)(null===s||void 0===s?void 0:s.endDate),h=Object(nt.a)(f,2),y=h[0],x=h[1],g=Object(Xe.useState)((null===s||void 0===s?void 0:s.status)||2),w=Object(nt.a)(g,2),C=w[0],S=w[1],I=Object(Xe.useState)(!1),N=Object(nt.a)(I,2),A=N[0],T=N[1],$=Object(Xe.useState)({}),k=Object(nt.a)($,2),D=k[0],R=k[1],E=Object(Xe.useState)([]),L=Object(nt.a)(E,2),_=L[0],P=L[1],q=Object(Xe.useState)(null),B=Object(nt.a)(q,2),W=B[0],z=B[1],V=Object(Xe.useState)(null),F=Object(nt.a)(V,2),M=F[0],H=F[1],U=Object(Xe.useState)(!1),Q=Object(nt.a)(U,2),G=Q[0],K=Q[1],Y=Object(Xe.useState)([]),J=Object(nt.a)(Y,2),X=J[0],Z=J[1],ee=Object(Xe.useState)(null),te=Object(nt.a)(ee,2),ne=te[0],ae=te[1],re=Object(Xe.useState)(),oe=Object(nt.a)(re,2),ie=oe[0],ce=oe[1],se=Object(Xe.useState)(null),le=Object(nt.a)(se,2),de=le[0],ue=le[1],me=Object(Xe.useState)([]),je=Object(nt.a)(me,2),be=je[0],pe=je[1],Oe=tu(),ve=Oe.customers,fe=Oe.addCustomer,he=Oe.editCustomer,ye=Object(Xe.useContext)(Rr),xe=ye.translate,ge=xe.words,we=xe.isRTL,Ce=ye.store.user,Se=Object(Xe.useState)(""),Ie=Object(nt.a)(Se,2),Ne=Ie[0],Ae=Ie[1],Te=Object(Fd.a)(Yt,{fetchPolicy:"cache-and-network"}),$e=Object(nt.a)(Te,2),ke=$e[0],De=$e[1],Re=Object(Fd.a)(tn,{fetchPolicy:"cache-and-network"}),Ee=Object(nt.a)(Re,2),Le=Ee[0],_e=Ee[1];Object(Xe.useEffect)((function(){if(o&&o.length>0){var e=o.filter((function(e){return e.resKind===de&&1===e.resType}));pe(e)}}),[de,o]),Object(Xe.useEffect)((function(){var e,t,n,a,r=(null===De||void 0===De||null===(e=De.data)||void 0===e||null===(t=e.getOperationItems)||void 0===t?void 0:t.data)||[],o=(null===_e||void 0===_e||null===(n=_e.data)||void 0===n||null===(a=n.getActions)||void 0===a?void 0:a.data)||[];if(r&&r.length>0){var i=r.map((function(e){return e.itemId})),s=c.filter((function(e){return i.includes(e._id)})),l=r.map((function(e,t){var n=e.categoryId,a=e.categoryName,r=e.categoryNameAr,o=e.departmentId,i=e.departmentName,c=e.departmentNameAr,l=e.departmentColor,d=e.employeeId,u=e.employeeName,m=e.employeeNameAr,j=e.employeeColor,b=s.filter((function(t){return t._id===e.itemId}))[0];return Object(bt.a)(Object(bt.a)({},b),{},{categoryId:n,categoryName:a,categoryNameAr:r,departmentId:o,departmentName:i,departmentNameAr:c,departmentColor:l,employeeId:d,employeeName:u,employeeNameAr:m,employeeColor:j,index:t,itemprice:e.itemPrice,itemqty:e.qty,itemtotal:e.total})}));l.sort((function(e,t){return e.indx>t.indx?1:t.indx>e.indx?-1:0})),P(l);var d=Rm(o);Z(d),T(!1)}}),[De,_e]),Object(Xe.useEffect)((function(){Pe()}),[_]),Object(Xe.useEffect)((function(){if(s&&s._id){if(T(!0),ke({variables:{opId:s._id}}),Le({variables:{eventId:s.id}}),s.taskId){var e,t=null===(e=r.filter((function(e){return e.id===s.taskId})))||void 0===e?void 0:e[0];z(t)}if(s.employee){var n,a=null===(n=o.filter((function(e){var t;return e._id===(null===s||void 0===s||null===(t=s.employee)||void 0===t?void 0:t._id)})))||void 0===n?void 0:n[0];H(a)}}}),[]);var Pe=function(){var e=_.map((function(e){return e.itemtotal})).reduce((function(e,t){return e+t}),0),n=_.map((function(e){return e.itemtotalcost})).reduce((function(e,t){return e+t}),0),a=e;R({itemsSum:a,itemsCostSum:n,costAmount:n,total:e,amount:a,profit:e-n}),t({amount:a}),t({items:JSON.stringify(_)})},qe=function(e,n){t(Object(Qr.a)({},n,e))};Object(Xe.useEffect)((function(){s.status||qe(2,"status")}),[s.status]),Object(Xe.useEffect)((function(){var e,t,n=s.title?s.title:ie||(we?null===_||void 0===_||null===(e=_[0])||void 0===e?void 0:e.nameAr:null===_||void 0===_||null===(t=_[0])||void 0===t?void 0:t.name);ce(n),qe(n,"title")}),[s.title,_]);Object(Xe.useEffect)((function(){if(!s._id){if(null===W||void 0===W?void 0:W.employeeId){var e,t=null===(e=o.filter((function(e){return e._id===(null===W||void 0===W?void 0:W.employeeId)})))||void 0===e?void 0:e[0];qe(t,"employee"),H(t)}if(W&&(null===W||void 0===W?void 0:W.departmentId)){var n,r=null===(n=a.filter((function(e){return e._id===(null===W||void 0===W?void 0:W.departmentId)})))||void 0===n?void 0:n[0];qe(r,"department")}}}),[W]),Object(Xe.useEffect)((function(){if(!s._id&&M&&(null===M||void 0===M?void 0:M.departmentId)){var e,t=null===(e=a.filter((function(e){return e._id===(null===M||void 0===M?void 0:M.departmentId)})))||void 0===e?void 0:e[0];qe(t,"department")}}),[M]),Object(Xe.useEffect)((function(){t({actions:JSON.stringify(X)})}),[X]);var Be=(null===s||void 0===s?void 0:s.startDate)?new Date(null===s||void 0===s?void 0:s.startDate):new Date,We=null===sr||void 0===sr?void 0:sr[Be.getDay()];return Object(Fr.jsxs)(Fr.Fragment,{children:[Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(la.a,{style:{fontWeight:"bold"},variant:"body2",children:null===s||void 0===s?void 0:s.docNo})}),Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:8,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:1,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:6,children:Object(Fr.jsx)(yd,{isRTL:we,label:ge.start,value:O,onChange:function(e){v(e),qe(e,"startDate")},format:"dd/MM/yyyy - hh:mm",time:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:6,children:Object(Fr.jsx)(yd,{isRTL:we,label:ge.end,value:y,onChange:function(e){x(e),qe(e,"endDate")},format:"dd/MM/yyyy - hh:mm",time:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)(xd,{autoFocus:!0,name:"tasktitle",label:ge.title,value:ie,onChange:function(e){ce(e.target.value),qe(e.target.value,"title")},row:s,fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"customer",title:ge.customer,words:ge,options:ve,value:s.customer,setSelectValue:function(e){var t=e;e||(t={customerId:void 0,customerName:void 0,customerNameAr:void 0,customerPhone:void 0},qe(e,"customerId"),qe(e,"customerName"),qe(e,"customerNameAr"),qe(e,"customerPhone")),qe(t,"customer")},isRTL:we,openAdd:function(){j(!0)},fullWidth:!0,showphone:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"task",title:ge.task,words:ge,options:r,value:W,setSelectValue:function(e){var t=null===e||void 0===e?void 0:e.id;z(e),qe(t,"taskId")},isRTL:we,fullWidth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(ua.a,{style:{marginRight:10,marginTop:0,marginBottom:0},children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:de,onChange:function(e){ue(Number(e.target.value)),H(null)},children:[Object(Fr.jsx)(ql.a,{value:1,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:we?"\u0627\u0644\u0645\u0648\u0638\u0641":"Employee"}),Object(Fr.jsx)(ql.a,{value:2,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:we?"\u0627\u0644\u0645\u0648\u0631\u062f":"Resourse"})]})})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"employee",title:ge.employee,words:ge,options:be,disabled:!de,value:M,setSelectValue:function(e){var t=e;e||(t={employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0},qe(e,"employeeId"),qe(e,"employeeName"),qe(e,"employeeNameAr"),qe(e,"employeeColor")),qe(t,"employee"),H(t)},noPlus:!0,isRTL:we,fullWidth:!0,day:We})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"department",title:ge.department,words:ge,options:a.filter((function(e){return 1===e.depType})),value:s.department,setSelectValue:function(e){var t=e;e||(t={departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},qe(e,"departmentId"),qe(e,"departmentName"),qe(e,"departmentNameAr"),qe(e,"departmentColor")),qe(t,"department")},noPlus:!0,isRTL:we,fullWidth:!0})})]})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:4,style:{backgroundColor:"#eee",borderRadius:5,padding:7},children:[Object(Fr.jsx)(oa.a,{variant:"outlined",style:{marginBottom:5,fontSize:14,minWidth:80},onClick:function(){ae(null),K(!0)},children:we?"\u0627\u0636\u0627\u0641\u0629 \u062a\u0646\u0628\u064a\u0647":"Add Reminder"}),Object(Fr.jsx)(Ql.a,{style:{height:150,overflow:"auto"},children:X.map((function(e){return Object(Fr.jsxs)(ao.a,{children:[Object(Fr.jsx)(ro.a,{primary:bs({row:e}),secondary:Wc(e.sendtime,we)}),Object(Fr.jsx)(Jr.a,{onClick:function(){return function(e){var t=X.filter((function(t){return t.index!==e.index})),n=Rm(t);Z(n)}(e)},title:"Delete row",style:{padding:5,margin:5},children:Object(Fr.jsx)(ji.a,{style:{fontSize:22,color:"#a76f9a"}})}),Object(Fr.jsx)(Jr.a,{style:{padding:5},onClick:function(){ae(e),K(!0)},title:"Edit row",children:Object(Fr.jsx)(ui.a,{style:{fontSize:22,color:"#729aaf"}})})]})}))})]}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,children:[Object(Fr.jsx)(ua.a,{style:{marginTop:20}}),Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#f4f4f4",padding:10,marginTop:15,marginBottom:15,borderRadius:10},children:[Object(Fr.jsx)(ua.a,{display:"flex",children:Object(Fr.jsx)(Iu,{options:c,addItem:function(e){var t=[].concat(Object(at.a)(_),[Object(bt.a)(Object(bt.a)({},e),{},{userId:Ce._id})]),n=Rm(t);P(n)},words:ge,employees:o,departments:a,classes:l,user:Ce,isRTL:we})}),!A&&Object(Fr.jsx)(ua.a,{style:{marginBottom:10},children:Object(Fr.jsx)(zu,{rows:_,editItem:function(e){var t=_.map((function(t){return t._id===e._id?e:t})),n=Rm(t);P(n)},removeItem:function(e){var t=Object(at.a)(_);t.splice(e,1);var n=Rm(t);P(n)},isRTL:we,words:ge,user:Ce})}),A&&Object(Fr.jsx)(Hu,{})]}),Object(Fr.jsxs)(la.a,{style:{fontWeight:"bold",fontSize:16},children:[ge.total," : ",Zc(D.amount)]}),Object(Fr.jsx)(ua.a,{style:{marginTop:10},children:Object(Fr.jsx)(gm,{status:C,setStatus:S,onNewFieldChange:qe,isRTL:we,title:ge.status})})]}),Object(Fr.jsx)(yu,{newtext:Ne,open:m,onClose:function(){j(!1),Ae("")},isNew:!0,setNewValue:qe,row:null,addAction:fe,editAction:he}),Object(Fr.jsx)(Dm,{open:G,onClose:function(){return K(!1)},row:ne,isNew:!ne,addAction:function(e){var t=[].concat(Object(at.a)(X),[e]),n=Rm(t);Z(n)},editAction:function(e){var t=X.map((function(t){return t._id===e._id?e:t})),n=Rm(t);Z(n)},theme:i,event:Object(bt.a)(Object(bt.a)({},s),{},{startDate:O,endDate:y})})]})]})},Lm=n(878),_m=n(879),Pm=n(880),qm=function(e){return e.map((function(e,t){return Object(bt.a)(Object(bt.a)({},e),{},{index:t})}))},Bm=function(e){var t=e.open,n=e.onClose,a=e.appoint,r=e.services,o=e.editEvent,i=e.isNew,c=void 0===i||i,s=e.theme,l=e.items,d=e.onCloseAppoint,u=void 0===d?function(){return null}:d,m=gt(),j=Object(Xe.useState)({show:!1,msg:"",type:void 0}),b=Object(nt.a)(j,2),p=b[0],O=b[1],v=Ze.a.useState(new Date),f=Object(nt.a)(v,2),h=f[0],y=f[1],x=Object(Xe.useState)(""),g=Object(nt.a)(x,2),w=g[0],C=g[1],S=Object(Xe.useState)([]),I=Object(nt.a)(S,2),N=I[0],A=I[1],T=Object(Xe.useState)([]),$=Object(nt.a)(T,2),k=$[0],D=$[1],R=Object(Xe.useState)("cash"),E=Object(nt.a)(R,2),L=E[0],_=E[1],P=Object(Xe.useState)(0),q=Object(nt.a)(P,2),B=q[0],W=q[1],z=Object(Xe.useState)({}),V=Object(nt.a)(z,2),F=V[0],M=V[1],H=Object(Xe.useState)(null),U=Object(nt.a)(H,2),Q=U[0],G=U[1],K=Object(Xe.useState)(null),Y=Object(nt.a)(K,2),J=Y[0],X=Y[1],Z=Object(Xe.useState)(!1),ee=Object(nt.a)(Z,2),te=ee[0],ne=ee[1],ae=Ze.a.useRef(),re=Object(Xe.useState)(null),oe=Object(nt.a)(re,2),ie=oe[0],ce=oe[1],se=Object(Xe.useState)(!1),le=Object(nt.a)(se,2),de=le[0],ue=le[1],me=Ze.a.useRef(),je=Object(Xe.useState)(null),be=Object(nt.a)(je,2),pe=be[0],Oe=be[1],ve=Object(Xe.useState)(!1),fe=Object(nt.a)(ve,2),he=fe[0],ye=fe[1],xe=Object(Xe.useState)(""),ge=Object(nt.a)(xe,2),we=ge[0],Ce=ge[1],Se=Object(Xe.useState)(!1),Ie=Object(nt.a)(Se,2),Ne=Ie[0],Ae=Ie[1],Te=tu(),$e=Te.customers,ke=Te.addCustomer,De=Te.editCustomer,Re=tm().tasks,Ee=Zd().employees,Le=Md().departments,_e=nm().company,Pe=Object(na.c)({}),qe=Pe.handleSubmit,Be=Pe.reset,We=Object(Xe.useContext)(Rr),ze=We.translate,Ve=ze.words,Fe=ze.isRTL,Me=We.store.user,He={refetchQueries:[{query:Vt,variables:{start:(new Date).setHours(0,0,0,0),end:(new Date).setHours(23,59,59,999)}},{query:Ft},{query:Xt},{query:em},{query:qt},{query:Pt},{query:_t}]},Ue=Object(ta.a)(fn,He),Qe=Object(nt.a)(Ue,1)[0],Ge=nu(),Ke=Ge.lastNos,Ye=Ge.freshlastNos;Object(Xe.useEffect)((function(){c&&Ke&&C((null===Ke||void 0===Ke?void 0:Ke.salesInvoice)?Number(null===Ke||void 0===Ke?void 0:Ke.salesInvoice)+1:1)}),[t]),Object(Xe.useEffect)((function(){Je()}),[N,B,L,Ne]),Object(Xe.useEffect)((function(){if(a&&a.startDate){var e=a.customerId,t=$e.filter((function(t){return t._id===e}))[0];G(t)}var n=a.departmentId,r=a.employeeId;if(n){var o=Le.filter((function(e){return e._id===n}))[0];X(o)}if(r){var i=Ee.filter((function(e){return e._id===r}))[0];ce(i)}if(a.taskId){var c=Re.filter((function(e){return e.id===a.taskId}))[0];Oe(c)}l&&A(l)}),[a,r,$e,l]);var Je=function(){var e=N.map((function(e){return e.itemtotal})).reduce((function(e,t){return e+t}),0),t=N.map((function(e){return e.itemtotalcost})).reduce((function(e,t){return e+t}),0),n=e-B;M({itemsSum:n,itemsCostSum:t,costAmount:t,total:e,amount:n,profit:e-B-t}),D([{debitAcc:Qi,creditAcc:Yi,amount:e,type:tr.salesInvoice},{debitAcc:Yi,creditAcc:Qi,amount:B,type:tr.customerDiscount},{debitAcc:"cash"===L?Mi:Hi,creditAcc:Qi,amount:Ne?e-B:0,type:tr.customerReceipt}])},et=function(){var e=Object(ea.a)(Zn.a.mark((function e(){var t,n,r,o,i;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(B<0)){e.next=4;break}return e.next=3,Ks(O,Fe?"\u0627\u0644\u062d\u0633\u0645 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0633\u0644\u0628\u064a":"Discount can't be minus");case 3:return e.abrupt("return");case 4:if(!(B>(null===F||void 0===F?void 0:F.total))){e.next=8;break}return e.next=7,Ks(O,Fe?"\u0627\u0644\u062d\u0633\u0645 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0627\u0643\u0628\u0631 \u0645\u0646 \u0642\u064a\u0645\u0629 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629":"Discount can't be biger than Total");case 7:return e.abrupt("return");case 8:if(Q){e.next=12;break}return e.next=11,Ks(O,Fe?"\u064a\u0631\u062c\u0649 \u0627\u0636\u0627\u0641\u0629 \u0639\u0645\u064a\u0644 \u0644\u0644\u0641\u0627\u062a\u0648\u0631\u0629":"Please add Customer");case 11:return e.abrupt("return");case 12:if(!(c&&Number(w)<=Number(Ke.salesInvoice))){e.next=16;break}return e.next=15,Ks(O,Fe?"Invoice no must be more than ".concat(Ke.salesInvoice):"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u064a\u062c\u0628 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0623\u0643\u0628\u0628 \u0645\u0646 ".concat(Ke.salesInvoice));case 15:return e.abrupt("return");case 16:if(N&&0!==N.length){e.next=20;break}return e.next=19,Ks(O,Fe?"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u064a\u062c\u0628 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0623\u0643\u0628\u0628 \u0645\u0646 ".concat(Ke.salesInvoice):"Invoice no must be more than ".concat(Ke.salesInvoice));case 19:return e.abrupt("return");case 20:t=F.amount,n=F.costAmount,r=F.profit,o=F.total,i={docNo:w?w.toString():void 0,time:h,customer:{customerId:Q._id,customerName:Q.name,customerNameAr:Q.nameAr,customerPhone:Q.phone},department:J?{departmentId:J._id,departmentName:J.name,departmentNameAr:J.nameAr,departmentColor:J.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},employee:ie?{employeeId:ie._id,employeeName:ie.name,employeeNameAr:ie.nameAr,employeeColor:ie.color,employeePhone:ie.phone}:{employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0,employeePhone:void 0},items:JSON.stringify(N),costAmount:n,total:o,discount:B,amount:t,profit:r,isPaid:Ne,isCash:Ne,amountPaid:Ne?t:0,accounts:k,paymentType:L,userId:Me._id,eventId:a.id,taskId:pe?pe.id:void 0,eventNo:a.docNo},tt(Qe,i);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({variables:n}),o({variables:{id:a.id,status:10}}),Ye(),ot(),u()}catch(r){rt(r),console.log(r)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rt=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(O,Fe);case 3:e.next=9;break;case 5:return e.next=7,Hs(O,Fe);case 7:Be(),console.log(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){Be(),A([]),W(0),M({}),G(null),C(""),D([]),_(""),Ae(!1),y(new Date),X(null),ce(null),n()},it=Object(Xe.useRef)(),ct=Object(Uu.useReactToPrint)({content:function(){return it.current},documentTitle:"Invoice #".concat(w),removeAfterPrint:!0}),st={invoiceNo:w,time:h,customerName:null===Q||void 0===Q?void 0:Q.name,customerPhone:null===Q||void 0===Q?void 0:Q.phone,total:F.total,amount:F.amount,items:N},lt=(null===a||void 0===a?void 0:a.startDate)?new Date(null===a||void 0===a?void 0:a.startDate):new Date,dt=null===sr||void 0===sr?void 0:sr[lt.getDay()],ut=Fe?c?"\u0641\u0627\u062a\u0648\u0631\u0629 \u062c\u062f\u064a\u062f\u0629":"\u062a\u0639\u062f\u064a\u0644 \u0641\u0627\u062a\u0648\u0631\u0629":c?"New Invoice":"Edit Invoice";return Object(Fr.jsx)(pu,{isRTL:Fe,open:t,onClose:ot,title:ut,onSubmit:function(){qe(et)()},theme:s,alrt:p,print:ct,maxWidth:"md",mt:0,mb:50,bgcolor:Sc.a.green[500],children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(yd,{isRTL:Fe,label:Ve.time,value:h,onChange:function(e){y(e)}})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:8,children:Object(Fr.jsx)(Mu,{words:Ve,ptype:L,isCash:Ne,setIsCash:Ae,setPtype:_})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"customer",title:Ve.customer,words:Ve,options:$e,value:Q,setSelectValue:G,isRTL:Fe,fullWidth:!0,openAdd:function(){ye(!0)},showphone:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(fu,{name:"task",title:Ve.task,words:Ve,options:Re,value:pe,setSelectValue:Oe,isRTL:Fe,fullWidth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsxs)(ua.a,{display:"flex",style:{flex:1,flexDirection:Fe?"row-reverse":"row",alignItems:"center",justifyContent:"flex-end",marginLeft:Fe?void 0:20,marginRight:Fe?20:void 0},children:[c&&Object(Fr.jsx)(la.a,{style:{color:"#777"},children:Ve.no}),Object(Fr.jsx)(da.a,{name:"invNo",disabled:!c,value:w,onChange:function(e){return C(Number(e.target.value))},variant:"outlined",style:{width:c?70:100,marginLeft:20},margin:"dense",inputProps:{style:{textAlign:"center",fontSize:14,height:13}}})]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"employee",title:Ve.employee,words:Ve,options:Ee.filter((function(e){return 1===e.resType})),value:ie,setSelectValue:ce,setSelectError:ue,selectError:de,refernce:me,noPlus:!0,isRTL:Fe,fullWidth:!0,day:dt})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"department",title:Ve.department,words:Ve,options:Le.filter((function(e){return 1===e.depType})),value:J,setSelectValue:X,setSelectError:ne,selectError:te,refernce:ae,noPlus:!0,isRTL:Fe,width:420})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,children:[Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#f4f4f4",padding:10,marginTop:15,marginBottom:15,borderRadius:10},children:[Object(Fr.jsx)(ua.a,{display:"flex",children:Object(Fr.jsx)(Iu,{options:r,addItem:function(e){var t=[].concat(Object(at.a)(N),[Object(bt.a)(Object(bt.a)({},e),{},{userId:Me._id})]),n=qm(t);A(n)},words:Ve,employees:Ee,departments:Le,classes:m,user:Me,isRTL:Fe})}),Object(Fr.jsx)(ua.a,{style:{marginBottom:20},children:Object(Fr.jsx)(zu,{rows:N,editItem:function(e){var t=N.map((function(t){return t._id===e._id?e:t})),n=qm(t);A(n)},removeItem:function(e){var t=Object(at.a)(N);t.splice(e,1);var n=qm(t);A(n)},isRTL:Fe,words:Ve,user:Me})})]}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between"},children:[Object(Fr.jsx)(da.a,{name:"discount",label:Ve.discount,value:B.toString(),onChange:function(e){return W(Number(e.target.value))},variant:"outlined",style:{width:200},margin:"dense",type:"number",onFocus:function(e){return e.target.select()}}),Object(Fr.jsx)(Fu,{amount:null===F||void 0===F?void 0:F.amount,total:null===F||void 0===F?void 0:F.total,discount:B,words:Ve})]}),Object(Fr.jsx)(yu,{newtext:we,open:he,onClose:function(){ye(!1),Ce("")},isNew:!0,setNewValue:function(e){G(e)},row:null,addAction:ke,editAction:De}),Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)("div",{style:{display:"none"},children:Object(Fr.jsx)(Zu,{company:_e,printData:st,ref:it})})})]})]})})},Wm=function(e){var t,n,a,r=e.appointmentData,o=e.setVisible,i=e.departments,c=e.employees,s=e.services,l=e.editEvent,d=e.company,u=e.viewonly,m=e.theme,j=e.tasks,b=Object(Xe.useState)([]),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=Object(Xe.useState)(!1),h=Object(nt.a)(f,2),y=h[0],x=h[1],g=Object(Xe.useState)(!1),w=Object(nt.a)(g,2),C=w[0],S=w[1],I=Object(Xe.useContext)(Rr).translate,N=I.words,A=I.isRTL,T=yt();Object(Xe.useEffect)((function(){var e=ks()||Ds();S(e)}),[]);var $=r.startDate,k=r.endDate,D=r.customerName,R=r.customerNameAr,E=r.customerPhone,L=r.items,_=r.employeeId,P=r.employeeName,q=r.employeeNameAr,B=r.employeePhone,W=r.departmentId,z=r.departmentName,V=r.departmentNameAr,F=r.status,M=r.amount,H=r.docNo,U=r.taskId,Q=r.title,G=null===(t=j.filter((function(e){return e.id===U})))||void 0===t?void 0:t[0],K=Object(Fd.a)(Yt,{fetchPolicy:"cache-and-network"}),Y=Object(nt.a)(K,2),J=Y[0],X=Y[1];Object(Xe.useEffect)((function(){if(r&&r._id){var e={opId:r._id};J({variables:e})}}),[]),Object(Xe.useEffect)((function(){var e,t,n=(null===X||void 0===X||null===(e=X.data)||void 0===e||null===(t=e.getOperationItems)||void 0===t?void 0:t.data)||[];if(n&&n.length>0){var a=n.map((function(e){return e.itemId})),r=s.filter((function(e){return a.includes(e._id)})),o=n.map((function(e,t){var n=e.categoryId,a=e.categoryName,o=e.categoryNameAr,i=e.departmentId,c=e.departmentName,s=e.departmentNameAr,l=e.departmentColor,d=e.employeeId,u=e.employeeName,m=e.employeeNameAr,j=e.employeeColor,b=r.filter((function(t){return t._id===e.itemId}))[0];return Object(bt.a)(Object(bt.a)({},b),{},{categoryId:n,categoryName:a,categoryNameAr:o,departmentId:i,departmentName:c,departmentNameAr:s,departmentColor:l,employeeId:d,employeeName:u,employeeNameAr:m,employeeColor:j,index:t,itemprice:e.itemPrice,itemqty:e.qty,itemtotal:e.total})}));o.sort((function(e,t){return e.indx>t.indx?1:t.indx>e.indx?-1:0})),v(o)}}),[X]);var Z=c?c.filter((function(e){return e._id===_})):"",ee=(null===Z||void 0===Z||null===(n=Z[0])||void 0===n?void 0:n.color)||"",te=i?i.filter((function(e){return e._id===W})):"",ne=(null===te||void 0===te||null===(a=te[0])||void 0===a?void 0:a.color)||"",ae=!E&&!L||10===F||!C;return Object(Fr.jsxs)(Lm.a,{style:{direction:A?"rtl":"ltr"},className:T.root,children:[Object(Fr.jsxs)(_m.a,{children:[F&&Object(Fr.jsxs)(ua.a,{display:"flex",style:{position:"absolute",height:30,paddingRight:5,paddingLeft:5,borderRadius:3,alignItems:"center",justifyContent:"center",left:10,top:10},children:[xm(F,"#555",20),Object(Fr.jsx)(la.a,{style:{marginTop:-1,marginLeft:3},children:A?rr[F]:ar[F]})]}),Object(Fr.jsx)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"flex-end"},children:Object(Fr.jsx)(la.a,{style:{fontWeight:"bold"},variant:"body2",children:H})}),Object(Fr.jsxs)(ua.a,{style:{alignItems:"center",justifyContent:"flex-start"},children:[Object(Fr.jsx)(la.a,{style:{fontWeight:"bold"},variant:"body2",children:null===G||void 0===G?void 0:G.title}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold"},variant:"body2",children:Q})]}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between"},children:[Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(la.a,{gutterBottom:!0,variant:"subtitle2",component:"h2",children:$.toLocaleString(A?"ar-QA":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{marginBottom:3},children:[Object(Fr.jsxs)("div",{children:[Cs($,A?"ar-QA":"en-US")," -"," "]}),Object(Fr.jsxs)("div",{children:[" ",Cs(k,A?"ar-QA":"en-US")]})]})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{gutterBottom:!0,variant:"h5",component:"h2",children:A?R:D}),Object(Fr.jsx)(la.a,{style:{marginTop:-5,marginLeft:5},gutterBottom:!0,variant:"subtitle1",component:"h2",children:E})]}),Object(Fr.jsx)(Kl.a,{}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between"},children:[(null===O||void 0===O?void 0:O[0])&&Object(Fr.jsx)(la.a,{gutterBottom:!0,variant:"h6",component:"h1",children:A?null===O||void 0===O?void 0:O[0].nameAr:null===O||void 0===O?void 0:O[0].name}),M&&Object(Fr.jsxs)(la.a,{style:{zIndex:10,padding:3,backgroundColor:"#667fb5",color:"#fff"},gutterBottom:!0,variant:"subtitle2",component:"h2",children:[M," QR"]})]}),Object(Fr.jsxs)(ua.a,{m:2,display:"flex",style:{alignItems:"center"},children:[Object(Fr.jsx)(ua.a,{style:{width:40,height:40,borderRadius:20,backgroundColor:ne}}),Object(Fr.jsx)(la.a,{style:{marginTop:8,marginLeft:10,marginRight:10},gutterBottom:!0,variant:"body1",component:"h2",children:A?V:z})]}),Object(Fr.jsxs)(ua.a,{m:3,display:"flex",style:{alignItems:"center"},children:[Object(Fr.jsx)($c,{name:P,bg:ee,size:26}),Object(Fr.jsx)(la.a,{style:{marginTop:5,marginLeft:10,marginRight:10},gutterBottom:!0,variant:"body1",component:"h2",children:A?q:P})]}),Object(Fr.jsx)(ua.a,{style:{marginTop:-25,marginRight:60},children:Object(Fr.jsx)(la.a,{gutterBottom:!0,variant:"subtitle2",children:B})})]}),Object(Fr.jsx)(Pm.a,{children:!u&&Object(Fr.jsx)(ua.a,{m:1,display:"flex",style:{flex:1,justifyContent:"flex-end"},children:Object(Fr.jsx)(oa.a,{size:"medium",color:"primary",variant:"outlined",onClick:function(){x(!0)},disabled:ae,children:N.addInvoice})})}),Object(Fr.jsx)(Bm,{open:y,onClose:function(){o(!1),x(!1)},appoint:r,services:s,editEvent:l,company:d,theme:m,items:O})]})},zm=function(e){var t,n=e.data,a=n.startDate,r=n.endDate,o=n.customerName,i=n.customerNameAr,c=n.serviceName,s=n.serviceNameAr,l=n.employeeId,d=n.employeeName,u=n.employeeNameAr,m=n.status,j=Zd().employees,b=j?j.filter((function(e){return e._id===l})):"",p=(null===b||void 0===b||null===(t=b[0])||void 0===t||t.color,Object(Xe.useContext)(Rr).translate.isRTL);return Object(Fr.jsx)(iu.d.AppointmentContent,Object(bt.a)(Object(bt.a)({},e),{},{children:Object(Fr.jsxs)("div",{className:e.container,children:[m&&Object(Fr.jsx)(Tc.a,{title:ar[m],children:Object(Fr.jsx)(ua.a,{style:{position:"absolute",right:p?void 0:2,left:p?2:void 0,top:2,zIndex:12,width:22,height:22,alignItems:"center",justifyContent:"center",borderRadius:2},children:xm(m,"#ffffff",22)})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{flexWrap:"wrap"},children:[Object(Fr.jsxs)("div",{children:[Cs(a),"-"]}),Object(Fr.jsx)("div",{children:Cs(r)})]}),Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(la.a,{style:{fontWeight:"bold"},variant:"subtitle2",children:p?i:o})}),Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(la.a,{variant:"caption",children:p?s:c})}),d&&Object(Fr.jsx)(Tc.a,{title:p?u:d,children:Object(Fr.jsx)(ua.a,{display:"flex",alignItems:"center",style:{position:"absolute",left:0,bottom:2},children:Object(Fr.jsx)(la.a,{variant:"subtitle2",style:{marginLeft:4,marginRight:4},children:p?u:d})})})]})}))};function Vm(e){var t=e.item,n=e.isRTL,a=e.col,r=t.color;return Object(Fr.jsxs)(ua.a,{style:{display:"flex",flex:1,flexDirection:"row",alignItems:"center",direction:n?"rtl":"ltr"},children:[t.color&&!a&&Object(Fr.jsx)(ua.a,{style:{width:18,height:18,borderRadius:9,backgroundColor:r||"#fff"}}),Object(Fr.jsx)(la.a,{style:{marginLeft:r?10:void 0,marginRight:r?10:void 0,textAlign:n?"right":"left"},variant:n?"subtitle1":"subtitle2",children:n?t.nameAr:t.name})]})}function Fm(e){var t=e.options,n=e.value,a=e.setValue,r=e.words,o=e.isRTL,i=e.name,c=e.width,s=e.fullWidth;return Object(Fr.jsx)(kl.a,{size:"small",options:t,getOptionLabel:function(e){return o?e.nameAr:e.name},getOptionSelected:function(e,t){return e.id===t.id},renderOption:function(e){return Object(Fr.jsx)(Vm,{isRTL:o,item:e})},value:n,onChange:function(e,t){a(t)},renderInput:function(e){return Object(Fr.jsx)(da.a,Object(bt.a)(Object(bt.a)({},e),{},{id:i,fullWidth:s,name:i,label:r[i],variant:"outlined",style:{width:c||void 0,backgroundColor:n?"#FFF5D6":void 0,fontSize:10}}))}})}var Mm=function(e){var t=e.value,n=e.setValue,a=e.isRTL,r=e.count,o=e.theme,i=e.refresh;return Object(Fr.jsx)(ua.a,{m:1,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:1,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:7,children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:t,onChange:function(e){n(e.target.value)},children:[Object(Fr.jsx)(ql.a,{value:"employeeId",control:Object(Fr.jsx)(su.a,{color:"primary"}),label:a?"\u0627\u0644\u0645\u0648\u0638\u0641":"Employee"}),Object(Fr.jsx)(ql.a,{value:"departmentId",control:Object(Fr.jsx)(su.a,{color:"primary"}),label:a?"\u0627\u0644\u0642\u0633\u0645":"Department"}),Object(Fr.jsx)(ql.a,{value:"status",control:Object(Fr.jsx)(su.a,{color:"primary"}),label:a?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status"})]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:3,children:r>0&&Object(Fr.jsxs)(ua.a,{display:"flex",children:[Object(Fr.jsx)(la.a,{style:{marginTop:10,marginLeft:10,marginRight:10},children:a?"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f: ":"Appointments: "}),Object(Fr.jsx)(la.a,{style:{marginTop:10,marginLeft:10,marginRight:10,fontWeight:"bold"},children:r})]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)(ua.a,{display:"flex",style:{flex:1,alignItems:"center",justifyContent:"flex-end"},children:i&&Object(Fr.jsx)(Jr.a,{style:{backgroundColor:Object(er.c)(o.palette.secondary.main,.5),padding:7},onClick:i,children:Object(Fr.jsx)(Ud.a,{style:{fontSize:24},color:"primary"})})})})]})})};function Hm(e){var t=e.employees,n=e.departments,a=e.departvalue,r=e.setDepartvalue,o=e.emplvalue,i=e.setEmplvalue,c=e.status,s=e.setStatus,l=e.mainResourceName,d=e.setMainResourceName,u=e.words,m=e.isRTL,j=e.count,b=e.theme,p=e.refresh;return Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)(Fm,{options:t,value:o,setValue:i,words:u,isRTL:m,name:"employee",fullWidth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)(Fm,{options:n,value:a,setValue:r,words:u,isRTL:m,name:"department",fullWidth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)(Fm,{options:or,value:c,setValue:s,words:u,isRTL:m,name:"status",fullWidth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(Mm,{value:l,setValue:d,isRTL:m,count:j,theme:b,refresh:p})})]})}function Um(e){return Object(Fr.jsx)(uu.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:Object(Fr.jsx)(Ql.a,Object(bt.a)({},e))})}function Qm(e){var t=e.children,n=e.isRTL,a=e.theme,r=e.open,o=e.onClose,i=e.title,c=e.width,s=e.height,l=e.isMobile,d=e.mt,u=void 0===d?30:d,m=e.mb,j=void 0===m?70:m;return Object(Fr.jsxs)(Cl.a,{open:r,onClose:o,PaperComponent:Um,"aria-describedby":"scroll-dialog-description","aria-labelledby":"draggable-dialog-title",fullWidth:l,maxWidth:"md",children:[Object(Fr.jsxs)(ua.a,{id:"draggable-dialog-title",style:{direction:n?"rtl":"ltr",backgroundColor:a?Object(er.c)(a.palette.primary.main,.15):"#eee",cursor:"move",height:60,display:"flex",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(Fr.jsx)(la.a,{style:{fontSize:20,marginRight:20,marginLeft:20},children:i}),Object(Fr.jsx)(Jr.a,{onClick:o,children:Object(Fr.jsx)(ju.a,{style:{fontSize:26,color:"#777"}})})]}),Object(Fr.jsx)(Il.a,{style:{width:c,height:s,direction:n?"rtl":"ltr",paddingTop:u,paddingBottom:j},dividers:!0,children:t})]})}var Gm=function(e){var t=Object(Xe.useState)(!1),n=Object(nt.a)(t,2),a=n[0],r=n[1],o=Object(Xe.useState)(new Date),i=Object(nt.a)(o,2),c=i[0],s=i[1],l=Object(Xe.useState)(new Date),d=Object(nt.a)(l,2),u=d[0],m=d[1],j=Object(Xe.useState)([]),b=Object(nt.a)(j,2),p=b[0],O=b[1],v=Object(Xe.useState)("departmentId"),f=Object(nt.a)(v,2),h=f[0],y=f[1],x=Object(Xe.useState)([]),g=Object(nt.a)(x,2),w=g[0],C=g[1],S=Object(Qd.a)("(max-width:600px)"),I=Object(Xe.useContext)(mr),N=I.state,A=N.currentDate,T=N.currentViewName,$=N.departvalue,k=N.emplvalue,D=N.status,R=I.dispatch,E=tm().tasks,L={refetchQueries:[{query:Wt,variables:{departmentId:$?$._id:void 0,employeeId:k?k._id:void 0,status:D?D.id:void 0,start:c,end:u}},{query:Xt},{query:em},{query:qt},{query:Pt},{query:_t},{query:em,variables:{start:c?c.setHours(0,0,0,0):void 0,end:u?u.setHours(23,59,59,999):void 0}}]},_=Object(ta.a)(pn,L),P=Object(nt.a)(_,1)[0],q=Object(ta.a)(vn,L),B=Object(nt.a)(q,1)[0],W=Object(ta.a)(On,L),z=Object(nt.a)(W,1)[0],V=Object(Fd.a)(Wt),F=Object(nt.a)(V,2),M=F[0],H=F[1],U=e.departments,Q=e.employees,G=e.calendar,K=e.isRTL,Y=e.words,J=e.services,X=e.company,Z=e.isEditor,ee=e.theme;Object(Xe.useEffect)((function(){var e,t,n=(null===H||void 0===H||null===(e=H.data)||void 0===e||null===(t=e.getEvents)||void 0===t?void 0:t.data)||[],a=n.length>0?n.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{startDate:new Date(e.startDate),endDate:new Date(e.endDate),start:e.startDate,end:e.endDate})})):[];C(a)}),[H]);Object(Xe.useEffect)((function(){var e=fs({time:A,view:T});s(e.start),m(e.end);var t={departmentId:$?$._id:void 0,employeeId:k?k._id:void 0,status:D?D.id:void 0,start:e.start,end:e.end};M({variables:t})}),[A,T,$,k,M,D]),Object(Xe.useEffect)((function(){var e;"employeeId"===h&&(e=Q),"status"===h&&(e=or),"departmentId"===h&&(e=U);var t=hc(e,h,"Data");O(t)}),[h,U]);var te="Month"===T,ne=function(e){R({type:"setCurrentViewName",payload:e.target.value})},ae=function(e){R({type:"setCurrentDate",payload:e})},re=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a,r;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.added,a=t.changed,r=t.deleted,ws({added:n,changed:a,deleted:r,addEvent:P,editEvent:B,removeEvent:z,isRTL:K});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=K?"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0639\u062f":"Appointment";return Object(Fr.jsx)(ua.a,{style:{backgroundColor:"#fff",marginTop:S?47:void 0,height:window.innerHeight-10,overflow:"auto"},children:Object(Fr.jsxs)(ua.a,{style:{margin:10},children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:4,children:Object(Fr.jsx)(pd,{setStart:s,setEnd:m,isRTL:K,words:Y,theme:ee,currentViewNameChange:ne,currentDateChange:ae,currentViewName:T,currentDate:A,views:[1,3,7,30]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:8,children:Object(Fr.jsx)(Gr.a,{xsDown:!0,implementation:"css",children:Object(Fr.jsx)(ua.a,{style:{marginBottom:3},children:Object(Fr.jsx)(Hm,{count:w.length,departvalue:$,setDepartvalue:function(e){R({type:"setDepartvalue",payload:e})},emplvalue:k,setEmplvalue:function(e){R({type:"setEmplvalue",payload:e})},departments:U.filter((function(e){return 1===e.depType})),employees:Q.filter((function(e){return 1===e.resType})),status:D,setStatus:function(e){R({type:"setStatus",payload:e})},setMainResourceName:y,mainResourceName:h,isRTL:K,words:Y,theme:ee,refresh:function(){(null===H||void 0===H?void 0:H.refetch)&&H.refetch()}})})})})]}),Object(Fr.jsx)(ua.a,{style:{margin:0},children:Object(Fr.jsxs)(iu.l,{data:w,height:te?"auto":S?window.innerHeight:window.innerHeight-90,firstDayOfWeek:6,locale:K?"ar":"en",children:[!te&&Object(Fr.jsx)(ou.k,{onCommitChanges:re}),!te&&Object(Fr.jsx)(iu.h,{messages:{current:K?"\u0627\u0644\u0645\u0648\u0639\u062f \u0627\u0644\u062d\u0627\u0644\u064a \u0641\u0642\u0637":"This appointment",currentAndFollowing:K?"\u0627\u0644\u0645\u0648\u0639\u062f \u0627\u0644\u062d\u0627\u0644\u064a \u0648\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0644\u0627\u062d\u0642\u0629":"This and following appointments",all:K?"\u0643\u0644 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f":"All appointments",menuEditingTitle:K?"\u062a\u0639\u062f\u064a\u0644 \u0645\u0648\u0639\u062f \u0645\u062a\u0643\u0631\u0631":"Edit recurring appointment",menuDeletingTitle:K?"\u062d\u0630\u0641 \u0645\u0648\u0639\u062f \u0645\u062a\u0643\u0631\u0631":"Delete recurring appointment",cancelButton:K?"\u0627\u0644\u063a\u0627\u0621":"Cancel",commitButton:K?"\u062a\u0639\u062f\u064a\u0644":"OK"}}),Object(Fr.jsx)(ou.t,{currentViewName:T,onCurrentViewNameChange:ne,currentDate:A,onCurrentDateChange:ae}),Object(Fr.jsx)(iu.f,{cellDuration:G?null===G||void 0===G?void 0:G.duration:30,startDayHour:G?null===G||void 0===G?void 0:G.start:8.5,endDayHour:G?null===G||void 0===G?void 0:G.end:21.5}),Object(Fr.jsx)(iu.f,{name:"3Days",displayName:"3 Days",intervalCount:3,cellDuration:G?null===G||void 0===G?void 0:G.duration:30,startDayHour:G?null===G||void 0===G?void 0:G.start:8.5,endDayHour:G?null===G||void 0===G?void 0:G.end:21.5}),Object(Fr.jsx)(iu.m,{name:"Week",displayName:"Week",cellDuration:G?null===G||void 0===G?void 0:G.duration:30,startDayHour:G?null===G||void 0===G?void 0:G.start:8.5,endDayHour:G?null===G||void 0===G?void 0:G.end:21.5}),Object(Fr.jsx)(iu.j,{intervalCount:1}),Object(Fr.jsx)(iu.d,{appointmentContentComponent:zm}),Object(Fr.jsx)(iu.k,{data:p,mainResourceName:h}),Object(Fr.jsx)(iu.c,{showCloseButton:!0,showOpenButton:!!Z,visible:a,onVisibilityChange:function(){return r(!a)},contentComponent:function(e){var t=e.appointmentData;return Object(Fr.jsx)(Wm,{appointmentData:t,setVisible:r,departments:U,employees:Q,services:J,editEvent:B,company:X,theme:ee,viewonly:S,tasks:E})}}),!te&&Object(Fr.jsx)(iu.b,{overlayComponent:function(e){return Object(Fr.jsx)(Qm,Object(bt.a)(Object(bt.a)({isRTL:K,theme:ee,alrt:{},open:e.visible||!1,title:oe,onSubmit:re,mt:0,mb:50},e),{},{onClose:e.onHide,isMobile:S}))},basicLayoutComponent:function(e){return Object(Fr.jsx)(Em,Object(bt.a)({departments:U,employees:Q,servicesproducts:J,theme:ee,tasks:E,isMobile:S},e))},commandButtonComponent:qs}),Object(Fr.jsx)(iu.a,{}),!te&&Object(Fr.jsx)(iu.g,{}),Object(Fr.jsx)(iu.e,{shadePreviousCells:!0})]})})]})})},Km=function(e){var t=Zd().employees,n=Md().departments;return Object(Fr.jsx)(Gm,Object(bt.a)(Object(bt.a)({},e),{},{employees:t,departments:n}))},Ym=function(e){var t=e.lang,n=e.setLang,a=e.isRTL;return Object(Fr.jsx)(Ql.a,{style:{height:185},children:Object(Fr.jsxs)(ua.a,{padding:3,children:[Object(Fr.jsx)(la.a,{variant:"h6",children:a?"\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0644\u063a\u0629":"Change Language"}),Object(Fr.jsxs)(cu.a,{"aria-label":"Views",style:{marginTop:12},name:"views",value:t,onChange:function(e){n(e.target.value)},children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{flexDirection:"row",marginBottom:20},children:Object(Fr.jsx)(ql.a,{value:"en",control:Object(Fr.jsx)(su.a,{color:"primary"}),label:"English"})}),Object(Fr.jsx)(ua.a,{display:"flex",style:{flexDirection:"row",marginBottom:20},children:Object(Fr.jsx)(ql.a,{value:"ar",control:Object(Fr.jsx)(su.a,{color:"primary"}),label:"\u0639\u0631\u0628\u064a"})})]})]})})},Jm=function(e){var t=e.themeId,n=e.setThemeId,a=e.isRTL;return Object(Fr.jsx)(Ql.a,{children:Object(Fr.jsxs)(ua.a,{padding:3,children:[Object(Fr.jsx)(la.a,{variant:"h6",children:a?"\u0627\u0644\u062b\u064a\u0645\u0629":"Themes"}),Object(Fr.jsx)(cu.a,{"aria-label":"Views",style:{marginTop:12},name:"views",value:t,onChange:function(e){n(e.target.value)},children:jt.map((function(e,t){return Object(Fr.jsxs)(ua.a,{display:"flex",style:{flexDirection:"row",marginBottom:20},children:[Object(Fr.jsx)(ql.a,{value:t.toString(),control:Object(Fr.jsx)(su.a,{color:"primary"}),label:""}),(n=e.palette,Object(Fr.jsxs)(ua.a,{display:"flex",style:{flexDirection:"row"},children:[Object(Fr.jsx)(ua.a,{style:{width:40,height:40,backgroundColor:n.primary.main}}),Object(Fr.jsx)(ua.a,{style:{width:40,height:40,backgroundColor:n.secondary.main}})]}))]},t);var n}))})]})})},Xm=n(881),Zm=n(628),ej=n(630),tj=n(278),nj=n(85);function aj(e){var t=e.dialog,n=e.isRTL,a=Object(Xe.useState)(!1),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(Xe.useState)({show:!1,msg:"",type:void 0}),s=Object(nt.a)(c,2),l=s[0],d=s[1],u=Object(Xe.useState)("auto"),m=Object(nt.a)(u,2),j=m[0],b=m[1],p=Object(Xe.useState)(null),O=Object(nt.a)(p,2),v=O[0],f=(O[1],function(){var e=Object(ta.a)(Ln),t=Object(nt.a)(e,1)[0],n=Object(ta.a)(_n);return{backup:t,restore:Object(nt.a)(n,1)[0]}}()),h=f.backup,y=f.restore,x=function(){var e=Object(ea.a)(Zn.a.mark((function e(){var t,n,a;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,h({});case 3:if(!(null===(a=e.sent)||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.backupDB)||void 0===n?void 0:n.ok)){e.next=9;break}return e.next=7,Ys(d,"backup Succeed");case 7:e.next=11;break;case 9:return e.next=11,Ks(d,"backup Fail");case 11:i(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a,r;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,y({variables:{path:t}});case 3:if(!(null===(r=e.sent)||void 0===r||null===(n=r.data)||void 0===n||null===(a=n.restoreDB)||void 0===a?void 0:a.ok)){e.next=9;break}return e.next=7,Ys(d,"Restore Succeed");case 7:e.next=11;break;case 9:return e.next=11,Ks(d,"Restore Fail");case 11:i(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsxs)(Ql.a,{style:{height:500},children:[Object(Fr.jsxs)(ua.a,{padding:3,children:[l.show&&Object(Fr.jsx)(Ws,{top:!0,right:!0,type:l.type,msg:l.msg}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"flex-start",justifyContent:"space-between"},children:[Object(Fr.jsx)(la.a,{variant:"h6",children:n?"\u0646\u0633\u062e \u0627\u062d\u062a\u064a\u0627\u0637\u064a \u0644\u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a":"Backup and Restore Database"}),!t&&Object(Fr.jsx)(oa.a,{onClick:x,color:"primary",variant:"contained",style:{height:36},children:n?"\u0627\u0646\u0634\u0627\u0621 \u0646\u0633\u062e \u0627\u062d\u062a\u064a\u0627\u0637\u064a":"Backup Now"})]}),Object(Fr.jsx)(ua.a,{style:{marginInlineStart:30},children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:j,onChange:function(e){return b(e.target.value)},children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{flexDirection:"row"},children:Object(Fr.jsx)(ql.a,{value:"auto",control:Object(Fr.jsx)(su.a,{color:"primary"}),label:n?"\u0627\u0644\u0646\u0633\u062e \u0627\u0644\u0627\u062d\u062a\u064a\u0627\u0637\u064a \u0627\u0644\u0623\u0644\u064a":"Auto Backups"})}),Object(Fr.jsx)(ua.a,{display:"flex",style:{flexDirection:"row"},children:Object(Fr.jsx)(ql.a,{value:"manual",control:Object(Fr.jsx)(su.a,{color:"primary"}),label:n?"\u0627\u0644\u0646\u0633\u062e \u0627\u0644\u0627\u062d\u062a\u064a\u0627\u0637\u064a \u0627\u0644\u064a\u062f\u0648\u064a":"Manual Backups"})})]})}),Object(Fr.jsx)(Ql.a,{elevation:3,style:{height:360,overflow:"auto"},children:Object(Fr.jsx)(ua.a,{padding:3,children:Object(Fr.jsx)(Xm.a,{children:v&&Object(Fr.jsx)(Zm.a,{"aria-label":"simple table",children:Object(Fr.jsx)(ej.a,{children:v.map((function(e){return Object(Fr.jsxs)(tj.a,{children:[Object(Fr.jsx)(nj.a,{component:"th",scope:"row",children:e.name}),Object(Fr.jsx)(nj.a,{align:"right"}),Object(Fr.jsx)(nj.a,{align:"right",children:Object(Fr.jsx)(oa.a,{onClick:function(){return g(e.path)},variant:"outlined",color:"primary",children:n?"\u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a":"Restore"})})]},e.name)}))})})})})})]}),o&&Object(Fr.jsx)(Ll,{isRTL:n})]})}var rj=La.b().shape({start:La.a().required().min(0).max(23),end:La.a().required().min(1).max(24),duration:La.a().required().min(15).max(120)}),oj=function(e){var t=e.words,n=e.calendar,a=e.setCalendar,r=e.isRTL,o=Object(na.c)({resolver:Object(_a.a)(rj),defaultValues:{start:n?null===n||void 0===n?void 0:n.start:8.5,end:n?null===n||void 0===n?void 0:n.end:21.5,duration:n?null===n||void 0===n?void 0:n.duration:30}}),i=o.register,c=o.handleSubmit,s=o.errors;return Object(Fr.jsx)(Ql.a,{children:Object(Fr.jsxs)(ua.a,{padding:3,children:[Object(Fr.jsx)(la.a,{variant:"h6",children:r?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0642\u0648\u064a\u0645":"Edit Calendar"}),Object(Fr.jsxs)(ua.a,{style:{marginTop:20},children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:4,children:Object(Fr.jsx)(Nl,{required:!0,name:"start",label:t.start,register:i,errors:s,type:"number"})}),Object(Fr.jsx)(Gl.a,{item:!0,md:8}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:4,children:Object(Fr.jsx)(Nl,{required:!0,name:"end",label:t.end,register:i,errors:s,type:"number"})}),Object(Fr.jsx)(Gl.a,{item:!0,md:8}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,md:4,children:[" ",Object(Fr.jsx)(Nl,{required:!0,name:"duration",label:t.duration,register:i,errors:s,type:"number"})]})]}),Object(Fr.jsx)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"flex-start",height:50},children:Object(Fr.jsx)(oa.a,{onClick:c((function(e){a({start:Number(e.start),end:Number(e.end),duration:Number(e.duration)})})),color:"primary",variant:"contained",style:{width:90,height:34,alignItems:"center",justifyContent:"center"},children:Object(Fr.jsx)(la.a,{children:t.save})})})]})]})})},ij=(n(443),n(444)),cj=n.n(ij),sj=n(657),lj=function(e){var t=e.url,n=e.setUrl,a=e.image,r=e.setImage,o=e.width,i=e.height,c=e.size,s=Object(Xe.useState)(null),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useRef)(null),j=function(){r(null),n(null)};return Object(Xe.useEffect)((function(){u(a?URL.createObjectURL(a):null)}),[a]),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)("input",{ref:m,style:{width:.1,height:.1,opacity:0,position:"absolute",zIndex:-1},type:"file",onChange:function(e){var t,n,a=null===(t=e.target)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0];a&&r(a)}}),d&&Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)("div",{onClick:function(){return j()},style:{position:"absolute",marginTop:10,marginLeft:5,cursor:"pointer"},children:Object(Fr.jsx)(cj.a,{style:{color:"#ff9d2d"}})}),Object(Fr.jsx)("img",{onClick:function(){return m.current.click()},style:{overflow:"hidden",borderRadius:5,cursor:"pointer",objectFit:"cover"},width:o,height:i,src:d})]}),t&&!d&&Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)("div",{onClick:function(){return j()},style:{position:"absolute",marginTop:10,marginLeft:5,cursor:"pointer"},children:Object(Fr.jsx)(cj.a,{style:{color:"#ff9d2d"}})}),Object(Fr.jsx)("img",{onClick:function(){return m.current.click()},style:{overflow:"hidden",borderRadius:5,cursor:"pointer",objectFit:"cover"},width:o,height:i,src:t})]}),!d&&!t&&Object(Fr.jsx)(ua.a,{display:"flex",style:{marginTop:5,borderRadius:5,overflow:"hidden",width:o,height:i,cursor:"pointer",backgroundColor:"#eaeaea",alignItems:"center",justifyContent:"center"},onClick:function(){return m.current.click()},children:Object(Fr.jsx)(la.a,{style:{color:"#bbb",fontSize:14},children:c})})]})},dj=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a,r,o;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(sj.a)(t,Ea);case 3:return n=e.sent,(a=new FormData).append("file",n),a.append("upload_preset","sfnboslv"),a.append("cloud_name","fivegstore"),e.next=10,fetch("https://api.cloudinary.com/v1_1/fivegstore/image/upload",{method:"post",body:a});case 10:return r=e.sent,e.next=13,r.json();case 13:return o=e.sent,e.abrupt("return",o.url);case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",void 0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),uj=La.b().shape({name:La.c().required().min(3).max(100),nameAr:La.c().required(),tel1:La.c().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid").required()}),mj=function(e){var t=e.words,n=e.editCompany,a=e.company,r=e.isRTL,o=Object(Xe.useState)(void 0),i=Object(nt.a)(o,2),c=i[0],s=i[1],l=Object(Xe.useState)(!1),d=Object(nt.a)(l,2),u=d[0],m=d[1],j=Object(Xe.useState)(null),b=Object(nt.a)(j,2),p=b[0],O=b[1],v=Object(Xe.useState)(null),f=Object(nt.a)(v,2),h=f[0],y=f[1],x=Object(na.c)({resolver:Object(_a.a)(uj),defaultValues:{name:null===a||void 0===a?void 0:a.name,nameAr:null===a||void 0===a?void 0:a.nameAr,tel1:null===a||void 0===a?void 0:a.tel1,tel2:null===a||void 0===a?void 0:a.tel2,fax:null===a||void 0===a?void 0:a.fax,mob:null===a||void 0===a?void 0:a.mob,email:null===a||void 0===a?void 0:a.email,website:null===a||void 0===a?void 0:a.website,address:null===a||void 0===a?void 0:a.address}}),g=x.register,w=x.handleSubmit,C=x.errors;Object(Xe.useEffect)((function(){(null===a||void 0===a?void 0:a.logo)&&(s(null===a||void 0===a?void 0:a.logo),y(null===a||void 0===a?void 0:a.logo))}),[a]);var S=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var a,r,o,i,s,l,d,u,m,j,b;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.name.trim(),r=t.nameAr.trim(),o=t.tel1,i=t.tel2,s=t.fax,l=t.mob,d=t.email,u=t.website,m=t.address,!p){e.next=8;break}return e.next=6,dj(p);case 6:j=(j=e.sent).replace("http://","https://");case 8:return b={name:a,nameAr:r,tel1:o,tel2:i,fax:s,mob:l,email:d,website:u,address:m,logo:j||c},e.next=11,n({variables:b});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsx)(Ql.a,{children:Object(Fr.jsxs)(ua.a,{padding:2,children:[Object(Fr.jsx)(la.a,{variant:"h6",children:r?"\u0645\u0639\u0644\u0648\u0627\u062a \u0627\u0644\u0634\u0631\u0643\u0629":"Company Information"}),Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,md:4,children:[r&&Object(Fr.jsxs)(Ze.a.Fragment,{children:[Object(Fr.jsx)(Nl,{required:!0,name:"nameAr",label:t.name,register:g,errors:C,disabled:!u}),Object(Fr.jsx)(Nl,{autoFocus:!0,required:!0,name:"name",label:t.nameEn,register:g,errors:C,disabled:!u})]}),!r&&Object(Fr.jsxs)(Ze.a.Fragment,{children:[Object(Fr.jsx)(Nl,{autoFocus:!0,required:!0,name:"name",label:t.name,register:g,errors:C,disabled:!u}),Object(Fr.jsx)(Nl,{required:!0,name:"nameAr",label:t.nameAr,register:g,errors:C,disabled:!u})]}),Object(Fr.jsx)(Nl,{required:!0,name:"tel1",label:t.phoneNumber,register:g,errors:C,disabled:!u})]}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,md:4,children:[Object(Fr.jsx)(Nl,{name:"fax",label:t.fax,register:g,errors:C,disabled:!u}),Object(Fr.jsx)(Nl,{name:"mob",label:t.mobile,register:g,errors:C,disabled:!u}),Object(Fr.jsx)(Nl,{name:"tel2",label:t.phone2,register:g,errors:C,disabled:!u})]}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,md:4,children:[Object(Fr.jsx)(Nl,{name:"email",label:t.email,register:g,errors:C,disabled:!u}),Object(Fr.jsx)(Nl,{name:"address",label:t.address,register:g,errors:C,multiline:!0,rowsMax:4,rows:4,disabled:!u})]}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,md:4,children:[Object(Fr.jsx)(Nl,{name:"website",label:t.website,register:g,errors:C,disabled:!u}),!1,Object(Fr.jsx)(ua.a,{style:{marginBottom:20}}),Object(Fr.jsx)(lj,{url:h,setUrl:y,image:p,setImage:O,width:300,height:150,size:"400x200"})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:4}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between",height:50,marginTop:20},children:[Object(Fr.jsx)(oa.a,{onClick:w(S),color:"primary",variant:"contained",disabled:!u,style:{width:90,height:34,alignItems:"center",justifyContent:"center"},children:Object(Fr.jsx)(la.a,{children:t.save})}),Object(Fr.jsx)(ql.a,{control:Object(Fr.jsx)(Ic.a,{checked:u,onChange:function(e){return m(e.target.checked)},name:"checkedB",color:"primary"}),label:r?"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u0639\u062f\u064a\u0644":"Activate"})]})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{flexDirection:"row",direction:"ltr",flex:1,alignItems:"center",justifyContent:"space-between"},children:[Object(Fr.jsxs)(ua.a,{display:"flex",style:{flexDirection:"row",direction:"ltr"},children:[Object(Fr.jsx)(ua.a,{style:{fontWeight:"bold",fontSize:11,color:"#ccc",marginLeft:10,marginRight:10},children:"App ID:"}),Object(Fr.jsx)(ua.a,{display:"flex",style:{fontWeight:"bold",fontSize:11,color:"#ccc"},children:null===a||void 0===a?void 0:a.appid})]}),Object(Fr.jsx)(ua.a,{display:"flex",style:{fontWeight:"bold",fontSize:11,color:"#ccc",marginLeft:10,marginRight:10},children:null===a||void 0===a?void 0:a.appversion})]})]})]})})};function jj(e){var t=e.isRTL,n=e.words,a=e.setNames,r=Object(Xe.useContext)(Rr).store.names,o=Object(na.c)({defaultValues:{tasks:r?null===r||void 0===r?void 0:r.tasks:null,customers:r?null===r||void 0===r?void 0:r.customers:null,employees:r?null===r||void 0===r?void 0:r.employees:null,departments:r?null===r||void 0===r?void 0:r.departments:null}}),i=o.register,c=o.handleSubmit,s=o.errors;return Object(Fr.jsx)(Ql.a,{children:Object(Fr.jsxs)(ua.a,{padding:3,children:[Object(Fr.jsx)(la.a,{variant:"h6",children:t?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0627\u0633\u0645\u0627\u0621":"Edit Names"}),Object(Fr.jsxs)(ua.a,{style:{marginTop:20},children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:3,children:Object(Fr.jsx)(Nl,{name:"tasks",label:n.task,register:i,errors:s})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:3,children:Object(Fr.jsx)(Nl,{name:"employees",label:n.employee,register:i,errors:s})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6}),Object(Fr.jsx)(Gl.a,{item:!0,xs:3,children:Object(Fr.jsx)(Nl,{name:"departments",label:n.department,register:i,errors:s})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:3,children:Object(Fr.jsx)(Nl,{name:"customers",label:n.customer,register:i,errors:s})})]}),Object(Fr.jsx)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"flex-start",height:50},children:Object(Fr.jsx)(oa.a,{onClick:c((function(e){var t=e.customers,n=e.departments,r=e.employees,o=e.tasks;(null===t||void 0===t?void 0:t.length)<3||(null===t||void 0===t?void 0:t.length)<3||(null===t||void 0===t?void 0:t.length)<3||(null===t||void 0===t?void 0:t.length)<3||a({tasks:o,customers:t,employees:r,departments:n})})),color:"primary",variant:"contained",style:{width:90,height:34,alignItems:"center",justifyContent:"center"},children:Object(Fr.jsx)(la.a,{children:n.save})})})]})]})})}var bj={duration:30,start:8.5,end:21.5},pj=function(e){e.menuitem;var t=e.isRTL,n=e.words,a=e.isEditor,r=e.company,o=e.editCompany,i=(e.theme,Object(Xe.useContext)(Rr)),c=i.store,s=i.dispatch,l=c.lang,d=c.themeId,u=c.user,m=c.calendar,j=fa(u),b=function(e){s({type:"setCalendar",payload:e})};return m||b(bj),Object(Fr.jsx)(ua.a,{style:{padding:10},children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:10,children:Object(Fr.jsx)(Ym,{lang:l,setLang:function(e){s({type:"setLang",payload:e})},isRTL:t})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:10,children:a&&Object(Fr.jsx)(oj,{calendar:m,words:n,setCalendar:b,isRTL:t})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:10,children:Object(Fr.jsx)(Jm,{isRTL:t,themeId:d,setThemeId:function(e){s({type:"setThemeId",payload:e})}})}),j&&Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:10,children:Object(Fr.jsx)(aj,{isRTL:t,dialog:!1})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:10,children:Object(Fr.jsx)(mj,{company:r,editCompany:o,words:n,isRTL:t})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:10,children:Object(Fr.jsx)(jj,{setNames:function(e){s({type:"setNames",payload:e})},isRTL:t,words:n})})]})})};var Oj=function(e){var t=e.open,n=e.onClose,a=e.row,o=e.editPassword,i=e.theme,c=Object(Xe.useState)({show:!1,msg:"",type:void 0}),s=Object(nt.a)(c,2),l=s[0],d=s[1],u=Object(na.c)(r.passResolver),m=u.register,j=u.handleSubmit,b=u.errors,p=u.reset,O=Object(Xe.useContext)(Rr).translate.isRTL,v=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var r,i,c,s,l,u,m,j,b,v,h;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.password,i=t.newPassword,c=t.newPassword2,i===c){e.next=7;break}return e.next=6,Us(d,"password not match");case 6:return e.abrupt("return");case 7:return s={_id:a._id,password:r,newPassword:i},e.prev=8,e.next=11,o({variables:s});case 11:if(!0!==(null===(b=e.sent)||void 0===b||null===(l=b.data)||void 0===l||null===(u=l.changePassword)||void 0===u?void 0:u.ok)){e.next=17;break}return e.next=15,Fs(d,O);case 15:e.next=21;break;case 17:if(!1!==(null===b||void 0===b||null===(m=b.data)||void 0===m||null===(j=m.changePassword)||void 0===j?void 0:j.ok)){e.next=21;break}return e.next=20,Us(d,null===b||void 0===b||null===(v=b.data)||void 0===v||null===(h=v.changePassword)||void 0===h?void 0:h.error);case 20:return e.abrupt("return");case 21:p(),n(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(8),f(e.t0);case 28:case"end":return e.stop()}}),e,null,[[8,25]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(d,O);case 3:e.next=9;break;case 5:return e.next=7,Hs(d,O);case 7:p(),console.log(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=O?"\u062a\u0639\u062f\u064a\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"Change Password";return Object(Fr.jsx)(pu,{isRTL:O,open:t,onClose:n,title:h,onSubmit:function(){j(v)()},theme:i,alrt:l,maxWidth:"xs",children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:9,children:[Object(Fr.jsx)(xd,{autoFocus:!0,required:!0,type:"password",name:"password",label:O?"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062d\u0627\u0644\u064a\u0629":"Current Password",register:m,errors:b,row:a,fullWidth:!0}),Object(Fr.jsx)(xd,{required:!0,type:"password",name:"newPassword",label:O?"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629":"New Password",register:m,errors:b,row:a,fullWidth:!0}),Object(Fr.jsx)(xd,{required:!0,type:"password",name:"newPassword2",label:O?"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629":"New Password",register:m,errors:b,row:a,fullWidth:!0})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2})]})})},vj=function(e){var t=e.open,n=e.onClose,a=e.row,o=e.isNew,i=e.applyChanges,c=e.addAction,s=e.editAction,l=e.theme,d=e.editPassword,u=e.block,m=Object(Xe.useState)(!1),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)({show:!1,msg:"",type:void 0}),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)({}),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Object(Xe.useState)("branch1"),S=Object(nt.a)(C,2),I=S[0],N=S[1],A=Object(Xe.useState)(!1),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Object(Xe.useState)(!1),R=Object(nt.a)(D,2),E=R[0],L=R[1],_=Object(na.c)(o?r.addUserResolver:r.editUserResolver),P=_.register,q=_.handleSubmit,B=_.errors,W=_.reset,z=Object(Xe.useContext)(Rr),V=z.translate,F=V.words,M=V.isRTL,H=z.store.user,U=ha(H),Q=au().branches;Object(Xe.useEffect)((function(){var e=function(e,t){var n={};return 0===e.length||e.map((function(e){e.basename===t&&(n[e.basename]={},e.systems.map((function(t){n[e.basename][t]={}})))})),n}(Q,I);w(e)}),[t,I]),Object(Xe.useEffect)((function(){if(a&&a._id){var e=JSON.parse(a.roles);N(a.branch),w(e),k(a.block)}}),[t]);var G=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,r,l,d,u,m;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===H.isSuperAdmin){e.next=5;break}if(!0!==a.isSuperAdmin&&"true"!==a.isSuperAdmin){e.next=5;break}return e.next=4,Us(h,"You can't change this account");case 4:return e.abrupt("return");case 5:p(!0),i(),n=o?t.username:a.username,r=t.name.trim(),l=t.phone,d=t.password,u=t.email,m={_id:a&&a._id?a._id:void 0,username:n,name:r,phone:l,email:u,password:o?d:void 0,roles:JSON.stringify(g),branch:I,userId:H._id},K(o?c:s,m);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({variables:n}),p(!1),J()}catch(a){Y(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(h,M);case 3:e.next=9;break;case 5:return e.next=7,Hs(h,M);case 7:W(),console.log(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){W(),w({}),N("branch1"),n()},X=M?o?"\u0627\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645":"\u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0645\u0633\u062a\u062e\u062f\u0645":o?"New User":"Edit User";return Object(Fr.jsx)(pu,{isRTL:M,open:t,onClose:n,title:X,onSubmit:function(){q(G)()},theme:l,alrt:f,mb:50,saving:b,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:9,children:[Object(Fr.jsx)(Nl,{autoFocus:!0,required:!0,name:"username",label:F.username,register:P,errors:B,row:a,disabled:!o}),o&&Object(Fr.jsx)(Nl,{required:!0,name:"password",label:F.password,register:P,errors:B,row:a,type:"password"}),Object(Fr.jsx)(Nl,{required:!0,name:"name",label:F.name,register:P,errors:B,row:a}),Object(Fr.jsx)(Nl,{name:"phone",label:F.phoneNumber,register:P,errors:B,row:a}),Object(Fr.jsx)(Nl,{name:"email",label:F.email,register:P,errors:B,row:a}),Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(la.a,{variant:"h6",style:{marginTop:10},children:M?"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a":"Roles"})}),Q&&g&&Object(Fr.jsx)(Wl,{roles:g,isRTL:M,branches:Q,brch:I,handleChangeRoles:function(e){var t=e.branch,n=e.system,a=e.role;if(t){var r=Object(bt.a)({},g);t&&!n?!0===r[t][a]?delete r[t][a]:r[t][a]=!0:!0===r[t][n][a]?delete r[t][n][a]:r[t][n][a]=!0,w(r)}}}),Object(Fr.jsx)(ua.a,{display:"flex",style:{flex:1,alignItems:"center",justifyContent:"center",marginTop:20}}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"flex-end"},children:[!o&&Object(Fr.jsx)(oa.a,{variant:"outlined",color:"primary",onClick:function(){return L(!0)},style:{marginLeft:10,marginRight:10},children:M?"\u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"Change Password"}),U&&!a.isSuperAdmin&&!o&&Object(Fr.jsx)(oa.a,{color:$?"secondary":"primary",onClick:function(){var e={_id:a._id,block:!$};u({variables:e})},variant:"outlined",children:$?M?"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062d\u0633\u0627\u0628":"Unblock user":M?"\u062a\u0639\u0637\u064a\u0644 \u0627\u0644\u062d\u0633\u0627\u0628":"Block user"})]})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2}),Object(Fr.jsx)(Oj,{open:E,onClose:function(){return L(!1)},row:a,editPassword:d,theme:l})]})})},fj=function(e){return e._id};function hj(e){var t=e.isRTL,n=e.words,a=e.theme,r=e.menuitem,o=e.isEditor,i=Object(Xe.useState)(!1),c=Object(nt.a)(i,2),s=c[0],l=c[1],d=Object(Xe.useState)({show:!1,msg:"",type:void 0}),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Object(Xe.useState)([{name:"avatar",title:n.avatar},{name:"username",title:n.username},{name:"name",title:n.name},{name:"phone",title:n.phoneNumber},{name:"email",title:n.email},{name:"roles",title:n.roles},{name:"block",title:t?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status"}]),p=Object(nt.a)(b,1)[0],O=function(){var e,t,n=Object(Fd.a)(zt),a=Object(nt.a)(n,2),r=a[0],o=a[1],i=Object(ta.a)(kn,{refetchQueries:[{query:zt}]}),c=Object(nt.a)(i,1)[0],s=Object(ta.a)(Dn,{refetchQueries:[{query:zt}]}),l=Object(nt.a)(s,1)[0],d=Object(ta.a)(Hn,{refetchQueries:[{query:zt}]}),u=Object(nt.a)(d,1)[0],m=Object(ta.a)(Un,{refetchQueries:[{query:zt}]}),j=Object(nt.a)(m,1)[0],b=Object(ta.a)(Rn,{refetchQueries:[{query:zt}]}),p=Object(nt.a)(b,1)[0];return Object(Xe.useEffect)((function(){r()}),[r]),{users:(null===o||void 0===o||null===(e=o.data)||void 0===e||null===(t=e.getUsers)||void 0===t?void 0:t.data)||[],refreshuser:function(){return null===o||void 0===o?void 0:o.refetch()},addUser:c,editUser:l,removeUser:p,editPassword:u,block:j}}(),v=O.users,f=O.addUser,h=O.editUser,y=O.removeUser,x=O.editPassword,g=O.block,w=O.refreshuser,C=function(){var e=Object(ea.a)(Zn.a.mark((function e(n){var a,r,o,i,c;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.deleted)){e.next=12;break}return i=a[0],l(!0),e.next=6,y({variables:{_id:i}});case 6:if(!1!==(null===(c=e.sent)||void 0===c||null===(r=c.data)||void 0===r||null===(o=r.deleteUser)||void 0===o?void 0:o.ok)){e.next=11;break}return e.next=10,Hs(j,t);case 10:return e.abrupt("return");case 11:l(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S={add:function(e){var t=e.onExecute;return Object(Fr.jsx)("div",{style:{textAlign:"center"},children:Object(Fr.jsx)(ua.a,{m:1,children:Object(Fr.jsx)(bi.a,{color:"primary",onClick:t,title:"Create new row",children:Object(Fr.jsx)(li.a,{})})})})},edit:function(e){var t=e.onExecute;return Object(Fr.jsx)(Jr.a,{onClick:t,title:"Edit row",children:Object(Fr.jsx)($u.a,{})})},delete:function(e){var t=e.onExecute;return Object(Fr.jsx)(Jr.a,{onClick:function(){window.confirm("Are you sure you want to delete this row?")&&t()},title:"Delete row",children:Object(Fr.jsx)(_s.a,{})})}};return Object(Fr.jsx)(Gd,{menuitem:r,isRTL:t,words:n,isEditor:o,theme:a,refresh:w,children:Object(Fr.jsxs)(Ql.a,{children:[s&&Object(Fr.jsx)(Ll,{isRTL:t}),Object(Fr.jsxs)(Od.c,{rows:v,columns:p,getRowId:fj,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:C}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["roles"],formatterComponent:function(e){return function(e){var t=e.value,n=e.row,a=e.isRTL,r=Object(bt.a)(Object(bt.a)({},n),{},{roles:JSON.parse(t)});return fa(r)?Object(Fr.jsx)(ua.a,{children:a?"\u0627\u0644\u0623\u062f\u0645\u0646":"Main Admin"}):ha(r)?Object(Fr.jsx)(ua.a,{children:a?"\u0645\u062f\u064a\u0631 \u0627\u0644\u0641\u0631\u0639":"Branch Admin"}):ya(r,"cal")||ya(r,"pos")?Object(Fr.jsx)(ua.a,{children:a?"\u0645\u062f\u064a\u0631 \u062d\u0633\u0627\u0628":"Account Admin"}):xa(r,"cal")||xa(r,"pos")?Object(Fr.jsx)(ua.a,{children:a?"\u0645\u062d\u0631\u0631":"Editor"}):wa(r,"cal")||wa(r,"pos")?Object(Fr.jsx)(ua.a,{children:a?"\u0632\u0627\u0626\u0631":"Viewer"}):Object(Fr.jsx)(ua.a,{})}(Object(bt.a)(Object(bt.a)({},e),{},{isRTL:t}))}}),Object(Fr.jsx)(Au.b,{for:["avatar"],formatterComponent:Lc}),Object(Fr.jsx)(Au.b,{for:["block"],formatterComponent:_c}),Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:function(e){var t=e.id,n=e.onExecute,a=S[t];return Object(Fr.jsx)(a,{onExecute:n})}}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:a,addAction:f,editAction:h,children:Object(Fr.jsx)(vj,{editPassword:x,block:g})})]}),m.show&&Object(Fr.jsx)(fd,{isRTL:t,type:null===m||void 0===m?void 0:m.type,msg:null===m||void 0===m?void 0:m.msg,top:!0})]})})}function yj(e){var t=e.isRTL,n=e.words,a=e.isEditor,r=e.theme,o=e.menuitem,i=Object(Xe.useState)(!1),c=Object(nt.a)(i,2),s=c[0],l=c[1],d=Object(Xe.useState)({show:!1,msg:"",type:void 0}),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Object(Xe.useState)([{name:t?"nameAr":"name",title:n.name},{name:t?"name":"nameAr",title:n.name},{name:"desc",title:n.description},{name:"avatar",title:n.color},{id:11,ref:"status",name:"status",title:" "}]),p=Object(nt.a)(b,1)[0],O=xu(),v=O.departments,f=O.addDepartment,h=O.editDepartment,y=O.removeDepartment,x=O.refreshdepartment,g=function(){var e=Object(ea.a)(Zn.a.mark((function e(n){var a,r,o,i,c,s,d;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.deleted)){e.next=16;break}return i=a[0],l(!0),e.next=6,y({variables:{_id:i}});case 6:if(!1!==(null===(c=e.sent)||void 0===c||null===(r=c.data)||void 0===r||null===(o=r.deleteDepartment)||void 0===o?void 0:o.ok)){e.next=15;break}if(!(null===c||void 0===c||null===(s=c.data)||void 0===s||null===(d=s.deleteDepartment)||void 0===d?void 0:d.error.includes("related"))){e.next=13;break}return e.next=11,Gs(j,t);case 11:e.next=15;break;case 13:return e.next=15,Hs(j,t);case 15:l(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsx)(Gd,{menuitem:o,isRTL:t,words:n,isEditor:a,theme:r,refresh:x,children:Object(Fr.jsxs)(Ql.a,{children:[s&&Object(Fr.jsx)(Ll,{isRTL:t}),Object(Fr.jsxs)(Od.c,{rows:v,columns:p,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:g}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["avatar"],formatterComponent:Ec}),a&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:r,addAction:f,editAction:h,children:Object(Fr.jsx)(Ou,{depType:2})})]}),m.show&&Object(Fr.jsx)(fd,{isRTL:t,type:null===m||void 0===m?void 0:m.type,msg:null===m||void 0===m?void 0:m.msg,top:!0})]})})}function xj(e){var t=e.isRTL,n=e.words,a=e.isEditor,r=e.theme,o=e.menuitem,i=Object(Xe.useState)(!1),c=Object(nt.a)(i,2),s=c[0],l=c[1],d=Object(Xe.useState)({show:!1,msg:"",type:void 0}),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Object(Xe.useState)([{name:t?"nameAr":"name",title:n.name},{name:"avatar",title:n.color},{name:"phone",title:n.phoneNumber},{name:"email",title:n.email},{name:t?"departmentNameAr":"departmentName",title:n.department},{name:"info",title:n.info},{name:"daysoff",title:t?"\u064a\u0648\u0645 \u0627\u0644\u0639\u0637\u0644\u0629":"Day Off"}]),p=Object(nt.a)(b,1)[0],O=function(){var e,t,n="ar"===Gn("store").lang,a=Object(Fd.a)(Pt,{variables:{isRTL:n,resKind:1,resType:2}}),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(ta.a)(on,{refetchQueries:[{query:Pt,variables:{isRTL:n,resKind:1,resType:2}},{query:Pt,variables:{isRTL:n}}]}),s=Object(nt.a)(c,1)[0],l=Object(ta.a)(sn,{refetchQueries:[{query:Pt,variables:{isRTL:n,resKind:1,resType:2}},{query:Pt,variables:{isRTL:n}}]}),d=Object(nt.a)(l,1)[0],u=Object(ta.a)(cn,{refetchQueries:[{query:Pt,variables:{isRTL:n,resKind:1,resType:2}},{query:Pt,variables:{isRTL:n}}]}),m=Object(nt.a)(u,1)[0];return Object(Xe.useEffect)((function(){o()}),[o]),{employees:(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.getEmployees)||void 0===t?void 0:t.data)||[],refreshemployee:function(){return null===i||void 0===i?void 0:i.refetch()},addEmployee:s,editEmployee:d,removeEmployee:m}}(),v=O.employees,f=O.addEmployee,h=O.editEmployee,y=O.removeEmployee,x=O.refreshemployee,g=function(){var e=Object(ea.a)(Zn.a.mark((function e(n){var a,r,o,i,c,s,d;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.deleted)){e.next=16;break}return i=a[0],l(!0),e.next=6,y({variables:{_id:i}});case 6:if(!1!==(null===(c=e.sent)||void 0===c||null===(r=c.data)||void 0===r||null===(o=r.deleteEmployee)||void 0===o?void 0:o.ok)){e.next=15;break}if(!(null===c||void 0===c||null===(s=c.data)||void 0===s||null===(d=s.deleteEmployee)||void 0===d?void 0:d.error.includes("related"))){e.next=13;break}return e.next=11,Gs(j,t);case 11:e.next=15;break;case 13:return e.next=15,Hs(j,t);case 15:l(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsx)(Gd,{menuitem:o,isRTL:t,words:n,isEditor:a,theme:r,refresh:x,children:Object(Fr.jsxs)(Ql.a,{children:[s&&Object(Fr.jsx)(Ll,{isRTL:t}),Object(Fr.jsxs)(Od.c,{rows:v,columns:p,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:g}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["avatar"],formatterComponent:Ec}),Object(Fr.jsx)(Au.b,{for:["color"],formatterComponent:Dc}),Object(Fr.jsx)(Au.b,{for:["daysoff"],formatterComponent:function(e){return Rc(Object(bt.a)(Object(bt.a)({},e),{},{isRTL:t}))}}),a&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:r,addAction:f,editAction:h,children:Object(Fr.jsx)(hu,{resKind:1,resType:2})})]}),m.show&&Object(Fr.jsx)(fd,{isRTL:t,type:null===m||void 0===m?void 0:m.type,msg:null===m||void 0===m?void 0:m.msg,top:!0})]})})}var gj,wj=n(903),Cj=n(818),Sj=Object(Lt.a)(gj||(gj=Object(Et.a)(["\n  query getObjectEvents(\n    $departmentId: String\n    $employeeId: String\n    $customerId: String\n    $taskId: Int\n  ) {\n    getObjectEvents(\n      departmentId: $departmentId\n      employeeId: $employeeId\n      customerId: $customerId\n      taskId: $taskId\n    ) {\n      ok\n      error\n      data {\n        _id\n        id\n        taskId\n        branch\n        title\n        startDate\n        endDate\n        allDay\n        rRule\n        reminder\n        exDate\n        allowDrag\n\n        autoNo\n        docNo\n        priority\n        amount\n        status\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        refNo\n        refType\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Ij=new Date(Date.UTC(2012,1,1,10,30));var Nj=n(231),Aj=n.n(Nj),Tj=n(232),$j=n.n(Tj),kj=Object(Fr.jsx)(Aj.a,{fontSize:"small"}),Dj=Object(Fr.jsx)($j.a,{fontSize:"small"});function Rj(e){var t=e.options,n=e.value,a=e.setValue,r=e.words,o=e.isRTL,i=e.name,c=e.width,s=e.nomulti,l=void 0!==s&&s;return Object(Fr.jsx)(kl.a,{size:"small",multiple:!l,options:t,disableCloseOnSelect:!0,disableListWrap:!0,getOptionLabel:function(e){return o?e.nameAr:e.name},renderOption:function(e,t){var n=t.selected;return Object(Fr.jsxs)(ua.a,{style:{direction:o?"rtl":"ltr",display:"flex",flex:1,alignItems:"center"},children:[!l&&Object(Fr.jsx)(Ic.a,{icon:kj,checkedIcon:Dj,style:{marginRight:8},checked:n}),o?e.nameAr:e.name]})},value:n,onChange:function(e,t){a(t)},renderInput:function(e){return Object(Fr.jsx)(da.a,Object(bt.a)(Object(bt.a)({},e),{},{rows:1,rowsMax:1,id:i,name:i,label:r[i],variant:"outlined",style:{width:c||200,marginRight:5,marginLeft:5,fontSize:10,margin:0,padding:0}}))}})}var Ej=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,r=e.theme,o=e.isRTL,i=e.words,c=e.start,s=Object(Xe.useState)(!1),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)(Cm.b.DAILY),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)([]),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)([]),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Object(Xe.useState)(c||new Date),S=Object(nt.a)(C,2),I=S[0],N=S[1],A=Object(Xe.useState)(null),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Object(Xe.useState)(1),R=Object(nt.a)(D,2),E=R[0],L=R[1],_=Object(Xe.useState)(1),P=Object(nt.a)(_,2),q=P[0],B=P[1],W=Object(Xe.useState)({show:!1,msg:"",type:void 0}),z=Object(nt.a)(W,2),V=z[0];z[1];Object(Xe.useEffect)((function(){if(f&&f.length>0){var e=f.map((function(e){return e.value}));w(e)}}),[f]),Object(Xe.useEffect)((function(){b!==Cm.b.WEEKLY&&(h([]),w([]))}),[b]);var F=o?"\u0627\u0646\u0634\u0627\u0621 \u0645\u0648\u0627\u0639\u064a\u062f \u0645\u062a\u0639\u062f\u062f\u0629":"Add Multi Appointments",M=function(){p(Cm.b.DAILY),N(new Date),k(null),L(1),B(1),h([]),w([]),n(),u(!1)};return Object(Fr.jsx)(pu,{isRTL:o,open:t,onClose:M,title:F,onSubmit:function(){u(!0);var e=function(e){var t=e.freq,n=void 0===t?Cm.a.WEEKLY:t,a=e.byweekday,r=e.dtstart,o=void 0===r?Ij:r,i=e.until,c=void 0===i?null:i,s=e.interval,l=void 0===s?1:s,d=e.count,u=void 0===d?1:d,m=new Cm.a({freq:n,interval:l,byweekday:a,dtstart:o,until:c,count:u});return{all:m.all(),str:m.toString(),txt:m.toText()}}({freq:b,byweekday:g.length>0?g:void 0,dtstart:I,until:$,interval:E,count:q});a(e),u(!1),M()},theme:r,alrt:V,fullwidth:!0,maxWidth:"md",saving:d,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:9,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(yd,{isRTL:o,label:i.start,value:I,onChange:function(e){return N(e)}})}),Object(Fr.jsx)(wm,{options:Sm,value:b,onChange:function(e){p(e.target.value)},isRTL:o}),b===Cm.b.WEEKLY&&Object(Fr.jsx)(Rj,{options:Im,value:f,setValue:h,words:i,isRTL:o,name:"weekdays",width:240}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{required:!0,name:"count",label:i.qty,value:q,onChange:function(e){var t=Number(e.target.value);B(t<1?1:t)},type:"number",width:240})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{required:!0,name:"interval",label:i.interval,value:E,onChange:function(e){var t=Number(e.target.value);L(t<1?1:t)},type:"number",width:240})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(yd,{isRTL:o,label:i.end,value:$,onChange:function(e){return k(e)}})})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2})]})})},Lj=function(e){return e.map((function(e,t){return Object(bt.a)(Object(bt.a)({},e),{},{index:t})}))},_j=function(e){var t=e.open,n=e.onClose,a=e.row,r=e.isNew,o=e.addAction,i=e.editAction,c=e.employees,s=e.departments,l=e.customers,d=e.servicesproducts,u=e.theme,m=e.company,j=e.isEditor,b=e.tasks,p=e.name,O=e.value,v=gt(),f=Object(Xe.useState)(!1),h=Object(nt.a)(f,2),y=h[0],x=h[1],g=Object(Xe.useState)(null),w=Object(nt.a)(g,2),C=w[0],S=w[1],I=Object(Xe.useState)(null),N=Object(nt.a)(I,2),A=N[0],T=N[1],$=Object(Xe.useState)("departmentId"===p?O:null),k=Object(nt.a)($,2),D=k[0],R=k[1],E=Object(Xe.useState)(!1),L=Object(nt.a)(E,2),_=L[0],P=L[1],q=Ze.a.useRef(),B=Object(Xe.useState)("employeeId"===p?O:null),W=Object(nt.a)(B,2),z=W[0],V=W[1],F=Object(Xe.useState)(!1),M=Object(nt.a)(F,2),H=M[0],U=M[1],Q=Ze.a.useRef(),G=Object(Xe.useState)("customerId"===p?O:null),K=Object(nt.a)(G,2),Y=K[0],J=K[1],X=Object(Xe.useState)(!1),Z=Object(nt.a)(X,2),ee=Z[0],te=Z[1],ne=Ze.a.useRef(),ae=Object(Xe.useState)(null),re=Object(nt.a)(ae,2),oe=re[0],ie=re[1],ce=Object(Xe.useState)({}),se=Object(nt.a)(ce,2),le=se[0],de=se[1],ue=Object(Xe.useState)([]),me=Object(nt.a)(ue,2),je=me[0],be=me[1],pe=Object(Xe.useState)(null),Oe=Object(nt.a)(pe,2),ve=Oe[0],fe=Oe[1],he=Object(Xe.useState)(!1),ye=Object(nt.a)(he,2),xe=ye[0],ge=ye[1],we=Object(Xe.useState)(!1),Ce=Object(nt.a)(we,2),Se=Ce[0],Ie=Ce[1],Ne=Object(Xe.useState)("taskId"===p?O:null),Ae=Object(nt.a)(Ne,2),Te=Ae[0],$e=Ae[1],ke=Object(Xe.useState)({show:!1,msg:"",type:void 0}),De=Object(nt.a)(ke,2),Re=De[0],Ee=De[1],Le=Object(Xe.useState)(!1),_e=Object(nt.a)(Le,2),Pe=_e[0],qe=_e[1],Be=Object(Xe.useState)([]),We=Object(nt.a)(Be,2),ze=We[0],Ve=We[1],Fe=Object(Xe.useState)(null),Me=Object(nt.a)(Fe,2),He=Me[0],Ue=Me[1],Qe=Object(Xe.useState)(null),Ge=Object(nt.a)(Qe,2),Ke=Ge[0],Ye=Ge[1],Je=Object(Xe.useState)(null),et=Object(nt.a)(Je,2),tt=et[0],rt=et[1],ot=Object(Xe.useState)([]),it=Object(nt.a)(ot,2),ct=it[0],st=it[1],lt=Object(na.c)({}),dt=lt.register,ut=lt.handleSubmit,mt=Object(Xe.useContext)(Rr),jt=mt.translate,pt=jt.words,Ot=jt.isRTL,vt=mt.store.user,ft=Object(Fd.a)(Yt,{fetchPolicy:"cache-and-network"}),ht=Object(nt.a)(ft,2),yt=ht[0],xt=ht[1],wt=Object(Fd.a)(tn,{fetchPolicy:"cache-and-network"}),Ct=Object(nt.a)(wt,2),St=Ct[0],It=Ct[1];Object(Xe.useEffect)((function(){if(c&&c.length>0){var e=c.filter((function(e){return e.resKind===tt&&1===e.resType}));st(e)}}),[tt,c]),Object(Xe.useEffect)((function(){if(r&&Te){if((null===Te||void 0===Te?void 0:Te.departmentId)&&"departmentId"!==p){var e,t=null===(e=s.filter((function(e){return e._id===(null===Te||void 0===Te?void 0:Te.departmentId)})))||void 0===e?void 0:e[0];R(t)}if((null===Te||void 0===Te?void 0:Te.employeeId)&&"employeeId"!==p){var n,a=null===(n=c.filter((function(e){return e._id===(null===Te||void 0===Te?void 0:Te.employeeId)})))||void 0===n?void 0:n[0];V(a)}}}),[Te]),Object(Xe.useEffect)((function(){if(r&&z&&(null===z||void 0===z?void 0:z.departmentId)&&"departmentId"!==p){var e,t=null===(e=s.filter((function(e){return e._id===(null===z||void 0===z?void 0:z.departmentId)})))||void 0===e?void 0:e[0];R(t)}}),[z]),Object(Xe.useEffect)((function(){var e,t,n,a,r=(null===xt||void 0===xt||null===(e=xt.data)||void 0===e||null===(t=e.getOperationItems)||void 0===t?void 0:t.data)||[],o=(null===It||void 0===It||null===(n=It.data)||void 0===n||null===(a=n.getActions)||void 0===a?void 0:a.data)||[];if(r&&r.length>0){var i=r.map((function(e){return e.itemId})),c=d.filter((function(e){return i.includes(e._id)})),s=r.map((function(e,t){var n=e.categoryId,a=e.categoryName,r=e.categoryNameAr,o=e.departmentId,i=e.departmentName,s=e.departmentNameAr,l=e.departmentColor,d=e.employeeId,u=e.employeeName,m=e.employeeNameAr,j=e.employeeColor,b=c.filter((function(t){return t._id===e.itemId}))[0];return Object(bt.a)(Object(bt.a)({},b),{},{categoryId:n,categoryName:a,categoryNameAr:r,departmentId:o,departmentName:i,departmentNameAr:s,departmentColor:l,employeeId:d,employeeName:u,employeeNameAr:m,employeeColor:j,index:t,itemprice:e.itemPrice,itemqty:e.qty,itemtotal:e.total})}));s.sort((function(e,t){return e.indx>t.indx?1:t.indx>e.indx?-1:0})),be(s);var l=Lj(o);Ve(l),x(!1)}}),[xt,It]),Object(Xe.useEffect)((function(){if(r){var e,t=new Date,n=new Date;if(t.setMinutes(0),n.setHours(n.getHours()+1),n.setMinutes(0),S(t),T(n),ie(null===(e=or.filter((function(e){return 2===e.id})))||void 0===e?void 0:e[0]),"taskId"===p){if(null===O||void 0===O?void 0:O.departmentId){var a,o=null===(a=s.filter((function(e){return e._id===(null===O||void 0===O?void 0:O.departmentId)})))||void 0===a?void 0:a[0];R(o)}if(null===O||void 0===O?void 0:O.employeeId){var i,d=null===(i=c.filter((function(e){return e._id===(null===O||void 0===O?void 0:O.employeeId)})))||void 0===i?void 0:i[0];V(d)}if(null===O||void 0===O?void 0:O.customerId){var u,m=null===(u=l.filter((function(e){return e._id===(null===O||void 0===O?void 0:O.customerId)})))||void 0===u?void 0:u[0];J(m)}}if("employeeId"===p&&(null===O||void 0===O?void 0:O.departmentId)){var j,b=null===(j=s.filter((function(e){return e._id===(null===O||void 0===O?void 0:O.departmentId)})))||void 0===j?void 0:j[0];R(b)}}}),[t]),Object(Xe.useEffect)((function(){Nt()}),[je]),Object(Xe.useEffect)((function(){if(a&&a._id){x(!0),yt({variables:{opId:a._id}}),St({variables:{eventId:a.id}}),Ye(null===a||void 0===a?void 0:a.title);var e=a.departmentId,t=a.employeeId,n=a.customerId,r=a.status;if(S(null===a||void 0===a?void 0:a.startDate),T(null===a||void 0===a?void 0:a.endDate),fe(null===a||void 0===a?void 0:a.rRule),e){var o=s.filter((function(t){return t._id===e}))[0];R(o)}if(t){var i=c.filter((function(e){return e._id===t}))[0];V(i)}if(n){var d=l.filter((function(e){return e._id===n}))[0];J(d)}if(r){var u=or.filter((function(e){return e.id===r}))[0];ie(u)}}}),[a]);var Nt=function(){var e=je.map((function(e){return e.itemtotal})).reduce((function(e,t){return e+t}),0),t=je.map((function(e){return e.itemtotalcost})).reduce((function(e,t){return e+t}),0);de({itemsSum:e,itemsCostSum:t,costAmount:t,total:e,amount:e,profit:e-t})},At=function(){var e=Object(ea.a)(Zn.a.mark((function e(){var t,n,c,s,l;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(C>A)){e.next=4;break}return e.next=3,Ks(Ee,Ot?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change");case 3:return e.abrupt("return");case 4:if(new Date(C).getDate()===new Date(A).getDate()){e.next=8;break}return e.next=7,Ks(Ee,Ot?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change");case 7:return e.abrupt("return");case 8:if(je&&0!==je.length){e.next=12;break}return e.next=11,Ks(Ee,Ot?"\u064a\u062c\u0628 \u0627\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631 (\u062e\u062f\u0645\u0629 \u0627\u0648 \u0645\u0646\u062a\u062c) \u0648\u0627\u062d\u062f \u0644\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644":"You should add min one service to invoice");case 11:return e.abrupt("return");case 12:c=(null===ve||void 0===ve?void 0:ve.str)?null===ve||void 0===ve?void 0:ve.str:void 0,s=Ke||(Ot?null===je||void 0===je||null===(t=je[0])||void 0===t?void 0:t.nameAr:null===je||void 0===je||null===(n=je[0])||void 0===n?void 0:n.name),l={id:a&&a.id?a.id:void 0,title:s,startDate:C,endDate:A,amount:le.amount,status:oe?oe.id:2,items:JSON.stringify(je),actions:JSON.stringify(ze),rRule:c,taskId:Te?Te.id:void 0,customer:Y?{customerId:Y._id,customerName:Y.name,customerNameAr:Y.nameAr,customerPhone:Y.phone}:{customerId:void 0,customerName:void 0,customerNameAr:void 0,customerPhone:void 0},department:D?{departmentId:D._id,departmentName:D.name,departmentNameAr:D.nameAr,departmentColor:D.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},employee:z?{employeeId:z._id,employeeName:z.name,employeeNameAr:z.nameAr,employeeColor:z.color,employeePhone:z.phone}:{employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0,employeePhone:void 0}},Tt(r?o:i,l);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({variables:n}),kt()}catch(a){$t(a),console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$t=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(Ee,Ot);case 3:e.next=8;break;case 5:return e.next=7,Hs(Ee,Ot);case 7:console.log(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){S(null),T(null),J(null),R(null),V(null),ie(null),fe(null),be([]),de({}),Ve([]),Ue(null),Ye(null),rt(null),n()},Dt=(null===a||void 0===a?void 0:a.startDate)?new Date(null===a||void 0===a?void 0:a.startDate):new Date,Rt=null===sr||void 0===sr?void 0:sr[Dt.getDay()],Et=Ot?r?"\u0645\u0648\u0639\u062f \u062c\u062f\u064a\u062f":"\u062a\u0639\u062f\u064a\u0644 \u0645\u0648\u0639\u062f":r?"New Appointment":"Edit Appointment",Lt=10===a.status||!j;return Object(Fr.jsx)(pu,{isRTL:Ot,open:t,onClose:kt,title:Et,onSubmit:function(){ut(At)()},theme:u,alrt:Re,mt:10,maxWidth:"md",bgcolor:Sc.a.blue[500],mb:20,children:Object(Fr.jsxs)(Fr.Fragment,{children:[Object(Fr.jsx)(ua.a,{display:"flex",children:Object(Fr.jsx)(la.a,{style:{fontWeight:"bold"},variant:"body2",children:null===a||void 0===a?void 0:a.docNo})}),Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:12,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:8,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:1,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:6,children:Object(Fr.jsx)(yd,{isRTL:Ot,label:pt.start,value:C,onChange:function(e){return S(e)},format:"dd/MM/yyyy - hh:mm",time:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:6,children:Object(Fr.jsx)(yd,{isRTL:Ot,label:pt.end,value:A,onChange:function(e){return T(e)},format:"dd/MM/yyyy - hh:mm",time:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)(xd,{autoFocus:!0,name:"tasktitle",label:pt.title,value:Ke,onChange:function(e){return Ye(e.target.value)},row:a,fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"customer",title:pt.customer,words:pt,options:l,value:Y,setSelectValue:J,setSelectError:te,selectError:ee,refernce:ne,register:dt,isRTL:Ot,fullWidth:!0,showphone:!0,disabled:"customerId"===p})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"task",title:pt.task,words:pt,options:b,value:Te,setSelectValue:$e,register:dt,isRTL:Ot,fullWidth:!0,disabled:"taskId"===p})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(ua.a,{style:{marginRight:10,marginTop:0,marginBottom:0},children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:tt,onChange:function(e){rt(Number(e.target.value)),V(null)},children:[Object(Fr.jsx)(ql.a,{value:1,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:Ot?"\u0627\u0644\u0645\u0648\u0638\u0641":"Employee"}),Object(Fr.jsx)(ql.a,{value:2,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:Ot?"\u0627\u0644\u0645\u0648\u0631\u062f":"Resourse"})]})})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"employee",title:pt.employee,words:pt,options:ct,disabled:!tt||"employeeId"===p,value:z,setSelectValue:V,setSelectError:U,selectError:H,refernce:Q,register:dt,noPlus:!0,isRTL:Ot,fullWidth:!0,day:Rt})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"department",title:pt.department,words:pt,options:s.filter((function(e){return 1===e.depType})),value:D,setSelectValue:R,setSelectError:P,selectError:_,refernce:q,register:dt,noPlus:!0,isRTL:Ot,fullWidth:!0,disabled:"departmentId"===p})})]})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:4,style:{backgroundColor:"#eee",borderRadius:5},children:[Object(Fr.jsx)(oa.a,{variant:"outlined",style:{marginBottom:10,fontSize:14,minWidth:80},onClick:function(){Ue(null),qe(!0)},children:Ot?"\u0627\u0636\u0627\u0641\u0629 \u062a\u0646\u0628\u064a\u0647":"Add Reminder"}),Object(Fr.jsx)(Ql.a,{style:{height:150,overflow:"auto"},children:ze.map((function(e){return Object(Fr.jsxs)(ao.a,{children:[Object(Fr.jsx)(ro.a,{primary:bs({row:e}),secondary:Wc(e.sendtime,Ot)}),Object(Fr.jsx)(Jr.a,{onClick:function(){return function(e){var t=ze.filter((function(t){return t.index!==e.index})),n=Lj(t);Ve(n)}(e)},title:"Delete row",style:{padding:5},children:Object(Fr.jsx)(ji.a,{style:{fontSize:22,color:"#a76f9a"}})}),Object(Fr.jsx)(Jr.a,{style:{padding:5},onClick:function(){Ue(e),qe(!0)},title:"Edit row",children:Object(Fr.jsx)(ui.a,{style:{fontSize:22,color:"#729aaf"}})})]})}))})]})]})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,children:[Object(Fr.jsx)(Gl.a,{container:!0,spacing:2}),Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#f4f4f4",padding:10,marginTop:15,borderRadius:10},children:[Object(Fr.jsx)(ua.a,{display:"flex",children:Object(Fr.jsx)(Iu,{options:d,addItem:function(e){var t=[].concat(Object(at.a)(je),[Object(bt.a)(Object(bt.a)({},e),{},{userId:vt._id})]),n=Lj(t);be(n)},words:pt,employees:c,departments:s,classes:v,user:vt,isRTL:Ot})}),!y&&Object(Fr.jsx)(zu,{rows:je,editItem:function(e){var t=je.map((function(t){return t._id===e._id?e:t})),n=Lj(t);be(n)},removeItem:function(e){var t=Object(at.a)(je);t.splice(e,1);var n=Lj(t);be(n)},isRTL:Ot,words:pt,user:vt}),y&&Object(Fr.jsx)(Hu,{})]}),Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsxs)(la.a,{style:{fontWeight:"bold",fontSize:16},children:[pt.total," : ",Zc(le.amount)]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(fu,{name:"status",title:pt.status,words:pt,options:or,value:oe,setSelectValue:ie,noPlus:!0,isRTL:Ot,width:200})})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:!r&&Object(Fr.jsx)(ua.a,{m:1,display:"flex",style:{flex:1,justifyContent:"flex-end"},children:Object(Fr.jsx)(oa.a,{size:"medium",color:"primary",variant:"outlined",onClick:function(){return Ie(!0)},disabled:Lt,children:pt.addInvoice})})})]})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2})]}),Object(Fr.jsx)(Ej,{open:xe,onClose:function(){return ge(!1)},onSubmit:fe,theme:u,isRTL:Ot,words:pt}),Object(Fr.jsx)(Bm,{open:Se,onClose:function(){return Ie(!1)},onCloseAppoint:kt,appoint:a,services:d,editEvent:i,company:m,theme:u,items:je}),Object(Fr.jsx)(Dm,{open:Pe,onClose:function(){return qe(!1)},row:He,isNew:!He,addAction:function(e){var t=[].concat(Object(at.a)(ze),[e]),n=Lj(t);Ve(n)},editAction:function(e){var t=ze.map((function(t){return t._id===e._id?e:t})),n=Lj(t);Ve(n)},theme:u,event:Object(bt.a)(Object(bt.a)({},a),{},{startDate:C,endDate:A})})]})})},Pj=function(e){return e._id},qj=function(e){return Object(Fr.jsx)(Au.b,Object(bt.a)({formatterComponent:function(e){var t=e.value;return Object(Fr.jsx)(la.a,{variant:"subtitle2",children:Number(t)+1})}},e))},Bj=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.1)}}}}),{name:"TableComponent"})((function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.e.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))}));function Wj(e){var t=e.isRTL,n=e.words,a=e.isEditor,r=e.employees,o=e.departments,i=e.customers,c=e.servicesproducts,s=e.theme,l=e.id,d=e.name,u=e.isNew,m=e.company,j=e.value,b=Object(Xe.useState)(!0),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=Is({isRTL:t,words:n}),h=Object(Xe.useState)([{id:4,ref:"title",name:"title",title:n.title},f.startDate,f.fromto,f.docNo,f.department,f.employee,f.status,f.done,f.amount]),y=Object(nt.a)(h,1)[0],x=tm().tasks,g=Object(Xe.useState)([]),w=Object(nt.a)(g,2),C=w[0],S=w[1],I={refetchQueries:[{query:Sj,variables:Object(Qr.a)({},d,l)},{query:em},{query:qt},{query:Pt},{query:_t}]},N=Object(Fd.a)(Sj,{fetchPolicy:"cache-and-network"}),A=Object(nt.a)(N,2),T=A[0],$=A[1];Object(Xe.useEffect)((function(){var e=Object(Qr.a)({},d,l);T({variables:e})}),[l]),Object(Xe.useEffect)((function(){var e,t,n=null===$||void 0===$||null===(e=$.data)||void 0===e||null===(t=e.getObjectEvents)||void 0===t?void 0:t.data;n&&v(!1),S(n||[])}),[$]);var k=Object(ta.a)(pn,I),D=Object(nt.a)(k,1)[0],R=Object(ta.a)(vn,I),E=Object(nt.a)(R,1)[0],L=Object(ta.a)(qn,I),_=Object(nt.a)(L,1)[0],P=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.deleted)&&(a=n[0],_({variables:{_id:a}}),S(C.filter((function(e){return e._id!==a}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsxs)(Ql.a,{style:{maxHeight:600,overflow:"auto",margin:10,minHeight:600},children:[O&&Object(Fr.jsx)(Hu,{}),C&&Object(Fr.jsxs)(Od.c,{rows:C,columns:y,getRowId:Pj,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:P}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:600,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:45,tableComponent:Bj}),Object(Fr.jsx)(Au.b,{for:["startDate"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["fromto"],formatterComponent:Gc}),Object(Fr.jsx)(Au.b,{for:["status"],formatterComponent:Jc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as}),Object(Fr.jsx)(Au.b,{for:["done"],formatterComponent:function(e){return cs(Object(bt.a)(Object(bt.a)({},e),{},{editEvent:E}))}}),Object(Fr.jsx)(qj,{for:["index"]}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),a&&!u&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Vl,{addAction:D,editAction:E,children:Object(Fr.jsx)(_j,{employees:r,departments:o,customers:i,servicesproducts:c,theme:s,company:m,isEditor:a,tasks:x,name:d,value:j})}),Object(Fr.jsx)(zl.f,{name:"tableColumns",computed:function(e){var t=e.tableColumns;return[{key:"editCommand",type:Od.g.COLUMN_TYPE,width:u?20:100}].concat(Object(at.a)(t.filter((function(e){return e.type!==Od.g.COLUMN_TYPE}))))}})]})]})}var zj=n(144),Vj=n.n(zj),Fj=Object(Fr.jsx)(Aj.a,{fontSize:"small"}),Mj=Object(Fr.jsx)($j.a,{fontSize:"small"});function Hj(e){var t=e.options,n=e.value,a=e.setValue,r=e.words,o=e.isRTL,i=e.name,c=e.width,s=e.nomulti,l=void 0!==s&&s;return Object(Fr.jsx)(kl.a,{size:"small",multiple:!l,options:t,disableCloseOnSelect:!0,disableListWrap:!0,limitTags:3,getOptionLabel:function(e){return o?e.nameAr:e.name},style:{padding:10},renderOption:function(e,t){var n=t.selected;return Object(Fr.jsxs)(ua.a,{style:{direction:o?"rtl":"ltr",display:"flex",flex:1,alignItems:"center"},children:[!l&&Object(Fr.jsx)(Ic.a,{icon:Fj,checkedIcon:Mj,style:{marginRight:8},checked:n}),o?e.nameAr:e.name]})},value:n,onChange:function(e,t){a(t)},renderInput:function(e){return Object(Fr.jsx)(da.a,Object(bt.a)(Object(bt.a)({},e),{},{rows:1,rowsMax:1,id:i,name:i,label:r[i],variant:"outlined",style:{fontWeight:"bold",width:c||200,marginRight:5,marginLeft:5,backgroundColor:(null===n||void 0===n?void 0:n.length)>0?"#FFF5D6":void 0,fontSize:10,margin:0,padding:0}}))}})}var Uj=n(274),Qj=n.n(Uj);function Gj(e){var t=e.emplvalue,n=e.setEmplvalue,a=e.servicevalue,r=e.setServicevalue,o=e.departvalue,i=e.setDepartvalue,c=e.custvalue,s=e.setCustvalue,l=e.itemType,d=e.tasks,u=e.taskvalue,m=e.setTaskvalue,j=e.employees,b=e.departments,p=e.services,O=e.customers,v=e.total,f=e.words,h=e.isRTL,y=e.documentTypes,x=e.types,g=e.setTypes,w=Ze.a.useState([]),C=Object(nt.a)(w,2),S=C[0],I=C[1],N=Ze.a.useState([]),A=Object(nt.a)(N,2),T=A[0],$=A[1],k=Ze.a.useState([]),D=Object(nt.a)(k,2),R=D[0],E=D[1],L=Ze.a.useState([]),_=Object(nt.a)(L,2),P=_[0],q=_[1],B=Ze.a.useState([]),W=Object(nt.a)(B,2),z=W[0],V=W[1],F=Ze.a.useState([]),M=Object(nt.a)(F,2),H=M[0],U=M[1],Q=Ze.a.useState(!1),G=Object(nt.a)(Q,2),K=G[0],Y=G[1],J=Ze.a.useState("paper"),X=Object(nt.a)(J,2),Z=X[0],ee=X[1];Object(Xe.useEffect)((function(){!0===K&&(I(t),$(a),E(o),q(c),V(u),U(x))}),[K]);var te=function(){Y(!1)},ne=Ze.a.useRef(null);Ze.a.useEffect((function(){if(K){var e=ne.current;null!==e&&e.focus()}}),[K]);var ae,re=x||[],oe=[].concat(Object(at.a)(t),Object(at.a)(a),Object(at.a)(o),Object(at.a)(c),Object(at.a)(u),Object(at.a)(re),[l||void 0]).filter((function(e){return e}));return Object(Fr.jsxs)(ua.a,{style:{alignItems:"center",justifyContent:"center",marginLeft:20,marginRight:20,direction:h?"rtl":"ltr",marginTop:2,height:38},children:[Object(Fr.jsx)(oa.a,{variant:"outlined",style:{height:38,width:160,backgroundColor:oe.length>0||l?"#FFF5D6":void 0},onClick:(ae="paper",function(){Y(!0),ee(ae)}),children:Object(Fr.jsxs)(ua.a,{style:{display:"flex",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(Fr.jsx)(la.a,{style:{},variant:"button",children:h?"\u0627\u0644\u0641\u0644\u0627\u062a\u0631 - (".concat(oe.length,")"):"Filters - (".concat(oe.length,")")}),Object(Fr.jsx)(Jr.a,{style:{marginRight:10,width:30,height:30},onClick:function(){I([]),$([]),E([]),q([]),V([]),U([]),n([]),r([]),i([]),s([]),m([]),g([])},children:Object(Fr.jsx)(Qj.a,{})})]})}),Object(Fr.jsxs)(Cl.a,{open:K,onClose:te,scroll:Z,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(Fr.jsx)(wl.a,{id:"scroll-dialog-title",style:{direction:h?"rtl":"ltr",backgroundColor:"#eee"},children:h?"\u0627\u0644\u0641\u0644\u0627\u062a\u0631 - (".concat(oe.length,")"):"Filters - (".concat(oe.length,")")}),Object(Fr.jsx)(Il.a,{style:{width:600,height:450,direction:h?"rtl":"ltr"},dividers:"paper"===Z,children:Object(Fr.jsx)(ua.a,{children:Object(Fr.jsxs)(ua.a,{children:[y&&Object(Fr.jsx)(Hj,{options:y,value:H,setValue:U,words:f,isRTL:h,name:"type",width:350}),Object(Fr.jsx)(Hj,{options:j,value:S,setValue:I,words:f,isRTL:h,name:"employee",width:350}),Object(Fr.jsx)(Hj,{options:b,value:R,setValue:E,words:f,isRTL:h,name:"department",width:350}),d&&d.length>0&&Object(Fr.jsx)(Hj,{options:d,value:z,setValue:V,words:f,isRTL:h,name:"task",width:350}),a&&a.length>0&&Object(Fr.jsx)(Hj,{options:p,value:T,setValue:$,words:f,isRTL:h,name:"serviceproduct",width:350}),Object(Fr.jsx)(Hj,{options:O,value:P,setValue:q,words:f,isRTL:h,name:"customer",width:350}),v&&v.length>0&&Object(Fr.jsx)(ua.a,{display:"flex",style:{flex:1,alignItems:"center",justifyContent:"flex-end"},children:Object(Fr.jsx)(ua.a,{style:{marginRight:20,marginLeft:20},children:Object(Fr.jsxs)(la.a,{variant:"h6",children:[f.total,": ",Zc(v[0].total)]})})})]})})}),Object(Fr.jsxs)(lu.a,{style:{direction:h?"rtl":"ltr",backgroundColor:"#f8f8f8",height:60,alignItems:"center",justifyContent:"space-around"},children:[Object(Fr.jsx)(oa.a,{style:{width:100,height:36},variant:"contained",onClick:function(){n(S),r(T),i(R),s(P),m(z),g(H),Y(!1)},color:"primary",children:h?"\u062a\u0637\u0628\u064a\u0642":"Submit"}),Object(Fr.jsx)(oa.a,{style:{width:100,height:36},variant:"contained",onClick:te,color:"primary",children:h?"\u0627\u0644\u063a\u0627\u0621":"Cancel"})]})]})]})}var Kj=n(95),Yj=n(96),Jj=n.n(Yj),Xj=function(e){var t=e.options,n=e.value,a=e.onChange,r=e.isRTL;return Object(Fr.jsx)(Al.a,{children:Object(Fr.jsx)(Tl.a,{id:"simple-menu",value:n,onChange:a,variant:"outlined",style:{height:38,width:180,alignSelf:"flex-end",fontSize:12,fontWeight:"bold",color:"#555"},children:t.map((function(e){return Object(Fr.jsx)($l.a,{style:{justifyContent:r?"flex-end":"flex-start"},value:e.value,children:e.name},e.id)}))})})};function Zj(e){var t=e.setStart,n=e.setEnd,a=e.currentDate,r=e.currentViewName,o=e.currentDateChange,i=e.currentViewNameChange,c=(e.setSortDispatch,e.endDate),s=e.endDateChange,l=e.isRTL,d=e.words,u=e.theme,m=e.views,j=e.color,b=void 0===j?u.palette.primary.main:j,p=e.bgcolor,O=void 0===p?Object(er.c)(u.palette.primary.dark,.12):p,v=Object(Xe.useState)(""),f=Object(nt.a)(v,2),h=f[0],y=f[1],x=Object(Xe.useState)(""),g=Object(nt.a)(x,2),w=g[0],C=g[1],S=Object(Xe.useState)(!1),I=Object(nt.a)(S,2),N=I[0],A=I[1],T=Object(Xe.useState)(!1),$=Object(nt.a)(T,2),k=$[0],D=$[1];Object(Xe.useEffect)((function(){var e=fs({time:a,view:r,isRTL:l,endDate:c}),o=e.start,i=e.end,s=e.period,d=e.periodEnd;t(o),n(i),y(s),C(d)}),[a,r,c]);var R=function(){if("Day"===r){var e=new Date(a);e.setDate(e.getDate()+1),o(e)}else if("3Days"===r){var t=new Date(a);t.setDate(t.getDate()+3),o(t)}else if("Week"===r){var n=new Date(a);n.setDate(n.getDate()+7),o(n)}else if("Month"===r){var i=new Date(a);i.setMonth(i.getMonth()+1),o(i)}else if("Year"===r){var c=new Date(a);c.setFullYear(c.getFullYear()+1),o(c)}},E=function(){if("Day"===r){var e=new Date(a);e.setDate(e.getDate()-1),o(e)}else if("3Days"===r){var t=new Date(a);t.setDate(t.getDate()-3),o(t)}else if("Week"===r){var n=new Date(a);n.setDate(n.getDate()-7),o(n)}else if("Month"===r){var i=new Date(a);i.setMonth(i.getMonth()-1),o(i)}else if("Year"===r){var c=new Date(a);c.setFullYear(c.getFullYear()-1),o(c)}},L=bd()(new Date).isSame(a,"day");return Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"flex-start",marginRight:10,marginLeft:10,minWidth:450},children:[Object(Fr.jsx)(Gr.a,{xsDown:!0,implementation:"css",children:Object(Fr.jsx)(oa.a,{style:{height:32,width:32,padding:0,margin:0,marginLeft:5,backgroundColor:O},size:"small",disabled:L,onClick:function(){o(new Date),s(new Date)},children:Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:13,color:L?"#bbb":b},children:l?"\u0627\u0644\u0623\u0646":"Now"})})}),Object(Fr.jsx)(ua.a,{display:"flex",children:Object(Fr.jsx)(id,{currentViewName:r,onChange:i,currentDateChange:o,isRTL:l,words:d,views:m})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between"},children:["Custom"!==r&&Object(Fr.jsxs)(Ze.a.Fragment,{children:[Object(Fr.jsxs)(Jr.a,{color:"primary",style:{},onClick:l?R:E,children:[l&&Object(Fr.jsx)(dd.a,{style:{fontSize:18,color:"#555"}}),!l&&Object(Fr.jsx)(md.a,{style:{fontSize:18,color:"#555"}})]}),Object(Fr.jsxs)(Jr.a,{color:"primary",style:{marginLeft:10},onClick:l?E:R,children:[l&&Object(Fr.jsx)(md.a,{style:{fontSize:18,color:"#555"}}),!l&&Object(Fr.jsx)(dd.a,{style:{fontSize:18,color:"#555"}})]})]}),Object(Fr.jsx)(oa.a,{style:{position:"relative",zIndex:10,backgroundColor:"#fff",height:40},onClick:function(){return A(!0)},children:Object(Fr.jsx)(la.a,{color:"primary",variant:"button",children:h})}),"Custom"===r&&Object(Fr.jsx)(oa.a,{style:{position:"relative",zIndex:10,backgroundColor:"#fff",height:40,marginRight:30},onClick:function(){return D(!0)},children:Object(Fr.jsx)(la.a,{color:"primary",variant:"button",children:w})}),Object(Fr.jsxs)(ad.a,{locale:l?cd.a:sd.a,utils:od.a,children:[Object(Fr.jsx)(rd.a,{autoOk:!0,variant:"inline",inputVariant:"outlined",format:"dd/MM/yyyy",margin:"dense",id:"date-picker-inline",value:a,onChange:o,open:N,onClose:function(){return A(!1)},rightArrowIcon:l?Object(Fr.jsx)(md.a,{}):Object(Fr.jsx)(dd.a,{}),leftArrowIcon:l?Object(Fr.jsx)(dd.a,{}):Object(Fr.jsx)(md.a,{}),style:{direction:"rtl",position:"relative",left:l?"Custom"===r?150:60:void 0,right:l?void 0:"Custom"===r?150:60,bottom:20,zIndex:-20,marginTop:0,height:0,padding:0,margin:0,width:0}}),"Custom"===r&&Object(Fr.jsx)(rd.a,{autoOk:!0,variant:"inline",inputVariant:"outlined",format:"dd/MM/yyyy",margin:"dense",id:"date-picker-inline",value:c,onChange:s,open:k,onClose:function(){return D(!1)},minDate:a,rightArrowIcon:l?Object(Fr.jsx)(md.a,{}):Object(Fr.jsx)(dd.a,{}),leftArrowIcon:l?Object(Fr.jsx)(dd.a,{}):Object(Fr.jsx)(md.a,{}),style:{direction:"rtl",position:"relative",left:l?60:void 0,right:l?void 0:60,bottom:20,zIndex:-20,marginTop:0,height:0,padding:0,margin:0,width:0}})]})]})]})}var eb=function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.l.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))},tb=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.05)}}}}),{name:"TableComponent"})(eb),nb=Object(Nu.a)({},{name:"TableComponent"})(eb);function ab(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.services,o=e.company,i=e.theme,c=e.isEditor,s=Object(Xe.useState)(null),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)(null),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)([]),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)([]),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Object(Xe.useState)(null),S=Object(nt.a)(C,2),I=S[0],N=S[1],A=Object(Xe.useState)(null),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Is({isRTL:t,words:n}),R=Object(Xe.useState)([D.opTime,D.employee,D.service,D.department,D.taskId,D.customer,D.opDocNo,D.amount]),E=Object(nt.a)(R,2),L=E[0],_=E[1],P=Object(Xe.useState)([D.opTime,D.employee,D.service,D.department,D.taskId,D.customer,D.opDocNo,D.amount]),q=Object(nt.a)(P,1)[0],B=Object(Xe.useState)([{columnName:D.opTime.name,togglingEnabled:!1},{columnName:D.amount.name,togglingEnabled:!1}]),W=Object(nt.a)(B,1)[0],z=Object(Fd.a)(Jt,{fetchPolicy:"cache-and-network"}),V=Object(nt.a)(z,2),F=V[0],M=V[1],H=tu().customers,U=Md().departments,Q=Zd().employees,G=Object(Xe.useContext)(Pr),K=G.state,Y=K.currentDate,J=K.currentViewName,X=K.endDate,Z=K.servicevalue,ee=K.departvalue,te=K.emplvalue,ne=K.custvalue,ae=K.taskvalue,re=K.group,oe=K.groupby,ie=K.sumcolumn,ce=K.sort,se=K.itemType,le=G.dispatch,de=tm().tasks,ue=function(e){le({type:"setGroupby",payload:e})},me=function(e){le({type:"setGroup",payload:e})};Object(Xe.useEffect)((function(){var e,t,n=(null===M||void 0===M||null===(e=M.data)||void 0===e||null===(t=e.getMonthlyReport)||void 0===t?void 0:t.data)||[],a=(null===n||void 0===n?void 0:n.length)>0?n.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{amount:ps(e)})})):[];if(h(a),re){var r=nd({list:a,name:ie});k(r)}var o=0;a.forEach((function(e){return o+=e.amount})),N(o)}),[M]);var je=function(e){return e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e._id})):void 0};Object(Xe.useEffect)((function(){!function(){var e,t={accPCode:13,itemType:se,serviceIds:je(Z),departmentIds:je(ee),employeeIds:je(te),customerIds:je(ne),taskIds:(e=ae,e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e.id})):void 0),start:d?d.setHours(0,0,0,0):void 0,end:b?b.setHours(23,59,59,999):(new Date).setHours(23,59,59,999)};F({variables:t})}()}),[d,b,re,oe,ie]);var be=Object(Xe.useRef)(null),pe=Object(Xe.useCallback)((function(){be.current.exportGrid()}),[be]),Oe=function(e){var t=L.filter((function(t){return t.ref===e}));return!!(t&&t.length>0)};Object(Xe.useEffect)((function(){if(re);else{var e=td.a.orderBy(f,[ce[0].columnName],[ce[0].direction]).map((function(e){return{opTime:Oe("opTime")?e.opDocNo?Pc(e.opTime):" - ":void 0,opDocNo:Oe("opDocNo")?e.opDocNo?e.opDocNo:" - ":void 0,employee:Oe("employee")?e[D.employee.name]?e[D.employee.name]:" - ":void 0,service:Oe("service")?e[D.service.name]?e[D.service.name]:" - ":void 0,department:Oe("department")?e[D.department.name]?e[D.department.name]:" - ":void 0,category:Oe("category")?e[D.category.name]?e[D.category.name]:" - ":void 0,customer:Oe("customer")?e[D.customer.name]?e[D.customer.name]:" - ":void 0,taskId:Oe("taskId")?e[D.taskId.name]?e[D.taskId.name]:" - ":void 0,amount:Oe("amount")?e.amount?Zc(e.amount):" - ":void 0}}));w(e)}}),[L,f,ce]);var ve=[{columnName:D.opDocNo.name,type:"count"},{columnName:"amount",type:"sum"}],fe=[{columnName:ie}],he=[{columnName:D.opDocNo.name,type:"count",alignByColumn:!0},{columnName:"amount",type:"sum",alignByColumn:!0}],ye=Nc(t).filter((function(e){return 7!==e.id}));return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:c,theme:i,refresh:function(){null===M||void 0===M||M.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsx)(ua.a,{style:{position:"absolute",left:t?145:void 0,right:t?void 0:145,top:68,zIndex:100},children:Object(Fr.jsx)(Jr.a,{onClick:re?function(){var e=[{name:t?"\u0627\u0644\u0627\u0633\u0645":"Name"},{name:t?"\u0627\u0644\u0639\u062f\u062f":"Count"},{name:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total"}],a=$.items.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{total:Zc(e.total)})})),r={isRTL:t,totl:n.total,totalamount:I?Zc($.total):"",count:null===$||void 0===$?void 0:$.count,reportname:t?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a":"Sales Report",logo:o.logo,phone:o.tel1,mobile:o.mob,address:o.address,company:t?o.nameAr:o.name,start:d?Pc(d):"",end:b?Pc(b):"",color:"#b2e2be",now:qc(new Date)};Object(bt.a)({rows:a,cols:e},r)}:function(){var e=L.map((function(e){return{name:e.title}})),a=[];te&&a.push({name:t?null===te||void 0===te?void 0:te.nameAr:null===te||void 0===te?void 0:te.name}),ee&&a.push({name:t?null===ee||void 0===ee?void 0:ee.nameAr:null===ee||void 0===ee?void 0:ee.name}),Z&&a.push({name:t?null===Z||void 0===Z?void 0:Z.nameAr:null===Z||void 0===Z?void 0:Z.name}),ae&&a.push({name:t?null===ae||void 0===ae?void 0:ae.nameAr:null===ae||void 0===ae?void 0:ae.name});var r={isRTL:t,totl:n.total,totalamount:I?Zc(I):"",reportname:t?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a":"Sales Report",logo:o.logo,phone:o.tel1,mobile:o.mob,address:o.address,company:t?o.nameAr:o.name,start:d?Pc(d):"",end:b?Pc(b):"",filters:a,color:"#b2e2be",now:qc(new Date)};Object(bt.a)({rows:g,cols:e},r)},title:"Print Report",size:"small",children:Object(Fr.jsx)(Vj.a,{})})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{position:"absolute",zIndex:111,flexDirection:"row",alignItems:"center"},children:[Object(Fr.jsx)(Zj,{setStart:u,setEnd:p,currentDate:Y,currentDateChange:function(e){le({type:"setCurrentDate",payload:e})},currentViewName:J,currentViewNameChange:function(e){le({type:"setCurrentViewName",payload:e.target.value})},endDate:X,endDateChange:function(e){le({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:i}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"flex-start",paddingLeft:20,paddingRight:20,marginTop:-4},children:[Object(Fr.jsx)(Gj,{servicevalue:Z,setServicevalue:function(e){le({type:"setServicevalue",payload:e})},departvalue:ee,setDepartvalue:function(e){le({type:"setDepartvalue",payload:e})},emplvalue:te,setEmplvalue:function(e){le({type:"setEmplvalue",payload:e})},departments:U,employees:Q,services:r,itemType:se,setItemType:function(e){le({type:"setItemType",payload:e})},customers:H,custvalue:ne,setCustvalue:function(e){le({type:"setCustvalue",payload:e})},tasks:de,taskvalue:ae,setTaskvalue:function(e){le({type:"setTaskvalue",payload:e})},words:n,isRTL:t}),Object(Fr.jsx)(Xj,{options:ye,value:oe,onChange:function(e){var t;"none"===e.target.value?(me(!1),ue("none")):(me(!0),ue(e.target.value),t=D[e.target.value].name,le({type:"setSumcolumn",payload:t}))},isRTL:t})]})]}),Object(Fr.jsx)(Ql.a,{style:{height:window.innerHeight-85,overflow:"auto"},children:Object(Fr.jsxs)(Od.c,{rows:f,columns:q,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:ce,onSortingChange:function(e){le({type:"setSort",payload:e})}}),re&&Object(Fr.jsx)(Au.i,{grouping:fe}),Object(Fr.jsx)(Au.u,{totalItems:ve,groupItems:he}),re&&Object(Fr.jsx)(Au.l,{}),Object(Fr.jsx)(Au.n,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,tableComponent:re?nb:tb,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{columnExtensions:W,onHiddenColumnNamesChange:function(e){var t=Object(at.a)(q).filter((function(t){return!e.includes(t.name)}));t.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})),_(t)}}),Object(Fr.jsx)(Au.b,{for:["opTime"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as})," ",Object(Fr.jsx)(Au.b,{for:["taskId"],formatterComponent:function(e){return ls(Object(bt.a)(Object(bt.a)({},e),{},{tasks:de}))}}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.b,{startExport:pe}),re&&Object(Fr.jsx)(Od.h,{messages:{sum:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",count:t?"\u0627\u0644\u0639\u062f\u062f":"Count",sumOf:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",countOf:t?"\u0627\u0644\u0639\u062f\u062f":"Count"},showColumnsWhenGrouped:!0}),Object(Fr.jsx)(Od.j,{messages:{sum:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",count:t?"\u0627\u0644\u0639\u062f\u062f":"Count"}})]})}),Object(Fr.jsx)(Kj.a,{ref:be,rows:f,columns:q,onSave:function(e){e.xlsx.writeBuffer().then((function(e){var t=new Date,n="sales-report-".concat(qc(t));Jj()(new Blob([e],{type:"application/octet-stream"}),"".concat(n,".xlsx"))}))}})]})})}function rb(e){var t=e.isRTL,n=e.words,a=e.isEditor,r=e.employees,o=e.departments,i=e.company,c=e.servicesproducts,s=e.name,l=e.id,d=e.value,u=Is({isRTL:t,words:n}),m=Object(Xe.useState)([{name:"time",title:n.time},{name:"docNo",title:n.no},u.eventNo,u.taskId,{name:t?"customerNameAr":"customerName",title:n.customer},{name:"customerPhone",title:n.phoneNumber},{name:"total",title:n.total},{name:"discount",title:n.discount},{name:"amount",title:n.amount}]),j=Object(nt.a)(m,1)[0],b=Object(Xe.useState)([]),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=Object(Xe.useState)(!1),h=Object(nt.a)(f,2),y=h[0],x=h[1],g=tm().tasks,w=Object(Fd.a)(Vt,{fetchPolicy:"cache-and-network"}),C=Object(nt.a)(w,2),S=C[0],I=C[1],N={refetchQueries:[{query:Vt,variables:Object(Qr.a)({},s,l)},{query:Xt},{query:Ft},{query:em},{query:qt},{query:Pt},{query:_t}]};Object(Xe.useEffect)((function(){var e=Object(Qr.a)({},s,l);S({variables:e})}),[l]);var A=Object(ta.a)(fn,N),T=Object(nt.a)(A,1)[0],$=Object(ta.a)(yn,N),k=Object(nt.a)($,1)[0],D=Object(ta.a)(hn,N),R=Object(nt.a)(D,1)[0],E=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.deleted)&&(a=n[0],R({variables:{_id:a}}),v(O.filter((function(e){return e._id!==a}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Xe.useEffect)((function(){var e,t;if((null===I||void 0===I?void 0:I.loading)&&x(!0),null===I||void 0===I||null===(e=I.data)||void 0===e||null===(t=e.getInvoices)||void 0===t?void 0:t.data){var n=I.data.getInvoices.data;v(n),x(!1)}}),[I]),Object(Fr.jsxs)(Ql.a,{style:{maxHeight:600,overflow:"auto",margin:10,minHeight:600},children:[Object(Fr.jsxs)(Od.c,{rows:O,columns:j,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:E}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:600,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40,tableComponent:tb}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["time"],formatterComponent:Hc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:ns}),Object(Fr.jsx)(Au.b,{for:["total","discount"],formatterComponent:as}),Object(Fr.jsx)(Au.b,{for:["taskId"],formatterComponent:function(e){return ls(Object(bt.a)(Object(bt.a)({},e),{},{tasks:g}))}}),a&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Vl,{addAction:T,editAction:k,children:Object(Fr.jsx)(rm,{value:d,name:s,employees:r,departments:o,company:i,servicesproducts:c,tasks:g})})]}),y&&Object(Fr.jsx)(Ll,{isRTL:t})]})}var ob,ib,cb=function(){var e,t,n=Object(Fd.a)(Ht),a=Object(nt.a)(n,2),r=a[0],o=a[1],i=Object(ta.a)(Nn,{refetchQueries:[{query:Ht}]}),c=Object(nt.a)(i,1)[0],s=Object(ta.a)(Tn,{refetchQueries:[{query:Ht}]}),l=Object(nt.a)(s,1)[0],d=Object(ta.a)(An,{refetchQueries:[{query:Ht}]}),u=Object(nt.a)(d,1)[0];Object(Xe.useEffect)((function(){r()}),[r]);var m=(null===o||void 0===o||null===(e=o.data)||void 0===e||null===(t=e.getAccounts)||void 0===t?void 0:t.data)||[],j=(null===m||void 0===m?void 0:m.length)>0?m.filter((function(e){return[1,2,3,7,8,13,14,15].includes(e.parentcode)})):[];j.sort((function(e,t){return e.code-t.code}));return{accounts:m,filterd:j,refreshAccount:function(){return null===o||void 0===o?void 0:o.refetch()},addAccount:c,editAccount:l,removeAccount:u}},sb=Object(Lt.a)(ob||(ob=Object(Et.a)(["\n  query getReceipts(\n    $start: Date\n    $end: Date\n    $search: String\n    $taskId: Int\n    $customerId: String\n    $departmentId: String\n    $employeeId: String\n  ) {\n    getReceipts(\n      start: $start\n      end: $end\n      search: $search\n      taskId: $taskId\n      customerId: $customerId\n      departmentId: $departmentId\n      employeeId: $employeeId\n    ) {\n      ok\n      error\n      count\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        opType\n        time\n        title\n        desc\n        taskId\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        refNo\n        refType\n\n        amount\n\n        debitAcc\n        debitAccName\n        debitAccNameAr\n        creditAcc\n        creditAccName\n        creditAccNameAr\n\n        userId\n        note\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),lb=Object(Lt.a)(ib||(ib=Object(Et.a)(["\n  query getInvoicesList(\n    $taskId: Int\n    $customerId: String\n    $departmentId: String\n    $employeeId: String\n  ) {\n    getInvoicesList(\n      taskId: $taskId\n      customerId: $customerId\n      departmentId: $departmentId\n      employeeId: $employeeId\n    ) {\n      ok\n      error\n      count\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        opType\n        time\n        title\n        desc\n        taskId\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        supplierId\n        supplierName\n        supplierNameAr\n        supplierPhone\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        refNo\n        refType\n        eventNo\n\n        costAmount\n        total\n        discount\n        amount\n        profit\n\n        debitAcc\n        creditAcc\n\n        paymentType\n\n        inhand\n        change\n\n        amountPaid\n        isPaid\n        isCash\n        opId\n\n        userId\n        note\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),db=function(e){var t=e.open,n=e.onClose,a=e.row,o=e.isNew,i=e.addAction,c=e.editAction,s=e.theme,l=e.name,d=e.value,u=Object(Xe.useState)({show:!1,msg:"",type:void 0}),m=Object(nt.a)(u,2),j=m[0],b=m[1],p=Ze.a.useState(new Date),O=Object(nt.a)(p,2),v=O[0],f=O[1],h=Ze.a.useState("deposit"),y=Object(nt.a)(h,2),x=y[0],g=y[1],w=Ze.a.useState([]),C=Object(nt.a)(w,2),S=C[0],I=C[1],N=Ze.a.useState(null),A=Object(nt.a)(N,2),T=A[0],$=A[1],k=Ze.a.useState(null),D=Object(nt.a)(k,2),R=D[0],E=D[1],L=Object(Xe.useState)("customerId"===l?d:null),_=Object(nt.a)(L,2),P=_[0],q=_[1],B=Object(Xe.useState)(!1),W=Object(nt.a)(B,2),z=W[0],V=W[1],F=Object(Xe.useState)([]),M=Object(nt.a)(F,2),H=M[0],U=M[1],Q=Object(Xe.useState)(null),G=Object(nt.a)(Q,2),K=G[0],Y=G[1],J=Object(na.c)(r.depositResolver),X=J.register,Z=J.handleSubmit,ee=J.errors,te=J.reset,ne=Object(Xe.useContext)(Rr),ae=ne.translate,re=ae.words,oe=ae.isRTL,ie=ne.store.user,ce=cb().accounts,se=tu().customers,le=Object(Fd.a)(lb,{fetchPolicy:"cache-and-network"}),de=Object(nt.a)(le,2),ue=de[0],me=de[1];Object(Xe.useEffect)((function(){if(P){var e={customerId:P._id};ue({variables:e})}if(o&&"taskId"===l&&(null===d||void 0===d?void 0:d.customerId)){var t,n=null===(t=se.filter((function(e){return e._id===(null===d||void 0===d?void 0:d.customerId)})))||void 0===t?void 0:t[0];q(n)}}),[P,t]),Object(Xe.useEffect)((function(){var e,t;if(null===me||void 0===me||null===(e=me.data)||void 0===e||null===(t=e.getInvoicesList)||void 0===t?void 0:t.data){var n=me.data.getInvoicesList.data;if((null===n||void 0===n?void 0:n.length)>0){var r=n.map((function(e){var t="".concat(e.docNo," - ").concat(e.amount,"QR");return Object(bt.a)(Object(bt.a)({},e),{},{name:t,nameAr:t})}));if(U(r),a.refNo){var o,i=null===(o=r.filter((function(e){return e.docNo===a.refNo})))||void 0===o?void 0:o[0];Y(i)}}}}),[me]),Object(Xe.useEffect)((function(){if(a&&a._id){var e=a.creditAcc,t=a.debitAcc,n=ce.filter((function(e){return e.parentcode===ki&&"branch1"===e.branch}));if(I(n),e){var r=ce.filter((function(t){return t.code===e&&"branch1"===t.branch}))[0];E(r)}if(t){var o=ce.filter((function(e){return e.code===t&&"branch1"===e.branch}))[0];$(o)}var i=null===a||void 0===a?void 0:a.customerId;if(i){var c=se.filter((function(e){return e._id===i}))[0];q(c)}fe(a.time)}else{var s=ce.filter((function(e){return e.parentcode===Di&&"branch1"===e.branch})),l=ce.filter((function(e){return e.parentcode===ki&&"branch1"===e.branch}));I(l),$(null===l||void 0===l?void 0:l[0]),E(null===s||void 0===s?void 0:s[0])}}),[a,x,t]);var je=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,r,s,l,d,u,m,j,p;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=hs(),r=n.startPeriod,s=n.endPeriod,!(v<r||v>s)){e.next=5;break}return e.next=4,Ks(b,oe?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change");case 4:return e.abrupt("return");case 5:if(l=t.amount,d=t.desc,T&&R&&P){e.next=10;break}return e.next=9,Ks(b,oe?"\u064a\u062c\u0628 \u062a\u062d\u062f\u064a\u062f \u0643\u0644\u0627 \u0627\u0644\u062d\u0633\u0627\u0628\u064a\u0646":"You have to select both accounts");case 9:return e.abrupt("return");case 10:u=P?{customerId:P._id,customerName:P.name,customerNameAr:P.nameAr,customerPhone:P.color}:{customerId:void 0,customerName:void 0,customerNameAr:void 0,customerPhone:void 0},m=K?{departmentId:K.departmentId,departmentName:K.departmentName,departmentNameAr:K.departmentNameAr,departmentColor:K.departmentColor}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},j=K?{employeeId:K.employeeId,employeeName:K.employeeName,employeeNameAr:K.employeeNameAr,employeeColor:K.employeeColor}:{employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0},p={_id:a&&a._id?a._id:void 0,opType:tr.customerReceipt,time:v,debitAcc:T.code,creditAcc:R.code,taskId:K?K.taskId:void 0,refNo:K?K.docNo:void 0,customer:u,department:m,employee:j,amount:l,desc:d,branch:ie.branch,userId:ie._id},be(o?i:c,p);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({variables:n}),ve()}catch(a){pe(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(b,oe);case 3:e.next=9;break;case 5:return e.next=7,Hs(b,oe);case 7:Oe(),console.log(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){te(),g("deposit"),E(null),$(null),I([]),U([]),q(null),Y(null),V(!1)},ve=function(){Oe(),n()},fe=function(e){f(e)};return Object(Fr.jsx)(pu,{isRTL:oe,open:t,onClose:ve,title:re.receipts,onSubmit:function(){Z(je)()},theme:s,alrt:j,mt:10,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsx)(Gl.a,{item:!0,xs:10,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)(yd,{isRTL:oe,label:re.time,value:v,onChange:fe})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"customer",title:re.customer,words:re,options:se,value:P,setSelectValue:q,setSelectError:V,selectError:z,isRTL:oe,fullwidth:!0,disabled:"customerId"===l})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"debitAcc",title:oe?"\u062d\u0633\u0627\u0628 \u0627\u0644\u0642\u0628\u0636":"Receipt Acc",words:re,options:S,value:T,setSelectValue:$,register:X,isRTL:oe,fullwidth:!0})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,children:[Object(Fr.jsx)(fu,{name:"invoice",title:oe?"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631":"Invoices",words:re,options:H,value:K,setSelectValue:Y,register:X,isRTL:oe,disabled:!P,fullWidth:!0}),Object(Fr.jsx)(xd,{required:!0,name:"amount",label:re.amount,register:X,errors:ee,row:a,type:"number",fullWidth:!0}),Object(Fr.jsx)(xd,{name:"desc",multiline:!0,rows:4,label:re.description,register:X,errors:ee,row:a,fullWidth:!0})]})]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:1})]})})};function ub(e){var t=e.isRTL,n=e.words,a=e.isEditor,r=e.theme,o=e.name,i=e.id,c=e.value,s=Object(Xe.useState)([{name:"time",title:n.time},{name:"creditAcc",title:n.customer},{name:"debitAcc",title:t?"\u062d\u0633\u0627\u0628 \u0627\u0644\u0642\u0628\u0636":"Receipt Acc"},{name:"desc",title:n.description},{name:"docNo",title:n.no},{name:"amount",title:n.amount}]),l=Object(nt.a)(s,1)[0],d=Object(Xe.useState)([]),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Object(Xe.useState)(!1),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=tm().tasks,h=Object(Fd.a)(sb,{fetchPolicy:"cache-and-network"}),y=Object(nt.a)(h,2),x=y[0],g=y[1],w=cb().accounts,C={refetchQueries:[{query:sb,variables:Object(Qr.a)({},o,i)},{query:Xt},{query:Ft},{query:em},{query:qt},{query:Pt},{query:_t}]};Object(Xe.useEffect)((function(){var e=Object(Qr.a)({},o,i);x({variables:e})}),[i]);var S=Object(ta.a)(xn,C),I=Object(nt.a)(S,1)[0],N=Object(ta.a)(wn,C),A=Object(nt.a)(N,1)[0],T=Object(ta.a)(gn,C),$=Object(nt.a)(T,1)[0],k=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.deleted)&&(a=n[0],$({variables:{_id:a}}),j(m.filter((function(e){return e._id!==a}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Xe.useEffect)((function(){var e,t;if((null===g||void 0===g?void 0:g.loading)&&v(!0),null===g||void 0===g||null===(e=g.data)||void 0===e||null===(t=e.getReceipts)||void 0===t?void 0:t.data){var n=g.data.getReceipts.data;j(n),v(!1)}}),[g]),Object(Fr.jsxs)(Ql.a,{style:{maxHeight:600,overflow:"auto",margin:10,minHeight:600},children:[Object(Fr.jsxs)(Od.c,{rows:m,columns:l,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:k}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:600,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["time"],formatterComponent:Hc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as}),Object(Fr.jsx)(Au.b,{for:["docNo","refNo"],formatterComponent:Kc}),Object(Fr.jsx)(Au.b,{for:["creditAcc"],formatterComponent:function(e){return vs(e,w,t)}}),Object(Fr.jsx)(Au.b,{for:["debitAcc"],formatterComponent:function(e){return Os(e,w,t)}}),a&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Vl,{theme:r,addAction:I,editAction:A,children:Object(Fr.jsx)(db,{name:o,value:c,tasks:f})})]}),O&&Object(Fr.jsx)(Ll,{isRTL:t})]})}var mb=function(e){var t=e.open,n=e.onClose,a=e.row,o=e.isNew,i=e.addAction,c=e.editAction,s=e.theme,l=e.tasks,d=e.name,u=e.value,m=Object(Xe.useState)({show:!1,msg:"",type:void 0}),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Ze.a.useState(new Date),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Ze.a.useState([]),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Ze.a.useState([]),S=Object(nt.a)(C,2),I=S[0],N=S[1],A=Ze.a.useState(null),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Ze.a.useState(null),R=Object(nt.a)(D,2),E=R[0],L=R[1],_=Object(Xe.useState)("employeeId"===d?u:null),P=Object(nt.a)(_,2),q=P[0],B=P[1],W=Object(Xe.useState)(!1),z=Object(nt.a)(W,2),V=z[0],F=z[1],M=Object(Xe.useState)(null),H=Object(nt.a)(M,2),U=H[0],Q=H[1],G=Object(Xe.useState)([]),K=Object(nt.a)(G,2),Y=K[0],J=K[1],X=Object(Xe.useState)("departmentId"===d?u:null),Z=Object(nt.a)(X,2),ee=Z[0],te=Z[1],ne=Object(Xe.useState)(!1),ae=Object(nt.a)(ne,2),re=ae[0],oe=ae[1],ie=Object(Xe.useState)("taskId"===d?u:null),ce=Object(nt.a)(ie,2),se=ce[0],le=ce[1],de=Zd().employees,ue=Md().departments,me=Object(na.c)(r.depositResolver),je=me.register,be=me.handleSubmit,pe=me.errors,Oe=me.reset,ve=Object(Xe.useContext)(Rr),fe=ve.translate,he=fe.words,ye=fe.isRTL,xe=ve.store.user,ge=cb().accounts;Object(Xe.useEffect)((function(){if(o&&se){if((null===se||void 0===se?void 0:se.departmentId)&&"departmentId"!==d){var e,t=null===(e=ue.filter((function(e){return e._id===(null===se||void 0===se?void 0:se.departmentId)})))||void 0===e?void 0:e[0];te(t)}if((null===se||void 0===se?void 0:se.employeeId)&&"employeeId"!==d){var n,a=null===(n=de.filter((function(e){return e._id===(null===se||void 0===se?void 0:se.employeeId)})))||void 0===n?void 0:n[0];B(a)}}}),[se]),Object(Xe.useEffect)((function(){if(o&&q&&(null===q||void 0===q?void 0:q.departmentId)&&"departmentId"!==d){var e,t=null===(e=ue.filter((function(e){return e._id===(null===q||void 0===q?void 0:q.departmentId)})))||void 0===e?void 0:e[0];te(t)}}),[q]),Object(Xe.useEffect)((function(){if(de&&de.length>0){var e=de.filter((function(e){return e.resKind===U&&1===e.resType}));J(e)}}),[U,de]),Object(Xe.useEffect)((function(){if(o){if("taskId"===d){if(null===u||void 0===u?void 0:u.departmentId){var e,t=null===(e=ue.filter((function(e){return e._id===(null===u||void 0===u?void 0:u.departmentId)})))||void 0===e?void 0:e[0];te(t)}if(null===u||void 0===u?void 0:u.employeeId){var n,a=null===(n=de.filter((function(e){return e._id===(null===u||void 0===u?void 0:u.employeeId)})))||void 0===n?void 0:n[0];B(a)}}if("employeeId"===d&&(null===u||void 0===u?void 0:u.departmentId)){var r,i=null===(r=ue.filter((function(e){return e._id===(null===u||void 0===u?void 0:u.departmentId)})))||void 0===r?void 0:r[0];te(i)}}}),[t]),Object(Xe.useEffect)((function(){if(a&&a._id){var e=a.creditAcc,t=a.debitAcc,n=a.departmentId,r=a.employeeId,o=a.taskId;if(n){var i=ue.filter((function(e){return e._id===n}))[0];te(i)}if(r){var c=de.filter((function(e){return e._id===r}))[0];B(c)}if(o){var s=l.filter((function(e){return e.id===o}))[0];le(s)}var d=ge.filter((function(e){return e.parentcode===Ei&&"branch1"===e.branch}));w(d);var u=ge.filter((function(e){return e.parentcode===ki&&"branch1"===e.branch}));if(N(u),e){var m=ge.filter((function(t){return t.code===e&&"branch1"===t.branch}))[0];L(m)}if(t){var j=ge.filter((function(e){return e.code===t&&"branch1"===e.branch}))[0];k(j)}Ne(a.time)}else{var b=ge.filter((function(e){return e.parentcode===Ei&&"branch1"===e.branch}));w(b);var p=ge.filter((function(e){return e.parentcode===ki&&"branch1"===e.branch}));N(p),L(null===p||void 0===p?void 0:p[0]),k(null===b||void 0===b?void 0:b[3])}}),[a,t]);var we=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,r,s,l,d,u;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.amount,r=t.desc,$&&E){e.next=5;break}return e.next=4,Ks(p,ye?"\u064a\u062c\u0628 \u062a\u062d\u062f\u064a\u062f \u0643\u0644\u0627 \u0627\u0644\u062d\u0633\u0627\u0628\u064a\u0646":"You have to select both accounts");case 4:return e.abrupt("return");case 5:if($!==E){e.next=9;break}return e.next=8,Ks(p,ye?"\u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a \u064a\u062c\u0628 \u0627\u0646 \u062a\u0643\u0648\u0646 \u0645\u062e\u062a\u0644\u0641\u0629":"The accounts must be deferent");case 8:return e.abrupt("return");case 9:s=ee?{departmentId:ee._id,departmentName:ee.name,departmentNameAr:ee.nameAr,departmentColor:ee.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},l=se?{customerId:se.customerId,customerName:se.customerName,customerNameAr:se.customerNameAr,customerPhone:se.customerPhone}:{customerId:void 0,customerName:void 0,customerNameAr:void 0,customerPhone:void 0},d=q?{employeeId:q._id,employeeName:q.name,employeeNameAr:q.nameAr,employeeColor:q.color}:{employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0},u={_id:a&&a._id?a._id:void 0,time:f,debitAcc:$.code,creditAcc:E.code,amount:n,taskId:se?se.id:void 0,customer:l,department:s,employee:d,desc:r,branch:xe.branch,userId:xe._id},Ce(o?i:c,u);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({variables:n}),Ie()}catch(a){Se(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(p,ye);case 3:e.next=8;break;case 5:return e.next=7,Hs(p,ye);case 7:console.log(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){Oe(),L(null),k(null),w([]),N([]),B(null),F(!1),te(null),oe(!1),Q(null),J([]),le(null),n()},Ne=function(e){h(e)};return Object(Fr.jsx)(pu,{isRTL:ye,open:t,onClose:Ie,title:he.expenses,onSubmit:function(){be(we)()},theme:s,alrt:b,mt:10,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsx)(Gl.a,{item:!0,xs:9,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)(yd,{isRTL:ye,label:he.time,value:f,onChange:Ne})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"debitAcc",title:ye?"\u062d\u0633\u0627\u0628 \u0627\u0644\u0645\u0635\u0631\u0648\u0641":"Expenses Acc",words:he,options:g,value:$,setSelectValue:k,register:je,isRTL:ye,fullwidtth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"creditAcc",title:ye?"\u062d\u0633\u0627\u0628 \u0627\u0644\u062f\u0641\u0639":"Payment Acc",words:he,options:I,value:E,setSelectValue:L,register:je,isRTL:ye,fullwidtth:!0})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,children:[Object(Fr.jsx)(xd,{required:!0,name:"amount",label:he.amount,register:je,errors:pe,row:a,type:"number",width:203}),Object(Fr.jsx)(fu,{name:"task",title:he.task,words:he,options:l,value:se,setSelectValue:le,register:je,isRTL:ye,fullWidth:!0,disabled:"taskId"===d}),Object(Fr.jsx)(ua.a,{style:{marginRight:10,marginTop:0,marginBottom:0},children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:U,onChange:function(e){Q(Number(e.target.value)),B(null)},children:[Object(Fr.jsx)(ql.a,{value:1,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:ye?"\u0627\u0644\u0645\u0648\u0638\u0641":"Employee"}),Object(Fr.jsx)(ql.a,{value:2,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:ye?"\u0627\u0644\u0645\u0648\u0631\u062f":"Resourse"})]})}),Object(Fr.jsx)(fu,{name:"employee",title:2===U?he.resourses:he.employee,disabled:!U||"employeeId"===d,words:he,options:Y,value:q,setSelectValue:B,setSelectError:F,selectError:V,register:je,isRTL:ye,mb:20}),Object(Fr.jsx)(fu,{name:"department",title:he.department,words:he,options:ue,value:ee,setSelectValue:te,setSelectError:oe,selectError:re,register:je,isRTL:ye,mb:20,disabled:"departmentId"===d}),Object(Fr.jsx)(xd,{name:"desc",multiline:!0,rows:4,label:he.description,register:je,errors:pe,row:a,fullWidth:!0})]})]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2})]})})};function jb(e){var t=e.isRTL,n=e.words,a=e.isEditor,r=e.theme,o=e.name,i=e.id,c=e.value,s=Object(Xe.useState)([{name:"time",title:n.time},{name:"debitAcc",title:t?"\u062d\u0633\u0627\u0628 \u0627\u0644\u0645\u0635\u0631\u0648\u0641":"Expenses Acc"},{name:"creditAcc",title:t?"\u062d\u0633\u0627\u0628 \u0627\u0644\u062f\u0641\u0639":"Payment Acc"},{name:t?"departmentNameAr":"departmentName",title:n.department},{name:t?"employeeNameAr":"employeeName",title:"".concat(n.employee," / ").concat(n.resourses)},{name:"taskId",title:t?"\u0627\u0644\u0645\u0647\u0645\u0629":"Task"},{name:"desc",title:n.description},{name:"amount",title:n.amount}]),l=Object(nt.a)(s,1)[0],d=Object(Xe.useState)([]),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Object(Xe.useState)(!1),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=tm().tasks,h=Object(Fd.a)(en,{fetchPolicy:"cache-and-network"}),y=Object(nt.a)(h,2),x=y[0],g=y[1],w=cb().accounts,C={refetchQueries:[{query:en,variables:Object(Qr.a)({},o,i)},{query:Xt},{query:Ft},{query:em},{query:qt},{query:Pt},{query:_t}]};Object(Xe.useEffect)((function(){var e=Object(Qr.a)({},o,i);x({variables:e})}),[i]);var S=Object(ta.a)(Vn,C),I=Object(nt.a)(S,1)[0],N=Object(ta.a)(Fn,C),A=Object(nt.a)(N,1)[0],T=Object(ta.a)(Mn,C),$=Object(nt.a)(T,1)[0],k=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.deleted)&&(a=n[0],$({variables:{_id:a}}),j(m.filter((function(e){return e._id!==a}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Xe.useEffect)((function(){var e,t;if((null===g||void 0===g?void 0:g.loading)&&v(!0),null===g||void 0===g||null===(e=g.data)||void 0===e||null===(t=e.getExpenses)||void 0===t?void 0:t.data){var n=g.data.getExpenses.data;j(n),v(!1)}}),[g]),Object(Fr.jsxs)(Ql.a,{style:{maxHeight:600,overflow:"auto",margin:10,minHeight:600},children:[Object(Fr.jsxs)(Od.c,{rows:m,columns:l,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:k}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:600,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["time"],formatterComponent:Hc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as}),Object(Fr.jsx)(Au.b,{for:["docNo","refNo"],formatterComponent:Kc}),Object(Fr.jsx)(Au.b,{for:["creditAcc"],formatterComponent:function(e){return Os(e,w,t)}}),Object(Fr.jsx)(Au.b,{for:["taskId"],formatterComponent:function(e){return ls(Object(bt.a)(Object(bt.a)({},e),{},{tasks:f}))}}),Object(Fr.jsx)(Au.b,{for:["debitAcc"],formatterComponent:function(e){return Os(e,w,t)}}),a&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Vl,{theme:r,addAction:I,editAction:A,children:Object(Fr.jsx)(mb,{name:o,value:c,tasks:f})})]}),O&&Object(Fr.jsx)(Ll,{isRTL:t})]})}var bb=function(e){return e.map((function(e,t){return Object(bt.a)(Object(bt.a)({},e),{},{index:t})}))},pb=function(e){var t,n=e.open,a=e.onClose,r=e.row,o=e.isNew,i=e.setEnd,c=e.addEventsToList,s=e.employees,l=e.departments,d=e.servicesproducts,u=e.theme,m=e.department,j=e.customer,b=e.employee,p=gt(),O=Object(Xe.useState)(!1),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)(null),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Object(Xe.useState)(null),S=Object(nt.a)(C,2),I=S[0],N=S[1],A=Object(Xe.useState)(null),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Object(Xe.useState)(!1),R=Object(nt.a)(D,2),E=R[0],L=R[1],_=Ze.a.useRef(),P=Object(Xe.useState)(null),q=Object(nt.a)(P,2),B=q[0],W=q[1],z=Object(Xe.useState)(!1),V=Object(nt.a)(z,2),F=V[0],M=V[1],H=Ze.a.useRef(),U=Object(Xe.useState)(null),Q=Object(nt.a)(U,2),G=Q[0],K=Q[1],Y=Object(Xe.useState)(!1),J=Object(nt.a)(Y,2),X=J[0],Z=J[1],ee=Object(Xe.useState)(""),te=Object(nt.a)(ee,2),ne=te[0],ae=te[1],re=Object(Xe.useState)(null),oe=Object(nt.a)(re,2),ie=oe[0],ce=oe[1],se=Object(Xe.useState)({}),le=Object(nt.a)(se,2),de=le[0],ue=le[1],me=Object(Xe.useState)([]),je=Object(nt.a)(me,2),be=je[0],pe=je[1],Oe=Object(Xe.useState)(null),ve=Object(nt.a)(Oe,2),fe=ve[0],he=ve[1],ye=Object(Xe.useState)(!1),xe=Object(nt.a)(ye,2),ge=xe[0],we=xe[1],Ce=Object(Xe.useState)({show:!1,msg:"",type:void 0}),Se=Object(nt.a)(Ce,2),Ie=Se[0],Ne=Se[1],Ae=Object(Xe.useState)(!1),Te=Object(nt.a)(Ae,2),$e=Te[0],ke=Te[1],De=Object(Xe.useState)([]),Re=Object(nt.a)(De,2),Ee=Re[0],Le=Re[1],_e=Object(Xe.useState)(null),Pe=Object(nt.a)(_e,2),qe=Pe[0],Be=Pe[1],We=Object(Xe.useState)(null),ze=Object(nt.a)(We,2),Ve=ze[0],Fe=ze[1],Me=Object(Xe.useState)(null),He=Object(nt.a)(Me,2),Ue=He[0],Qe=He[1],Ge=Object(Xe.useState)([]),Ke=Object(nt.a)(Ge,2),Ye=Ke[0],Je=Ke[1],et=tu(),tt=et.customers,rt=et.addCustomer,ot=et.editCustomer,it=Object(na.c)({}),ct=it.register,st=it.handleSubmit,lt=Object(Xe.useContext)(Rr),dt=lt.translate,ut=dt.words,mt=dt.isRTL,jt=lt.store.user;Object(Xe.useEffect)((function(){if(s&&s.length>0){var e=s.filter((function(e){return e.resKind===Ue&&1===e.resType}));Je(e)}}),[Ue,s]),Object(Xe.useEffect)((function(){var e,t=new Date,n=new Date;t.setMinutes(0),n.setHours(n.getHours()+1),n.setMinutes(0),w(t),N(n),ce(null===(e=or.filter((function(e){return 2===e.id})))||void 0===e?void 0:e[0]),K(j),k(m),W(b)}),[n]),Object(Xe.useEffect)((function(){if(o&&B&&(null===B||void 0===B?void 0:B.departmentId)){var e,t=null===(e=l.filter((function(e){return e._id===(null===B||void 0===B?void 0:B.departmentId)})))||void 0===e?void 0:e[0];k(t)}}),[B]),Object(Xe.useEffect)((function(){pt()}),[be]),Object(Xe.useEffect)((function(){var e;(null===fe||void 0===fe?void 0:fe.all)&&(null===fe||void 0===fe||null===(e=fe.all)||void 0===e?void 0:e.length)>0&&i(fe.all[fe.all.length-1])}),[fe]);var pt=function(){var e=be.map((function(e){return e.itemtotal})).reduce((function(e,t){return e+t}),0),t=be.map((function(e){return e.itemtotalcost})).reduce((function(e,t){return e+t}),0);ue({itemsSum:e,itemsCostSum:t,costAmount:t,total:e,amount:e,profit:e-t})},Ot=function(){var e=Object(ea.a)(Zn.a.mark((function e(){var t,n;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(g>I)){e.next=4;break}return e.next=3,Ks(Ne,mt?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change");case 3:return e.abrupt("return");case 4:if(new Date(g).getDate()===new Date(I).getDate()){e.next=8;break}return e.next=7,Ks(Ne,mt?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change");case 7:return e.abrupt("return");case 8:if(be&&0!==be.length){e.next=12;break}return e.next=11,Ks(Ne,mt?"\u064a\u062c\u0628 \u0627\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631 (\u062e\u062f\u0645\u0629 \u0627\u0648 \u0645\u0646\u062a\u062c) \u0648\u0627\u062d\u062f \u0644\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644":"You should add min one service to invoice");case 11:return e.abrupt("return");case 12:h(!0),t={title:Ve,startDate:g,endDate:I,amount:de.amount,status:ie?ie.id:2,items:JSON.stringify(be),user:jt._id,customer:G?{customerId:G._id,customerName:G.name,customerNameAr:G.nameAr,customerPhone:G.phone}:{customerId:void 0,customerName:void 0,customerNameAr:void 0,customerPhone:void 0},department:$?{departmentId:$._id,departmentName:$.name,departmentNameAr:$.nameAr,departmentColor:$.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},employee:B?{employeeId:B._id,employeeName:B.name,employeeNameAr:B.nameAr,employeeColor:B.color,employeePhone:B.phone}:{employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0,employeePhone:void 0}},n=xc({event:t,rrule:fe,actionslist:Ee,isRTL:mt}),c(n),h(!1),vt();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vt=function(){w(null),N(null),K(null),k(null),W(null),ce(null),he(null),pe([]),ue({}),Le([]),Be(null),h(!1),Fe(null),Qe(null),a()},ft=(null===r||void 0===r?void 0:r.startDate)?new Date(null===r||void 0===r?void 0:r.startDate):new Date,ht=null===sr||void 0===sr?void 0:sr[ft.getDay()],yt=mt?o?"\u0645\u0648\u0639\u062f \u062c\u062f\u064a\u062f":"\u062a\u0639\u062f\u064a\u0644 \u0645\u0648\u0639\u062f":o?"New Appointment":"Edit Appointment";return Object(Fr.jsx)(pu,{isRTL:mt,open:n,onClose:vt,title:yt,onSubmit:function(){st(Ot)()},theme:u,alrt:Ie,mt:10,maxWidth:"md",saving:f,bgcolor:Sc.a.blue[500],savetitle:mt?"\u0645\u062a\u0627\u0628\u0639\u0629":"Proceed",children:Object(Fr.jsxs)(Fr.Fragment,{children:[Object(Fr.jsx)(ua.a,{display:"flex",children:Object(Fr.jsx)(la.a,{style:{fontWeight:"bold"},variant:"body2",children:null===r||void 0===r?void 0:r.docNo})}),Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:12,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:8,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:1,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:6,children:Object(Fr.jsx)(yd,{isRTL:mt,label:ut.start,value:g,onChange:function(e){return w(e)},format:"dd/MM/yyyy - hh:mm",time:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:6,children:Object(Fr.jsx)(yd,{isRTL:mt,label:ut.end,value:I,onChange:function(e){return N(e)},format:"dd/MM/yyyy - hh:mm",time:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)(xd,{autoFocus:!0,name:"tasktitle",label:ut.title,value:Ve,onChange:function(e){return Fe(e.target.value)},row:r,fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)(fu,{name:"customer",title:ut.customer,words:ut,options:tt,value:G,setSelectValue:K,register:ct,isRTL:mt,openAdd:function(){Z(!0)},showphone:!0,fullWidth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(ua.a,{style:{marginRight:10,marginTop:0,marginBottom:0},children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:Ue,onChange:function(e){Qe(Number(e.target.value)),W(null)},children:[Object(Fr.jsx)(ql.a,{value:1,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:mt?"\u0627\u0644\u0645\u0648\u0638\u0641":"Employee"}),Object(Fr.jsx)(ql.a,{value:2,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:mt?"\u0627\u0644\u0645\u0648\u0631\u062f":"Resourse"})]})})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"employee",title:ut.employee,words:ut,options:Ye,value:B,setSelectValue:W,setSelectError:M,selectError:F,refernce:H,register:ct,noPlus:!0,isRTL:mt,fullWidth:!0,day:ht})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"department",title:ut.department,words:ut,options:l.filter((function(e){return 1===e.depType})),value:$,setSelectValue:k,setSelectError:L,selectError:E,refernce:_,register:ct,noPlus:!0,isRTL:mt,fullWidth:!0})})]})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:4,style:{backgroundColor:"#eee",borderRadius:5},children:[Object(Fr.jsx)(oa.a,{variant:"outlined",style:{marginBottom:10,fontSize:14,minWidth:80},onClick:function(){Be(null),ke(!0)},children:mt?"\u0627\u0636\u0627\u0641\u0629 \u062a\u0646\u0628\u064a\u0647":"Add Reminder"}),Object(Fr.jsx)(Ql.a,{style:{height:150,overflow:"auto"},children:Ee.map((function(e){return Object(Fr.jsxs)(ao.a,{children:[Object(Fr.jsx)(ro.a,{primary:bs({row:e}),secondary:Wc(e.sendtime,mt)}),Object(Fr.jsx)(Jr.a,{onClick:function(){return function(e){var t=Ee.filter((function(t){return t.index!==e.index})),n=bb(t);Le(n)}(e)},title:"Delete row",style:{padding:5},children:Object(Fr.jsx)(ji.a,{style:{fontSize:22,color:"#a76f9a"}})}),Object(Fr.jsx)(Jr.a,{style:{padding:5},onClick:function(){Be(e),ke(!0)},title:"Edit row",children:Object(Fr.jsx)(ui.a,{style:{fontSize:22,color:"#729aaf"}})})]})}))})]})]})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,md:12,children:[Object(Fr.jsx)(Gl.a,{container:!0,spacing:2}),Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#f4f4f4",padding:10,marginTop:15,marginBottom:15,borderRadius:10},children:[Object(Fr.jsx)(ua.a,{display:"flex",children:Object(Fr.jsx)(Iu,{options:d,addItem:function(e){var t=[].concat(Object(at.a)(be),[Object(bt.a)(Object(bt.a)({},e),{},{userId:jt._id})]),n=bb(t);pe(n)},words:ut,employees:s,departments:l,classes:p,user:jt,isRTL:mt})}),Object(Fr.jsx)(ua.a,{style:{marginBottom:20},children:Object(Fr.jsx)(zu,{height:200,rows:be,editItem:function(e){var t=be.map((function(t){return t._id===e._id?e:t})),n=bb(t);pe(n)},removeItem:function(e){var t=Object(at.a)(be);t.splice(e,1);var n=bb(t);pe(n)},isRTL:mt,words:ut,user:jt})})]}),Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsxs)(Gl.a,{item:!0,xs:4,children:[Object(Fr.jsxs)(la.a,{style:{fontWeight:"bold",fontSize:16},children:[ut.total," : ",Zc(de.amount)]}),Object(Fr.jsx)(ua.a,{style:{marginTop:20},children:Object(Fr.jsx)(fu,{name:"status",title:ut.status,words:ut,options:or,value:ie,setSelectValue:ce,noPlus:!0,isRTL:mt,width:200})})]}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:2,children:[Object(Fr.jsx)(oa.a,{style:{minWidth:100,marginTop:5},variant:"outlined",onClick:function(){return we(!0)},children:"\u062a\u0643\u0631\u0627\u0631"}),Object(Fr.jsx)(oa.a,{style:{minWidth:100,marginTop:5},variant:"outlined",onClick:function(){return he(null)},children:"\u062d\u0630\u0641 \u0627\u0644\u062a\u0643\u0631\u0627\u0631"})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:5,children:(null===fe||void 0===fe?void 0:fe.all)&&Object(Fr.jsx)(Ql.a,{style:{maxHeight:150,overflow:"auto",minHeight:150},children:Object(Fr.jsx)(ua.a,{style:{flexDirection:"row"},children:null===fe||void 0===fe||null===(t=fe.all)||void 0===t?void 0:t.map((function(e,t){return Object(Fr.jsxs)(ua.a,{display:"flex",style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"#eee",margin:4,padding:4},children:[Object(Fr.jsx)(la.a,{children:Vc(e,mt)}),Object(Fr.jsx)(la.a,{variant:"caption",children:t+1})]})}))})})})]}),Object(Fr.jsx)(Ej,{start:g,open:ge,onClose:function(){return we(!1)},onSubmit:he,theme:u,isRTL:mt,words:ut}),Object(Fr.jsx)(Dm,{open:$e,onClose:function(){return ke(!1)},row:qe,isNew:!qe,addAction:function(e){var t=[].concat(Object(at.a)(Ee),[e]),n=bb(t);Le(n)},editAction:function(e){var t=Ee.map((function(t){return t._id===e._id?e:t})),n=bb(t);Le(n)},theme:u,event:Object(bt.a)(Object(bt.a)({},r),{},{startDate:g,endDate:I})}),Object(Fr.jsx)(yu,{newtext:ne,open:X,onClose:function(){Z(!1),ae("")},isNew:!0,setNewValue:function(e){K(e)},row:null,addAction:rt,editAction:ot})]})]})]})})},Ob=function(e){return e.index},vb=function(e){return Object(Fr.jsx)(Au.b,Object(bt.a)({formatterComponent:function(e){var t=e.value;return Object(Fr.jsx)(la.a,{variant:"subtitle2",children:Number(t)+1})}},e))},fb=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.1)}}}}),{name:"TableComponent"})((function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.e.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))}));function hb(e){var t=e.rows,n=e.removeEventFromList,a=e.isRTL,r=e.words,o=Is({isRTL:a,words:r}),i=Object(Xe.useState)([{id:1,ref:"title",name:"title",title:r.title},o.startDate,o.fromto,{id:4,ref:"department",name:"departmentname",title:r.department},{id:5,ref:"employee",name:"employeename",title:r.employee},o.status,o.amount]),c=Object(nt.a)(i,1)[0],s=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var a,r;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t.deleted)&&(r=a[0],n(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsx)(Ql.a,{style:{maxHeight:500,overflow:"auto",margin:10,minHeight:500},children:t&&Object(Fr.jsxs)(Od.c,{rows:t,columns:c,getRowId:Ob,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:s}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:500,messages:{noData:a?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:45,tableComponent:fb}),Object(Fr.jsx)(Au.b,{for:["startDate"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["fromto"],formatterComponent:Gc}),Object(Fr.jsx)(Au.b,{for:["status"],formatterComponent:Jc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as}),Object(Fr.jsx)(Au.b,{for:["departmentname"],formatterComponent:function(e){return function(e){var t,n,a=e.row,r=e.isRTL;return Object(Fr.jsx)("div",{children:r?null===a||void 0===a||null===(t=a.department)||void 0===t?void 0:t.departmentNameAr:null===a||void 0===a||null===(n=a.department)||void 0===n?void 0:n.departmentName})}(Object(bt.a)(Object(bt.a)({},e),{},{isRTL:a}))}}),Object(Fr.jsx)(Au.b,{for:["employeename"],formatterComponent:function(e){return function(e){var t,n,a=e.row,r=e.isRTL;return Object(Fr.jsx)("div",{children:r?null===a||void 0===a||null===(t=a.employee)||void 0===t?void 0:t.employeeNameAr:null===a||void 0===a||null===(n=a.employee)||void 0===n?void 0:n.employeeName})}(Object(bt.a)(Object(bt.a)({},e),{},{isRTL:a}))}}),Object(Fr.jsx)(vb,{for:["index"]}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.g,{showDeleteCommand:t&&t.length>1,commandComponent:Es}),Object(Fr.jsx)(zl.f,{name:"tableColumns",computed:function(e){var t=e.tableColumns;return[{key:"editCommand",type:Od.g.COLUMN_TYPE,width:70}].concat(Object(at.a)(t.filter((function(e){return e.type!==Od.g.COLUMN_TYPE}))))}})]})})}var yb,xb,gb,wb,Cb=function(e){return e.map((function(e,t){return Object(bt.a)(Object(bt.a)({},e),{},{index:t})}))},Sb=function(e){var t=e.open,n=e.onClose,a=e.row,r=e.isNew,o=e.addAction,i=e.editAction,c=e.employees,s=e.departments,l=e.customers,d=e.servicesproducts,u=e.theme,m=e.isEditor,j=e.company,b=e.refresh,p=e.startrange,O=e.endrange,v=e.value,f=void 0===v?null:v,h=e.name,y=void 0===h?null:h,x=Object(Xe.useState)(!1),g=Object(nt.a)(x,2),w=g[0],C=g[1],S=Object(Xe.useState)(null),I=Object(nt.a)(S,2),N=I[0],A=I[1],T=Object(Xe.useState)(null),$=Object(nt.a)(T,2),k=$[0],D=$[1],R=Object(Xe.useState)(null),E=Object(nt.a)(R,2),L=E[0],_=E[1],P=Object(Xe.useState)("departmentId"===y?f:null),q=Object(nt.a)(P,2),B=q[0],W=q[1],z=Object(Xe.useState)(!1),V=Object(nt.a)(z,2),F=V[0],M=V[1],H=Ze.a.useRef(),U=Object(Xe.useState)("employeeId"===y?f:null),Q=Object(nt.a)(U,2),G=Q[0],K=Q[1],Y=Object(Xe.useState)(!1),J=Object(nt.a)(Y,2),X=J[0],Z=J[1],ee=Ze.a.useRef(),te=Object(Xe.useState)("customerId"===y?f:null),ne=Object(nt.a)(te,2),ae=ne[0],re=ne[1],oe=Object(Xe.useState)(!1),ie=Object(nt.a)(oe,2),ce=ie[0],se=ie[1],le=Ze.a.useRef(),de=Object(Xe.useState)(null),ue=Object(nt.a)(de,2),me=ue[0],je=ue[1],be=Object(Xe.useState)(!1),pe=Object(nt.a)(be,2),Oe=pe[0],ve=pe[1],fe=Object(Xe.useState)([]),he=Object(nt.a)(fe,2),ye=he[0],xe=he[1],ge=Object(Xe.useState)(null),we=Object(nt.a)(ge,2),Ce=we[0],Se=we[1],Ie=Object(Xe.useState)(null),Ne=Object(nt.a)(Ie,2),Ae=Ne[0],Te=Ne[1],$e=Object(Xe.useState)([]),ke=Object(nt.a)($e,2),De=ke[0],Re=ke[1],Ee=Object(Xe.useState)({show:!1,msg:"",type:void 0}),Le=Object(nt.a)(Ee,2),_e=Le[0],Pe=Le[1],qe=Object(na.c)({}),Be=qe.register,We=qe.handleSubmit,ze=qe.reset,Ve=Object(Xe.useContext)(Rr).translate,Fe=Ve.words,Me=Ve.isRTL;Object(Xe.useEffect)((function(){if(c&&c.length>0){var e=c.filter((function(e){return e.resKind===Ae&&1===e.resType}));Re(e)}}),[Ae,c]),Object(Xe.useEffect)((function(){if(r&&G&&"departmentId"!==y&&(null===G||void 0===G?void 0:G.departmentId)){var e,t=null===(e=s.filter((function(e){return e._id===(null===G||void 0===G?void 0:G.departmentId)})))||void 0===e?void 0:e[0];W(t)}}),[G]),Object(Xe.useEffect)((function(){if(r){var e,t=new Date,n=new Date;if(t.setHours(0,0,0,0),n.setDate(n.getDate()+7),n.setHours(23,59,59,999),D(t),_(n),je(null===(e=or.filter((function(e){return 1===e.id})))||void 0===e?void 0:e[0]),xe([]),"employeeId"===y&&(null===f||void 0===f?void 0:f.departmentId)){var a,o=null===(a=s.filter((function(e){return e._id===(null===f||void 0===f?void 0:f.departmentId)})))||void 0===a?void 0:a[0];W(o)}}}),[t]);Object(Xe.useEffect)((function(){!function(){var e=td.a.sumBy(ye,"amount");Se(e)}()}),[ye]),Object(Xe.useEffect)((function(){if(a&&a._id){var e=a.departmentId,t=a.employeeId,n=a.customerId;if(D(null===a||void 0===a?void 0:a.start),_(null===a||void 0===a?void 0:a.end),A(null===a||void 0===a?void 0:a.title),e){var r=s.filter((function(t){return t._id===e}))[0];W(r)}if(t){var o=c.filter((function(e){return e._id===t}))[0];K(o)}if(n){var i=l.filter((function(e){return e._id===n}))[0];re(i)}}}),[a]);var He=function(){var e=Object(ea.a)(Zn.a.mark((function e(){var t,n;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(k>L)){e.next=4;break}return e.next=3,Ks(Pe,Me?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change");case 3:return e.abrupt("return");case 4:if(N){e.next=8;break}return e.next=7,Ks(Pe,Me?"\u064a\u0631\u062c\u0649 \u0627\u0636\u0627\u0641\u0629 \u0627\u0633\u0645 \u0644\u0644\u0645\u0647\u0645\u0629":"Please add Task title");case 7:return e.abrupt("return");case 8:if(ae){e.next=12;break}return e.next=11,Ks(Pe,Me?"\u064a\u0631\u062c\u0649 \u0627\u0636\u0627\u0641\u0629 \u0639\u0645\u064a\u0644 \u0644\u0644\u0641\u0627\u062a\u0648\u0631\u0629":"Please add Customer");case 11:return e.abrupt("return");case 12:if(!r||ye&&0!==ye.length){e.next=16;break}return e.next=15,Ks(Pe,Me?"\u064a\u0631\u062c\u0649 \u0627\u0636\u0627\u0641\u0629 \u0645\u0648\u0639\u062f":"Please add Appointment");case 15:return e.abrupt("return");case 16:C(!0),t=ye&&ye.length>0?gs(ye):void 0,n={id:a&&a.id?a.id:void 0,title:N||(null===ae||void 0===ae?void 0:ae.name),start:k,end:L,amount:Ce,status:me?me.id:1,tasktype:2,events:t,evQty:ye?ye.length:void 0,evDone:r?0:void 0,customer:ae?{customerId:ae._id,customerName:ae.name,customerNameAr:ae.nameAr,customerPhone:ae.phone}:{customerId:void 0,customerName:void 0,customerNameAr:void 0,customerPhone:void 0},department:B?{departmentId:B._id,departmentName:B.name,departmentNameAr:B.nameAr,departmentColor:B.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},employee:G?{employeeId:G._id,employeeName:G.name,employeeNameAr:G.nameAr,employeeColor:G.color,employeePhone:G.phone}:{employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0,employeePhone:void 0}},Ue(r?o:i,n);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({variables:n}),setTimeout((function(){b(),Ge()}),1e3)}catch(a){Qe(a),console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(Pe,Me);case 3:e.next=9;break;case 5:return e.next=7,Hs(Pe,Me);case 7:ze(),console.log(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){D(null),_(null),re(null),W(null),K(null),je(null),A(null),C(!1),Te(null),n()},Ke=(null===a||void 0===a?void 0:a.start)?new Date(null===a||void 0===a?void 0:a.start):new Date,Ye=null===sr||void 0===sr?void 0:sr[Ke.getDay()],Je=Me?r?"\u0645\u0647\u0645\u0629 \u062c\u062f\u064a\u062f\u0629":"\u062a\u0639\u062f\u064a\u0644 \u0645\u0647\u0645\u0629":r?"New Task":"Edit Task";return Object(Fr.jsx)(pu,{isRTL:Me,open:t,onClose:Ge,title:Je,onSubmit:function(){We(He)()},theme:u,alrt:_e,mt:10,maxWidth:r?"lg":"xl",fullWidth:!0,preventclose:!0,saving:w,bgcolor:Sc.a.deepPurple[500],mb:10,children:Object(Fr.jsxs)(Fr.Fragment,{children:[Object(Fr.jsx)(ua.a,{display:"flex",children:Object(Fr.jsx)(la.a,{style:{fontWeight:"bold"},variant:"body2",children:null===a||void 0===a?void 0:a.docNo})}),Object(Fr.jsxs)(Gl.a,{container:!0,spacing:1,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(xd,{required:!0,autoFocus:!0,name:"tasktitle",label:Fe.title,value:N,onChange:function(e){return A(e.target.value)},row:a,fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(fu,{name:"customer",title:Fe.customer,words:Fe,options:l,value:ae,setSelectValue:re,setSelectError:se,selectError:ce,refernce:le,register:Be,isRTL:Me,fullWidth:!0,showphone:!0,disabled:"customerId"===y})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)(yd,{isRTL:Me,label:Fe.start,value:k,onChange:function(e){return D(e)},format:"dd/MM/yyyy - hh:mm",time:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(ua.a,{style:{marginRight:10,marginTop:0,marginBottom:0},children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:Ae,onChange:function(e){Te(Number(e.target.value)),K(null)},children:[Object(Fr.jsx)(ql.a,{value:1,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:Me?"\u0627\u0644\u0645\u0648\u0638\u0641":"Employee"}),Object(Fr.jsx)(ql.a,{value:2,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:Me?"\u0627\u0644\u0645\u0648\u0631\u062f":"Resourse"})]})})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:8}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(fu,{name:"employee",title:Fe.employee,words:Fe,options:De||"employeeId"===y,disabled:!Ae,value:G,setSelectValue:K,setSelectError:Z,selectError:X,refernce:ee,register:Be,noPlus:!0,isRTL:Me,fullWidth:!0,day:Ye})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(fu,{name:"department",title:Fe.department,words:Fe,options:s.filter((function(e){return 1===e.depType})),value:B,setSelectValue:W,setSelectError:M,selectError:F,refernce:H,register:Be,noPlus:!0,isRTL:Me,fullWidth:!0,disabled:"departmentId"===y})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsx)(yd,{isRTL:Me,label:Fe.end,value:L,onChange:function(e){return _(e)},format:"dd/MM/yyyy - hh:mm",time:!0,mb:0})})]}),Object(Fr.jsx)(Gl.a,{container:!0,spacing:2,children:Object(Fr.jsx)(Gl.a,{item:!0,xs:10,children:r&&Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#F3F3F3",marginTop:15,borderRadius:10},children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"flex-start",marginInlineStart:10},children:Object(Fr.jsx)(oa.a,{color:"primary",onClick:function(){return ve(!0)},variant:"contained",children:Me?"\u0627\u0636\u0627\u0641\u0629 \u0645\u0648\u0627\u0639\u064a\u062f":"Add Appointments"})}),Object(Fr.jsxs)(ua.a,{style:{marginBottom:20},children:[Object(Fr.jsx)(hb,{isTaskNew:r,rows:ye,removeEventFromList:function(e){var t=Object(at.a)(ye);t.splice(e,1);var n=Cb(t);xe(n)},employees:c,departments:s,customers:l,servicesproducts:d,isEditor:m,isRTL:Me,words:Fe,theme:u,taskId:a.id,isNew:r,employee:G,department:B,customer:ae,company:j,start:p,end:O}),Object(Fr.jsxs)(la.a,{style:{fontWeight:"bold",fontSize:16},children:[Fe.total," : ",Zc(Ce)]})]})]})})}),Object(Fr.jsx)(pb,{open:Oe,onClose:function(){return ve(!1)},row:null,isNew:!0,employees:c,departments:s,customers:l,employee:G,department:B,customer:ae,servicesproducts:d,theme:u,setEnd:_,addEventsToList:function(e){var t=[].concat(Object(at.a)(ye),Object(at.a)(e)),n=td.a.sortBy(t,"startDate"),a=Cb(n);xe(a)}})]})})},Ib=Object(Lt.a)(yb||(yb=Object(Et.a)(["\n  mutation createTask(\n    $branch: String\n    $title: String\n    $name: String\n    $type: String\n    $start: Date\n    $end: Date\n    $progress: Float\n    $tasktype: Int\n    $status: Int\n    $evQty: Int\n    $evDone: Int\n    $events: String\n    $items: String\n    $amount: Float\n    $priority: Int\n    $customer: CustomerInput\n    $department: DepartmentInput\n    $employee: EmployeeInput\n  ) {\n    createTask(\n      branch: $branch\n      title: $title\n      name: $name\n      type: $type\n      start: $start\n      end: $end\n      progress: $progress\n      tasktype: $tasktype\n      status: $status\n      evQty: $evQty\n      evDone: $evDone\n      events: $events\n      items: $items\n      amount: $amount\n      priority: $priority\n      customer: $customer\n      department: $department\n      employee: $employee\n    ) {\n      _id\n      branch\n      autoNo\n      docNo\n      title\n      desc\n\n      id\n      name\n      type\n      start\n      end\n      progress\n      isDisabled\n      tasktype\n\n      priority\n      status\n      amount\n      evQty\n      evDone\n\n      customerId\n      customerName\n      customerNameAr\n      customerPhone\n\n      departmentId\n      departmentName\n      departmentNameAr\n      departmentColor\n\n      employeeId\n      employeeName\n      employeeNameAr\n      employeeColor\n      employeePhone\n\n      userId\n      note\n\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Nb=Object(Lt.a)(xb||(xb=Object(Et.a)(["\n  mutation updateTask(\n    $id: Int\n    $branch: String\n    $title: String\n    $name: String\n    $type: String\n    $start: Date\n    $end: Date\n    $progress: Float\n    $tasktype: Int\n    $status: Int\n    $evQty: Int\n    $evDone: Int\n    $events: String\n    $items: String\n    $amount: Float\n    $priority: Int\n    $customer: CustomerInput\n    $department: DepartmentInput\n    $employee: EmployeeInput\n  ) {\n    updateTask(\n      id: $id\n      branch: $branch\n      title: $title\n      name: $name\n      type: $type\n      start: $start\n      end: $end\n      progress: $progress\n      tasktype: $tasktype\n      status: $status\n      evQty: $evQty\n      evDone: $evDone\n      events: $events\n      items: $items\n      amount: $amount\n      priority: $priority\n      customer: $customer\n      department: $department\n      employee: $employee\n    ) {\n      _id\n      branch\n      autoNo\n      docNo\n      title\n      desc\n\n      id\n      name\n      type\n      start\n      end\n      progress\n      isDisabled\n      tasktype\n\n      priority\n      status\n      amount\n      evQty\n      evDone\n\n      customerId\n      customerName\n      customerNameAr\n      customerPhone\n\n      departmentId\n      departmentName\n      departmentNameAr\n      departmentColor\n\n      employeeId\n      employeeName\n      employeeNameAr\n      employeeColor\n      employeePhone\n\n      userId\n      note\n\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Ab=Object(Lt.a)(gb||(gb=Object(Et.a)(["\n  mutation deleteTaskById($_id: String) {\n    deleteTaskById(_id: $_id) {\n      ok\n      message\n      error\n    }\n  }\n"]))),Tb=function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.l.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))},$b=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.05)}}}}),{name:"TableComponent"})(Tb),kb=(Object(Nu.a)((function(){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(Sc.a.blue[500],.13)}}}}),{name:"TableComponent"})(Tb),Object(Nu.a)((function(){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(Sc.a.green[400],.1)}}}}),{name:"TableComponent"})(Tb),Object(Nu.a)((function(){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(Sc.a.red[400],.1)}}}}),{name:"TableComponent"})(Tb),Object(Nu.a)((function(){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(Sc.a.orange[400],.1)}}}}),{name:"TableComponent"})(Tb),Object(Nu.a)((function(){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(Sc.a.deepPurple[400],.1)}}}}),{name:"TableComponent"})(Tb),Object(Nu.a)((function(){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(Sc.a.grey[400],.1)}}}}),{name:"TableComponent"})(Tb),function(e){return e.map((function(e,t){return Object(bt.a)(Object(bt.a)({},e),{},{index:t})}))}),Db=function(e){var t=e.open,n=e.onClose,a=e.task,r=e.customers,o=e.services,i=e.employees,c=e.departments,s=e.company,l=e.isNew,d=void 0===l||l,u=e.theme,m=e.items,j=gt(),b=Object(Xe.useState)({show:!1,msg:"",type:void 0}),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=Ze.a.useState(new Date),h=Object(nt.a)(f,2),y=h[0],x=h[1],g=Object(Xe.useState)(""),w=Object(nt.a)(g,2),C=w[0],S=w[1],I=Object(Xe.useState)([]),N=Object(nt.a)(I,2),A=N[0],T=N[1],$=Object(Xe.useState)([]),k=Object(nt.a)($,2),D=k[0],R=k[1],E=Object(Xe.useState)("cash"),L=Object(nt.a)(E,2),_=L[0],P=L[1],q=Object(Xe.useState)(0),B=Object(nt.a)(q,2),W=B[0],z=B[1],V=Object(Xe.useState)({}),F=Object(nt.a)(V,2),M=F[0],H=F[1],U=Object(Xe.useState)(null),Q=Object(nt.a)(U,2),G=Q[0],K=Q[1],Y=Object(Xe.useState)(!1),J=Object(nt.a)(Y,2),X=J[0],Z=J[1],ee=Ze.a.useRef(),te=Object(Xe.useState)(null),ne=Object(nt.a)(te,2),ae=ne[0],re=ne[1],oe=Object(Xe.useState)(!1),ie=Object(nt.a)(oe,2),ce=ie[0],se=ie[1],le=Ze.a.useRef(),de=Object(Xe.useState)(null),ue=Object(nt.a)(de,2),me=ue[0],je=ue[1],be=Object(Xe.useState)(!1),pe=Object(nt.a)(be,2),Oe=pe[0],ve=pe[1],fe=Ze.a.useRef(),he=Object(Xe.useState)(!1),ye=Object(nt.a)(he,2),xe=ye[0],ge=ye[1],we=Object(na.c)({}),Ce=we.handleSubmit,Se=we.reset,Ie=Object(Xe.useContext)(Rr),Ne=Ie.translate,Ae=Ne.words,Te=Ne.isRTL,$e=Ie.store.user,ke={refetchQueries:[{query:Vt,variables:{start:(new Date).setHours(0,0,0,0),end:(new Date).setHours(23,59,59,999)}},{query:Ft},{query:Xt},{query:em},{query:qt},{query:Pt},{query:_t}]},De=Object(ta.a)(fn,ke),Re=Object(nt.a)(De,1)[0],Ee=nu(),Le=Ee.lastNos,_e=Ee.freshlastNos;Object(Xe.useEffect)((function(){d&&Le&&S((null===Le||void 0===Le?void 0:Le.salesInvoice)?Number(null===Le||void 0===Le?void 0:Le.salesInvoice)+1:1)}),[t]),Object(Xe.useEffect)((function(){Pe()}),[A,W,_,xe]),Object(Xe.useEffect)((function(){if(a&&a.start){var e=a.customerId,t=r.filter((function(t){return t._id===e}))[0];K(t);var n=a.departmentId,o=a.employeeId;if(n){var s=c.filter((function(e){return e._id===n}))[0];re(s)}if(o){var l=i.filter((function(e){return e._id===o}))[0];je(l)}}m&&T(m)}),[a,o,r,m]);var Pe=function(){var e=A.map((function(e){return e.itemtotal})).reduce((function(e,t){return e+t}),0),t=A.map((function(e){return e.itemtotalcost})).reduce((function(e,t){return e+t}),0),n=e-W;H({itemsSum:n,itemsCostSum:t,costAmount:t,total:e,amount:n,profit:e-W-t}),R([{debitAcc:Qi,creditAcc:Yi,amount:e,type:tr.salesInvoice},{debitAcc:Yi,creditAcc:Qi,amount:W,type:tr.customerDiscount},{debitAcc:"cash"===_?Mi:Hi,creditAcc:Qi,amount:xe?e-W:0,type:tr.customerReceipt}])},qe=function(){var e=Object(ea.a)(Zn.a.mark((function e(){var t,n,r,o,i,c,s,l;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=hs(),n=t.startPeriod,r=t.endPeriod,!(y<n||y>r)){e.next=5;break}return e.next=4,Ks(v,Te?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change");case 4:return e.abrupt("return");case 5:if(!(W<0)){e.next=9;break}return e.next=8,Ks(v,Te?"\u0627\u0644\u062d\u0633\u0645 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0633\u0644\u0628\u064a":"Discount can't be minus");case 8:return e.abrupt("return");case 9:if(!(W>(null===M||void 0===M?void 0:M.total))){e.next=13;break}return e.next=12,Ks(v,Te?"\u0627\u0644\u062d\u0633\u0645 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0627\u0643\u0628\u0631 \u0645\u0646 \u0642\u064a\u0645\u0629 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629":"Discount can't be biger than Total");case 12:return e.abrupt("return");case 13:if(G){e.next=17;break}return Z(!0),ee.current.focus(),e.abrupt("return");case 17:if(!(d&&Number(C)<=Number(Le.salesInvoice))){e.next=21;break}return e.next=20,Ks(v,Te?"Invoice no must be more than ".concat(Le.salesInvoice):"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u064a\u062c\u0628 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0623\u0643\u0628\u0628 \u0645\u0646 ".concat(Le.salesInvoice));case 20:return e.abrupt("return");case 21:if(A&&0!==A.length){e.next=25;break}return e.next=24,Ks(v,Te?"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u064a\u062c\u0628 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0623\u0643\u0628\u0628 \u0645\u0646 ".concat(Le.salesInvoice):"Invoice no must be more than ".concat(Le.salesInvoice));case 24:return e.abrupt("return");case 25:o=M.amount,i=M.costAmount,c=M.profit,s=M.total,l={docNo:C?C.toString():void 0,time:y,customer:{customerId:G._id,customerName:G.name,customerNameAr:G.nameAr,customerPhone:G.phone},department:ae?{departmentId:ae._id,departmentName:ae.name,departmentNameAr:ae.nameAr,departmentColor:ae.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},employee:me?{employeeId:me._id,employeeName:me.name,employeeNameAr:me.nameAr,employeeColor:me.color,employeePhone:me.phone}:{employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0,employeePhone:void 0},items:JSON.stringify(A),costAmount:i,total:s,discount:W,amount:o,profit:c,isPaid:xe,isCash:xe,amountPaid:xe?o:0,accounts:D,paymentType:_,userId:$e._id,taskId:a.id},Be(Re,l);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({variables:n}),_e(),ze()}catch(a){We(a),console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),We=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(v,Te);case 3:e.next=9;break;case 5:return e.next=7,Hs(v,Te);case 7:Se(),console.log(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){T([]),z(0),H({}),K(null),S(""),R([]),P("cash"),x(new Date),re(null),je(null),n()},Ve=Object(Xe.useRef)(),Fe=Object(Uu.useReactToPrint)({content:function(){return Ve.current},documentTitle:"Invoice #".concat(C),removeAfterPrint:!0}),Me={invoiceNo:C,time:y,customerName:null===G||void 0===G?void 0:G.name,customerPhone:null===G||void 0===G?void 0:G.phone,total:M.total,amount:M.amount,items:A},He=Te?d?"\u0641\u0627\u062a\u0648\u0631\u0629 \u062c\u062f\u064a\u062f\u0629":"\u062a\u0639\u062f\u064a\u0644 \u0641\u0627\u062a\u0648\u0631\u0629":d?"New Invoice":"Edit Invoice";return Object(Fr.jsx)(pu,{isRTL:Te,open:t,onClose:ze,title:He,onSubmit:function(){Ce(qe)()},theme:u,alrt:O,print:Fe,maxWidth:"md",mt:0,mb:50,bgcolor:Sc.a.green[500],children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(yd,{isRTL:Te,label:Ae.time,value:y,onChange:function(e){x(e)}})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:8,children:Object(Fr.jsx)(Mu,{words:Ae,ptype:_,isCash:xe,setIsCash:ge,setPtype:P})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:7,children:Object(Fr.jsx)(fu,{name:"customer",title:Ae.customer,words:Ae,options:r,value:G,setSelectValue:K,setSelectError:Z,selectError:X,isRTL:Te,fullWidth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:3}),Object(Fr.jsx)(Gl.a,{item:!0,xs:2,children:Object(Fr.jsxs)(ua.a,{display:"flex",style:{flex:1,flexDirection:Te?"row-reverse":"row",alignItems:"center",justifyContent:"flex-end",marginLeft:Te?void 0:20,marginRight:Te?20:void 0},children:[d&&Object(Fr.jsx)(la.a,{style:{color:"#777"},children:Ae.no}),Object(Fr.jsx)(da.a,{name:"invNo",disabled:!d,value:C,onChange:function(e){return S(Number(e.target.value))},variant:"outlined",style:{width:d?70:100,marginLeft:20},margin:"dense",inputProps:{style:{textAlign:"center",fontSize:14,height:13}}})]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"employee",title:Ae.employee,words:Ae,options:i.filter((function(e){return 1===e.resType})),value:me,setSelectValue:je,setSelectError:ve,selectError:Oe,refernce:fe,noPlus:!0,isRTL:Te,fullWidth:!0,day:null})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"department",title:Ae.department,words:Ae,options:c.filter((function(e){return 1===e.depType})),value:ae,setSelectValue:re,setSelectError:se,selectError:ce,refernce:le,noPlus:!0,isRTL:Te,width:420})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,children:[Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#f4f4f4",padding:10,marginTop:15,marginBottom:15,borderRadius:10},children:[Object(Fr.jsx)(ua.a,{display:"flex",children:Object(Fr.jsx)(Iu,{options:o,addItem:function(e){var t=[].concat(Object(at.a)(A),[Object(bt.a)(Object(bt.a)({},e),{},{userId:$e._id})]),n=kb(t);T(n)},words:Ae,employees:i,departments:c,classes:j,user:$e,isRTL:Te})}),Object(Fr.jsx)(ua.a,{style:{marginBottom:20},children:Object(Fr.jsx)(zu,{rows:A,editItem:function(e){var t=A.map((function(t){return t._id===e._id?e:t})),n=kb(t);T(n)},removeItem:function(e){var t=Object(at.a)(A);t.splice(e,1);var n=kb(t);T(n)},isRTL:Te,words:Ae,user:$e})})]}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between"},children:[Object(Fr.jsx)(da.a,{name:"discount",label:Ae.discount,value:W.toString(),onChange:function(e){return z(Number(e.target.value))},variant:"outlined",style:{width:200},margin:"dense",type:"number",onFocus:function(e){return e.target.select()}}),Object(Fr.jsx)(Fu,{amount:null===M||void 0===M?void 0:M.amount,total:null===M||void 0===M?void 0:M.total,discount:W,words:Ae})]}),Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)("div",{style:{display:"none"},children:Object(Fr.jsx)(Zu,{company:s,printData:Me,ref:Ve})})})]})]})})},Rb=Object(Lt.a)(wb||(wb=Object(Et.a)(["\n  query getTaskItems($taskId: Int) {\n    getTaskItems(taskId: $taskId) {\n      ok\n      error\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        indx\n        itemId\n        itemType\n        itemBarcode\n        itemName\n        itemNameAr\n        itemDesc\n        itemDescPurchase\n        itemSize\n        itemWeight\n        itemColor\n        itemCost\n        itemUnit\n        itemPrice\n        itemPhoto\n        opId\n        opType\n        opDocNo\n        eventId\n        taskId\n        qty\n        doneQty\n        totalCost\n        total\n        amount\n        categoryId\n        categoryName\n        categoryNameAr\n        brandId\n        brandName\n        brandNameAr\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"])));function Eb(e){var t=e.children,n=e.value,a=e.index,r=Object(wc.a)(e,["children","value","index"]);return Object(Fr.jsx)("div",Object(bt.a)(Object(bt.a)({role:"tabpanel",hidden:n!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a)},r),{},{children:n===a&&Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(la.a,{children:t})})}))}var Lb=Object(Ot.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:224},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}})),_b=function(e){var t=e.open,n=e.onClose,a=e.item,r=e.tasks,o=e.isNew,i=e.employees,c=e.departments,s=e.customers,l=e.servicesproducts,d=e.theme,u=e.isEditor,m=e.company,j=Lb(),b=Object(Xe.useState)(!1),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=Object(Xe.useState)([]),h=Object(nt.a)(f,2),y=h[0],x=h[1],g=Object(Xe.useState)(null),w=Object(nt.a)(g,2),C=w[0],S=w[1],I=Object(Xe.useState)(a),N=Object(nt.a)(I,2),A=N[0],T=N[1],$=Ze.a.useState(0),k=Object(nt.a)($,2),D=k[0],R=k[1];Object(Xe.useEffect)((function(){if((null===a||void 0===a?void 0:a.id)&&r&&r.length>0){var e,t=null===(e=r.filter((function(e){return e.id===a.id})))||void 0===e?void 0:e[0];T(t)}}),[r]);var E=Object(Xe.useState)(!1),L=Object(nt.a)(E,2),_=L[0],P=L[1],q=Object(Xe.useState)([]),B=Object(nt.a)(q,2),W=B[0],z=B[1],V=(null===A||void 0===A?void 0:A.amount)?A.amount:0,F=(null===A||void 0===A?void 0:A.totalinvoiced)?A.totalinvoiced:0,M=(null===A||void 0===A?void 0:A.totalDiscount)?A.totalDiscount:0,H=(null===A||void 0===A?void 0:A.totalpaid)?A.totalpaid:0,U=(null===A||void 0===A?void 0:A.toatlExpenses)?A.toatlExpenses:0,Q=(null===A||void 0===A?void 0:A.progress)?A.progress:0,G=Object(Xe.useContext)(Rr).translate,K=G.words,Y=G.isRTL,J=Object(Fd.a)(Rb,{fetchPolicy:"cache-and-network"}),X=Object(nt.a)(J,2),Z=X[0],ee=X[1];Object(Xe.useEffect)((function(){if(t){var e,n,a=(null===ee||void 0===ee||null===(e=ee.data)||void 0===e||null===(n=e.getTaskItems)||void 0===n?void 0:n.data)||[];if(a&&a.length>0){var r=a.map((function(e){return e.itemId})),o=l.filter((function(e){return r.includes(e._id)})),i=a.map((function(e,t){var n=e.categoryId,a=e.categoryName,r=e.categoryNameAr,i=e.departmentId,c=e.departmentName,s=e.departmentNameAr,l=e.departmentColor,d=e.employeeId,u=e.employeeName,m=e.employeeNameAr,j=e.employeeColor,b=o.filter((function(t){return t._id===e.itemId}))[0];return Object(bt.a)(Object(bt.a)({},b),{},{categoryId:n,categoryName:a,categoryNameAr:r,departmentId:i,departmentName:c,departmentNameAr:s,departmentColor:l,employeeId:d,employeeName:u,employeeNameAr:m,employeeColor:j,index:t,itemprice:e.itemPrice,itemqty:e.qty,itemtotal:e.total})})),c=td()(i).groupBy("_id").map((function(e,t){return{_id:e[0]._id,name:e[0].name,nameAr:e[0].nameAr,categoryId:e[0].categoryId,categoryName:e[0].categoryName,categoryNameAr:e[0].categoryNameAr,departmentId:e[0].departmentId,departmentName:e[0].departmentName,departmentNameAr:e[0].departmentNameAr,departmentColor:e[0].departmentColor,employeeId:e[0].employeeId,employeeName:e[0].employeeName,employeeNameAr:e[0].employeeNameAr,employeeColor:e[0].employeeColor,autoNo:e[0].autoNo,docNo:e[0].docNo,cost:e[0].cost,itemType:e[0].itemType,index:e[0].index,itemprice:e[0].itemprice,itemqty:td.a.sumBy(e,"itemqty"),itemtotal:td.a.sumBy(e,"itemtotal")}})).orderBy("index").value();z(c)}}}),[ee,t]),Object(Xe.useEffect)((function(){te()}),[y]),Object(Xe.useEffect)((function(){if(A&&A._id){var e={taskId:A.id};Z({variables:e})}}),[A]);var te=function(){var e=td.a.sumBy(y,"amount");S(e)},ne=C||V,ae="".concat(K.task," : ").concat(null===A||void 0===A?void 0:A.title);return Object(Fr.jsx)(pu,{isRTL:Y,open:t,onClose:function(){x([]),R(0),n()},title:ae,onSubmit:function(){return null},theme:d,alrt:{},mt:10,maxWidth:o?"lg":"xl",fullWidth:!0,preventclose:!0,onlyclose:!0,bgcolor:Sc.a.deepPurple[500],mb:10,children:Object(Fr.jsxs)(Fr.Fragment,{children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:11,children:Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#eee"},children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{margin:10}}),A&&Object(Fr.jsxs)(ua.a,{style:{marginBottom:20},children:[Object(Fr.jsx)(Eb,{value:D,index:0,children:Object(Fr.jsx)(Wj,{employees:i,departments:c,customers:s,servicesproducts:l,isEditor:u,isRTL:Y,words:K,theme:d,isNew:o,name:"taskId",value:A,id:null===A||void 0===A?void 0:A.id})}),Object(Fr.jsx)(Eb,{value:D,index:1,children:Object(Fr.jsx)(rb,{isRTL:Y,words:K,isEditor:u,employees:i,departments:c,company:m,servicesproducts:l,name:"taskId",value:A,id:null===A||void 0===A?void 0:A.id})}),Object(Fr.jsx)(Eb,{value:D,index:2,children:Object(Fr.jsx)(ub,{isRTL:Y,words:K,isEditor:u,theme:d,name:"taskId",value:A,id:null===A||void 0===A?void 0:A.id})}),Object(Fr.jsx)(Eb,{value:D,index:3,children:Object(Fr.jsx)(jb,{isRTL:Y,words:K,isEditor:u,theme:d,name:"taskId",value:A,id:null===A||void 0===A?void 0:A.id})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between",marginLeft:20,marginRight:20},children:[Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:Y?"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a":"Total"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(ne)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:Y?"\u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0646\u062c\u0627\u0632":"Progress"}),Object(Fr.jsxs)(la.a,{style:{fontWeight:"bold",fontSize:14},children:[Q,"%"]})]}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{flexDirection:"row"},children:[Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:Y?"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631":"Total Invoiced"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(F)})]}),M>0&&Object(Fr.jsxs)(ua.a,{style:{marginLeft:20,marginRight:20},children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:Y?"\u0627\u0644\u062d\u0633\u0648\u0645\u0627\u062a":"Total Discounts"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(M)})]})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:Y?"\u0627\u0644\u0645\u0642\u0628\u0648\u0636\u0627\u062a":"Total Paid"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(H)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14,color:Sc.a.red[500]},children:Y?"\u0627\u0644\u0645\u062a\u0628\u0642\u064a":"Due Payment"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14,color:Sc.a.red[500]},children:Zc(F-H-M)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:Y?"\u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641":"Total Expenses"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(U)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14,color:Sc.a.blue[500]},children:Y?"\u0635\u0627\u0641\u064a \u0627\u0644\u0627\u064a\u0631\u0627\u062f":"Total Income"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14,color:Sc.a.blue[500]},children:Zc(F-U-M)})]})]})]})]})}),A&&Object(Fr.jsxs)(Gl.a,{item:!0,xs:1,children:[Object(Fr.jsx)(ua.a,{style:{marginTop:10,marginBottom:100},children:Object(Fr.jsx)(wj.a,{orientation:"vertical",variant:"scrollable",value:D,onChange:function(e,t){R(t)},"aria-label":"items",className:j.tabs,children:km.map((function(e){return Object(Fr.jsx)(Cj.a,Object(bt.a)({style:{backgroundColor:D===e.id?"#eee":void 0},label:Y?e.nameAr:e.name},(t=e.id,{id:"vertical-tab-".concat(t),"aria-controls":"vertical-tabpanel-".concat(t)})));var t}))})}),Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#eee",margin:7,padding:8,borderRadius:5,alignItems:"flex-start",justifyContent:"center"},children:[Object(Fr.jsx)(la.a,{variant:"subtitle1",style:{fontWeight:"bold",marginTop:10,marginBottom:10},children:A.title}),Object(Fr.jsx)(la.a,{variant:"subtitle2",style:{fontWeight:"bold",marginTop:10},children:K.customer}),Object(Fr.jsx)(la.a,{children:Y?A.customerNameAr:A.customerName}),Object(Fr.jsx)(la.a,{variant:"subtitle2",style:{fontWeight:"bold",marginTop:10},children:K.employee}),Object(Fr.jsx)(la.a,{children:Y?A.employeeNameAr:A.employeeName}),Object(Fr.jsx)(la.a,{variant:"subtitle2",style:{fontWeight:"bold",marginTop:10},children:K.department}),Object(Fr.jsx)(la.a,{children:Y?A.departmentNameAr:A.departmentName})]}),Object(Fr.jsx)(ua.a,{style:{padding:10,marginTop:20},children:Object(Fr.jsx)(oa.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:function(){return P(!0)},children:K.newInvoice})})]})]}),A&&Object(Fr.jsx)(pb,{open:O,onClose:function(){return v(!1)},row:null,isNew:!0,employees:i,departments:c,customers:s,servicesproducts:l,theme:d,setEvList:x}),A&&Object(Fr.jsx)(Db,{open:_,onClose:function(){return P(!1)},task:A,customers:s,services:l,employees:i,departments:c,company:m,theme:d,items:W})]})})},Pb=function(e){return e._id};function qb(e){var t=e.isRTL,n=e.words,a=e.isEditor,r=e.theme,o=e.company,i=e.servicesproducts,c=e.value,s=e.name,l=e.id,d=Object(Xe.useState)({show:!1,msg:"",type:void 0}),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Is({isRTL:t,words:n}),p=Object(Xe.useState)([b.title,b.start,b.end,b.customer,b.department,b.employee,b.evQty,b.progress,{name:"amount",title:t?"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a":"Total"},b.totalinvoiced,b.totalpaid,{id:40,ref:"due",name:"due",title:t?"\u0627\u0644\u0645\u062a\u0628\u0642\u064a":"Due Payment"},b.toatlExpenses,{id:38,ref:"income",name:"income",title:t?"\u0635\u0627\u0641\u064a \u0627\u0644\u0627\u064a\u0631\u0627\u062f":"Total Income"}]),O=Object(nt.a)(p,1)[0],v=Object(Xe.useState)([]),f=Object(nt.a)(v,2),h=f[0],y=f[1],x=Object(Xe.useState)(null),g=Object(nt.a)(x,2),w=g[0],C=g[1],S=Object(Xe.useState)(!1),I=Object(nt.a)(S,2),N=I[0],A=I[1],T=tu(),$=T.customers,k=T.addCustomer,D=T.editCustomer,R=Md().departments,E=Zd().employees,L=tm().tasks,_=Object(Fd.a)(em,{fetchPolicy:"cache-and-network"}),P=Object(nt.a)(_,2),q=P[0],B=P[1],W={refetchQueries:[{query:em,variables:Object(Qr.a)({},s,l)},{query:em},{query:qt},{query:Pt},{query:_t},{query:Xt}]};Object(Xe.useEffect)((function(){if(N){var e,t,n=(null===B||void 0===B||null===(e=B.data)||void 0===e||null===(t=e.getTasks)||void 0===t?void 0:t.data)||[];if(n&&n.length>0){var a,r=null===(a=n.filter((function(e){return e._id===w._id})))||void 0===a?void 0:a[0];C(r)}}}),[B]),Object(Xe.useEffect)((function(){var e=Object(Qr.a)({},s,l);q({variables:e})}),[l]);var z=Object(Xe.useState)([{columnName:b.title.name,togglingEnabled:!1}]),V=Object(nt.a)(z,1)[0],F=Object(ta.a)(Ib,W),M=Object(nt.a)(F,1)[0],H=Object(ta.a)(Nb,W),U=Object(nt.a)(H,1)[0],Q=Object(ta.a)(Ab,W),G=Object(nt.a)(Q,1)[0],K=function(){var e=Object(ea.a)(Zn.a.mark((function e(n){var a,r,o,i,c,s,l;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.deleted)){e.next=14;break}return i=a[0],e.next=5,G({variables:{_id:i}});case 5:if(!1!==(null===(c=e.sent)||void 0===c||null===(r=c.data)||void 0===r||null===(o=r.deleteTaskById)||void 0===o?void 0:o.ok)){e.next=14;break}if(!(null===c||void 0===c||null===(s=c.data)||void 0===s||null===(l=s.deleteTaskById)||void 0===l?void 0:l.error.includes("related"))){e.next=12;break}return e.next=10,Gs(j,t);case 10:e.next=14;break;case 12:return e.next=14,Hs(j,t);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(Xe.useEffect)((function(){var e,t;if(null===B||void 0===B||null===(e=B.data)||void 0===e||null===(t=e.getTasks)||void 0===t?void 0:t.data){var n=B.data.getTasks.data;y(n)}}),[B]);var Y=function(){null===B||void 0===B||B.refetch()};return Object(Fr.jsxs)(Ql.a,{style:{maxHeight:600,overflow:"auto",margin:10,minHeight:600},children:[Object(Fr.jsxs)(Od.c,{rows:h,columns:O,getRowId:Pb,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:K}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:600,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40,tableComponent:$b}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{columnExtensions:V,defaultHiddenColumnNames:[b.department.name,b.evQty.name,b.toatlExpenses.name,b.start.name,b.end.name]}),Object(Fr.jsx)(Au.b,{for:["title"],formatterComponent:function(e){return ds(Object(bt.a)(Object(bt.a)({},e),{},{setItem:C,setOpenItem:A}))}}),Object(Fr.jsx)(Au.b,{for:["start","end"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["due"],formatterComponent:os}),Object(Fr.jsx)(Au.b,{for:["amount","toatlExpenses","totalpaid"],formatterComponent:rs}),Object(Fr.jsx)(Au.b,{for:["totalinvoiced"],formatterComponent:ss}),Object(Fr.jsx)(Au.b,{for:["income"],formatterComponent:is}),Object(Fr.jsx)(Au.b,{for:["tasktype"],formatterComponent:us}),Object(Fr.jsx)(Au.b,{for:["progress"],formatterComponent:ms}),a&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Vl,{addAction:M,editAction:U,children:Object(Fr.jsx)(Sb,{value:c,name:s,employees:E,departments:R,customers:$,addCustomer:k,editCustomer:D,company:o,servicesproducts:i,theme:r,isEditor:a,refresh:Y})})]}),m.show&&Object(Fr.jsx)(fd,{isRTL:t,type:null===m||void 0===m?void 0:m.type,msg:null===m||void 0===m?void 0:m.msg,top:!0}),w&&Object(Fr.jsx)(_b,{open:N,onClose:function(){A(!1),C(null)},item:w,tasks:L,isNew:!1,theme:r,employees:E,departments:R,customers:$,addCustomer:k,editCustomer:D,company:o,servicesproducts:i,isEditor:a,refresh:Y,addAction:M,editAction:U})]})}function Bb(e){var t=e.children,n=e.value,a=e.index,r=Object(wc.a)(e,["children","value","index"]);return Object(Fr.jsx)("div",Object(bt.a)(Object(bt.a)({role:"tabpanel",hidden:n!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a)},r),{},{children:n===a&&Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(la.a,{children:t})})}))}var Wb=Object(Ot.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,display:"flex",height:300},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}})),zb=function(e){var t=e.open,n=e.onClose,a=e.row,r=e.isNew,o=e.theme,i=e.isEditor,c=e.departments,s=e.company,l=e.employees,d=e.servicesproducts,u=e.customers,m=Wb(),j=Ze.a.useState(0),b=Object(nt.a)(j,2),p=b[0],O=b[1],v=(null===a||void 0===a?void 0:a.amount)?a.amount:0,f=(null===a||void 0===a?void 0:a.totalinvoiced)?a.totalinvoiced:0,h=(null===a||void 0===a?void 0:a.totalDiscount)?a.totalDiscount:0,y=(null===a||void 0===a?void 0:a.totalpaid)?a.totalpaid:0,x=(null===a||void 0===a?void 0:a.toatlExpenses)?a.toatlExpenses:0,g=(null===a||void 0===a?void 0:a.progress)?a.progress:0,w=Object(Xe.useContext)(Rr).translate,C=w.words,S=w.isRTL,I="".concat(C.customer," : ").concat(S?null===a||void 0===a?void 0:a.nameAr:null===a||void 0===a?void 0:a.name);return Object(Fr.jsx)(pu,{isRTL:S,open:t,onClose:n,title:I,onSubmit:function(){return null},onlyclose:!0,theme:o,alrt:{},maxWidth:"xl",mb:10,mt:10,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:11,children:Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#eee"},children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{margin:10}}),a&&Object(Fr.jsxs)(ua.a,{style:{marginBottom:20},children:[Object(Fr.jsx)(Bb,{value:p,index:0,children:Object(Fr.jsx)(qb,{servicesproducts:d,isEditor:i,isRTL:S,words:C,theme:o,company:s,name:"customerId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(Bb,{value:p,index:1,children:Object(Fr.jsx)(Wj,{employees:l,departments:c,customers:u,servicesproducts:d,isEditor:i,isRTL:S,words:C,theme:o,isNew:r,name:"customerId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(Bb,{value:p,index:2,children:Object(Fr.jsx)(rb,{isRTL:S,words:C,isEditor:i,employees:l,departments:c,company:s,servicesproducts:d,name:"customerId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(Bb,{value:p,index:3,children:Object(Fr.jsx)(ub,{isRTL:S,words:C,isEditor:i,theme:o,name:"customerId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(Bb,{value:p,index:4,children:Object(Fr.jsx)(jb,{isRTL:S,words:C,isEditor:i,theme:o,name:"customerId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between",marginLeft:20,marginRight:20},children:[Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a":"Total"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(v)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0646\u062c\u0627\u0632":"Progress"}),Object(Fr.jsxs)(la.a,{style:{fontWeight:"bold",fontSize:14},children:[g,"%"]})]}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{flexDirection:"row"},children:[Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631":"Total Invoiced"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(f)})]}),h>0&&Object(Fr.jsxs)(ua.a,{style:{marginLeft:20,marginRight:20},children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u062d\u0633\u0648\u0645\u0627\u062a":"Total Discounts"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(h)})]})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0645\u0642\u0628\u0648\u0636\u0627\u062a":"Total Paid"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(y)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14,color:Sc.a.red[500]},children:S?"\u0627\u0644\u0645\u062a\u0628\u0642\u064a":"Due Payment"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14,color:Sc.a.red[500]},children:Zc(f-y-h)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641":"Total Expenses"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(x)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14,color:Sc.a.blue[500]},children:S?"\u0635\u0627\u0641\u064a \u0627\u0644\u0627\u064a\u0631\u0627\u062f":"Total Income"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14,color:Sc.a.blue[500]},children:Zc(f-x-h)})]})]})]})]})}),a&&Object(Fr.jsxs)(Gl.a,{item:!0,xs:1,children:[Object(Fr.jsx)(ua.a,{style:{marginTop:10,marginBottom:100},children:Object(Fr.jsx)(wj.a,{orientation:"vertical",variant:"scrollable",value:p,onChange:function(e,t){O(t)},"aria-label":"items",className:m.tabs,children:$m.map((function(e){return Object(Fr.jsx)(Cj.a,Object(bt.a)({style:{backgroundColor:p===e.id?"#eee":void 0},label:S?e.nameAr:e.name},(t=e.id,{id:"vertical-tab-".concat(t),"aria-controls":"vertical-tabpanel-".concat(t)})));var t}))})}),Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#eee",margin:7,padding:8,borderRadius:5,alignItems:"flex-start",justifyContent:"center",paddingBottom:15},children:[Object(Fr.jsx)(la.a,{variant:"subtitle1",style:{fontWeight:"bold",marginTop:10,marginBottom:10},children:S?a.nameAr:a.name}),Object(Fr.jsx)(la.a,{variant:"subtitle2",style:{fontWeight:"bold",marginTop:10},children:C.phoneNumber}),Object(Fr.jsx)(la.a,{children:a.phone}),a.email&&Object(Fr.jsxs)(Fr.Fragment,{children:[Object(Fr.jsx)(la.a,{variant:"subtitle2",style:{fontWeight:"bold",marginTop:10},children:C.email}),Object(Fr.jsx)(la.a,{children:a.email})]})]})]})]})})};function Vb(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.isEditor,o=e.theme,i=e.company,c=e.servicesproducts,s=Object(Xe.useState)({show:!1,msg:"",type:void 0}),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)([]),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)(null),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)(!1),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=tm().tasks,S=Md().departments,I=Zd().employees,N=Is({isRTL:t,words:n}),A=Object(Xe.useState)([{name:t?"nameAr":"name",title:n.name},{name:"phone",title:n.phoneNumber},{name:"email",title:n.email},{name:"address",title:n.address},{name:"amount",title:t?"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a":"Total"},N.progress,N.totalinvoiced,N.totalpaid,{id:40,ref:"due",name:"due",title:t?"\u0627\u0644\u0645\u062a\u0628\u0642\u064a":"Due Payment"},N.toatlExpenses,{id:38,ref:"income",name:"income",title:t?"\u0635\u0627\u0641\u064a \u0627\u0644\u0627\u064a\u0631\u0627\u062f":"Total Income"}]),T=Object(nt.a)(A,1)[0],$=Object(Fd.a)(qt,{fetchPolicy:"cache-and-network"}),k=Object(nt.a)($,2),D=k[0],R=k[1],E={refetchQueries:[{query:qt,variables:{isRTL:t}}]};Object(Xe.useEffect)((function(){if(g){var e,t,n=(null===R||void 0===R||null===(e=R.data)||void 0===e||null===(t=e.getCustomers)||void 0===t?void 0:t.data)||[];if(n&&n.length>0){var a,r=null===(a=n.filter((function(e){return e._id===f._id})))||void 0===a?void 0:a[0];h(r)}}}),[R]),Object(Xe.useEffect)((function(){D({isRTL:t})}),[]);var L=Object(ta.a)(ln,E),_=Object(nt.a)(L,1)[0],P=Object(ta.a)(un,E),q=Object(nt.a)(P,1)[0],B=Object(ta.a)(dn,E),W=Object(nt.a)(B,1)[0],z=function(){var e=Object(ea.a)(Zn.a.mark((function e(n){var a,r,o,i,c,s,l;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.deleted)){e.next=14;break}return i=a[0],e.next=5,W({variables:{_id:i}});case 5:if(!1!==(null===(c=e.sent)||void 0===c||null===(r=c.data)||void 0===r||null===(o=r.deleteCustomer)||void 0===o?void 0:o.ok)){e.next=14;break}if(!(null===c||void 0===c||null===(s=c.data)||void 0===s||null===(l=s.deleteCustomer)||void 0===l?void 0:l.error.includes("related"))){e.next=12;break}return e.next=10,Gs(u,t);case 10:e.next=14;break;case 12:return e.next=14,Hs(u,t);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(Xe.useEffect)((function(){var e,t;if(null===R||void 0===R||null===(e=R.data)||void 0===e||null===(t=e.getCustomers)||void 0===t?void 0:t.data){var n=R.data.getCustomers.data;p(n)}}),[R]);return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:r,theme:o,refresh:function(){null===R||void 0===R||R.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsxs)(Od.c,{rows:b,columns:T,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:z}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{defaultHiddenColumnNames:["email","address"]}),Object(Fr.jsx)(Au.b,{for:["nameAr","name"],formatterComponent:function(e){return ds(Object(bt.a)(Object(bt.a)({},e),{},{setItem:h,setOpenItem:w}))}}),Object(Fr.jsx)(Au.b,{for:["amount","toatlExpenses","totalpaid","totalinvoiced"],formatterComponent:rs}),Object(Fr.jsx)(Au.b,{for:["due"],formatterComponent:os}),Object(Fr.jsx)(Au.b,{for:["income"],formatterComponent:is}),Object(Fr.jsx)(Au.b,{for:["progress"],formatterComponent:ms}),r&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:o,addAction:_,editAction:q,children:Object(Fr.jsx)(yu,{})})]}),d.show&&Object(Fr.jsx)(fd,{isRTL:t,type:null===d||void 0===d?void 0:d.type,msg:null===d||void 0===d?void 0:d.msg,top:!0}),Object(Fr.jsx)(zb,{open:g,onClose:function(){w(!1),h(null)},row:f,isNew:!1,addAction:_,editAction:q,theme:o,isEditor:r,departments:S,company:i,employees:I,servicesproducts:c,customers:b,tasks:C})]})})}function Fb(e){var t=e.isRTL,n=e.words,a=e.theme,r=e.isEditor,o=Object(Xe.useState)(!1),i=Object(nt.a)(o,2),c=i[0],s=i[1],l=Object(Xe.useState)({show:!1,msg:"",type:void 0}),d=Object(nt.a)(l,2),u=d[0],m=d[1],j=Object(Xe.useState)([{name:t?"nameAr":"name",title:n.name},{name:t?"departmentNameAr":"departmentName",title:n.department},{name:t?"employeeNameAr":"employeeName",title:"".concat(n.employee," / ").concat(n.resourses)},{name:"desc",title:n.description},{name:"price",title:n.price}]),b=Object(nt.a)(j,1)[0],p=eu(),O=p.services,v=p.addService,f=p.editService,h=p.removeService,y=function(){var e=Object(ea.a)(Zn.a.mark((function e(n){var a,r,o,i,c,l,d;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.deleted)){e.next=16;break}return i=a[0],s(!0),e.next=6,h({variables:{_id:i}});case 6:if(!1!==(null===(c=e.sent)||void 0===c||null===(r=c.data)||void 0===r||null===(o=r.deleteItem)||void 0===o?void 0:o.ok)){e.next=15;break}if(!(null===c||void 0===c||null===(l=c.data)||void 0===l||null===(d=l.deleteItem)||void 0===d?void 0:d.error.includes("related"))){e.next=13;break}return e.next=11,Gs(m,t);case 11:e.next=15;break;case 13:return e.next=15,Hs(m,t);case 15:s(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsxs)(Ql.a,{children:[c&&Object(Fr.jsx)(Ll,{isRTL:t}),Object(Fr.jsxs)(Od.c,{rows:O,columns:b,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:y}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["price"],formatterComponent:as}),r&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:a,addAction:v,editAction:f,children:Object(Fr.jsx)(gu,{})})]}),u.show&&Object(Fr.jsx)(fd,{isRTL:t,type:null===u||void 0===u?void 0:u.type,msg:null===u||void 0===u?void 0:u.msg,top:!0})]})}function Mb(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.isEditor,o=e.theme,i=e.company,c=e.servicesproducts,s=Is({isRTL:t,words:n}),l=Object(Xe.useState)([{name:"time",title:n.time},{name:"docNo",title:n.no},s.eventNo,s.taskId,{name:t?"customerNameAr":"customerName",title:n.customer},{name:"customerPhone",title:n.phoneNumber},{name:"total",title:n.total},{name:"discount",title:n.discount},{name:"amount",title:n.amount}]),d=Object(nt.a)(l,1)[0],u=Object(Xe.useState)([]),m=Object(nt.a)(u,2),j=m[0],b=m[1],p=Object(Xe.useState)(!1),O=Object(nt.a)(p,2),v=O[0],f=O[1],h=Object(Xe.useState)(null),y=Object(nt.a)(h,2),x=y[0],g=y[1],w=Object(Xe.useState)(null),C=Object(nt.a)(w,2),S=C[0],I=C[1],N=tm().tasks,A=Md().departments,T=Zd().employees,$=Object(Xe.useContext)(Er),k=$.state,D=k.currentDate,R=k.currentViewName,E=k.endDate,L=k.sort,_=$.dispatch,P=Object(Fd.a)(Vt,{fetchPolicy:"cache-and-network"}),q=Object(nt.a)(P,2),B=q[0],W=q[1],z={refetchQueries:[{query:Vt,variables:{start:x?x.setHours(0,0,0,0):void 0,end:S?S.setHours(23,59,59,999):void 0}},{query:Xt},{query:Ft},{query:em},{query:qt},{query:Pt},{query:_t}]};Object(Xe.useEffect)((function(){var e={start:x?x.setHours(0,0,0,0):void 0,end:S?S.setHours(23,59,59,999):void 0};B({variables:e})}),[x,S]);var V=Object(ta.a)(fn,z),F=Object(nt.a)(V,1)[0],M=Object(ta.a)(yn,z),H=Object(nt.a)(M,1)[0],U=Object(ta.a)(hn,z),Q=Object(nt.a)(U,1)[0],G=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.deleted)&&(a=n[0],Q({variables:{_id:a}}),b(j.filter((function(e){return e._id!==a}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(Xe.useEffect)((function(){var e,t;if((null===W||void 0===W?void 0:W.loading)&&f(!0),null===W||void 0===W||null===(e=W.data)||void 0===e||null===(t=e.getInvoices)||void 0===t?void 0:t.data){var n=W.data.getInvoices.data;b(n),f(!1)}}),[W]);return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:r,theme:o,refresh:function(){null===W||void 0===W||W.refetch()},bgcolor:Sc.a.green[500],children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsx)(Zj,{setStart:g,setEnd:I,currentDate:D,currentDateChange:function(e){_({type:"setCurrentDate",payload:e})},currentViewName:R,currentViewNameChange:function(e){_({type:"setCurrentViewName",payload:e.target.value})},endDate:E,endDateChange:function(e){_({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:o}),Object(Fr.jsxs)(Od.c,{rows:j,columns:d,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:L,onSortingChange:function(e){_({type:"setSort",payload:e})}}),Object(Fr.jsx)(Au.d,{onCommitChanges:G}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-181,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40,tableComponent:tb}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["time"],formatterComponent:Hc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:ns}),Object(Fr.jsx)(Au.b,{for:["total","discount"],formatterComponent:as}),Object(Fr.jsx)(Au.b,{for:["taskId"],formatterComponent:function(e){return ls(Object(bt.a)(Object(bt.a)({},e),{},{tasks:N}))}}),r&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{addAction:F,editAction:H,children:Object(Fr.jsx)(rm,{employees:T,departments:A,company:i,servicesproducts:c,tasks:N})})]}),v&&Object(Fr.jsx)(Ll,{isRTL:t})]})})}var Hb=function(e){return e._id};function Ub(e){var t=e.isRTL,n=e.accounts,a=Object(Xe.useState)(!1),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(Xe.useState)({show:!1,msg:"",type:void 0}),s=Object(nt.a)(c,2),l=s[0],d=s[1],u=Object(Xe.useState)([{name:t?"nameAr":"name",title:t?"\u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628":"Name"},{name:"code",title:t?"\u0631\u0642\u0645 \u0627\u0644\u062d\u0633\u0627\u0628":"Code"},{name:t?"parentAr":"parent",title:t?"\u0627\u0644\u062d\u0633\u0627\u0628 \u0627\u0644\u0631\u0626\u064a\u0633\u064a":"Main Account"},{name:"parentcode",title:t?"\u0627\u0644\u062d\u0633\u0627\u0628 \u0627\u0644\u0631\u0626\u064a\u0633\u064a":"Main Account"}]),m=Object(nt.a)(u,1)[0],j=cb(),b=j.addAccount,p=j.editAccount,O=j.removeAccount,v=au().branches,f=function(){var e=Object(ea.a)(Zn.a.mark((function e(a){var r,o,c,s,l,u,m,j,b;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=a.deleted)){e.next=22;break}if(c=r[0],i(!0),!(s=null===(o=n.filter((function(e){return e._id===c})))||void 0===o?void 0:o[0])||!(null===s||void 0===s?void 0:s.canedit)){e.next=19;break}return e.next=8,O({variables:{_id:c}});case 8:if(!1!==(null===(m=e.sent)||void 0===m||null===(l=m.data)||void 0===l||null===(u=l.deleteAccount)||void 0===u?void 0:u.ok)){e.next=17;break}if(!(null===m||void 0===m||null===(j=m.data)||void 0===j||null===(b=j.deleteAccount)||void 0===b?void 0:b.error.includes("related"))){e.next=15;break}return e.next=13,Gs(d,t);case 13:e.next=17;break;case 15:return e.next=17,Hs(d,t);case 17:e.next=21;break;case 19:return e.next=21,Qs(d,t);case 21:i(!1);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsxs)(Ql.a,{children:[o&&Object(Fr.jsx)(Ll,{isRTL:t}),Object(Fr.jsxs)(Od.c,{rows:n,columns:m,getRowId:Hb,children:[Object(Fr.jsx)(Au.s,{defaultSorting:[{columnName:"branch",direction:"asc"},{columnName:"code",direction:"asc"}]}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:f}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["branch"],formatterComponent:function(e){var n=e.value,a=v.filter((function(e){return e.basename===n}))[0],r=t?"nameAr":"name";return Object(Fr.jsx)("div",{children:a?a[r]:""})}}),Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{addAction:b,editAction:p,children:Object(Fr.jsx)(dm,{accounts:n})})]}),l.show&&Object(Fr.jsx)(fd,{isRTL:t,type:null===l||void 0===l?void 0:l.type,msg:null===l||void 0===l?void 0:l.msg,top:!0})]})}var Qb=function(e){var t=e.ptype,n=e.setPtype,a=e.setCustvalue,r=e.words;return Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:t,onChange:function(e){n(e.target.value),a(null)},children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{flexDirection:"row"},children:Object(Fr.jsx)(ql.a,{value:"deposit",control:Object(Fr.jsx)(su.a,{color:"primary"}),label:r.depositbank})}),Object(Fr.jsx)(ua.a,{display:"flex",style:{flexDirection:"row"},children:Object(Fr.jsx)(ql.a,{value:"partnerdraw",control:Object(Fr.jsx)(su.a,{color:"primary"}),label:r.drawpartner})}),Object(Fr.jsx)(ua.a,{display:"flex",style:{flexDirection:"row"},children:Object(Fr.jsx)(ql.a,{value:"partneradd",control:Object(Fr.jsx)(su.a,{color:"primary"}),label:r.addpartner})})]})},Gb=function(e){var t=e.open,n=e.onClose,a=e.row,o=e.isNew,i=e.addAction,c=e.editAction,s=e.theme,l=Object(Xe.useState)({show:!1,msg:"",type:void 0}),d=Object(nt.a)(l,2),u=d[0],m=d[1],j=Ze.a.useState(new Date),b=Object(nt.a)(j,2),p=b[0],O=b[1],v=Ze.a.useState("deposit"),f=Object(nt.a)(v,2),h=f[0],y=f[1],x=Ze.a.useState([]),g=Object(nt.a)(x,2),w=g[0],C=g[1],S=Ze.a.useState([]),I=Object(nt.a)(S,2),N=I[0],A=I[1],T=Ze.a.useState(null),$=Object(nt.a)(T,2),k=$[0],D=$[1],R=Ze.a.useState(null),E=Object(nt.a)(R,2),L=E[0],_=E[1],P=Object(Xe.useState)(null),q=Object(nt.a)(P,2),B=q[0],W=q[1],z=Object(na.c)(r.depositResolver),V=z.register,F=z.handleSubmit,M=z.errors,H=z.reset,U=Object(Xe.useContext)(Rr),Q=U.translate,G=Q.words,K=Q.isRTL,Y=U.store.user,J=cb().accounts,X=tu().customers;Object(Xe.useEffect)((function(){if(a&&a._id){var e=a.creditAcc,t=a.debitAcc,n=a.opType;if(70===n){y("deposit");var r=J.filter((function(e){return e.parentcode===ki&&"branch1"===e.branch}));C(r),A(r)}if(71===n){y("partnerdraw");var o=J.filter((function(e){return e.parentcode===Ri&&"branch1"===e.branch}));C(o);var i=J.filter((function(e){return e.parentcode===ki&&"branch1"===e.branch}));A(i)}if(72===n){y("partneradd");var c=J.filter((function(e){return e.parentcode===Ri&&"branch1"===e.branch}));A(c);var s=J.filter((function(e){return e.parentcode===ki&&"branch1"===e.branch}));C(s)}if(14===n){y("customerpay");var l=J.filter((function(e){return e.parentcode===Di&&"branch1"===e.branch}));A(l);var d=J.filter((function(e){return e.parentcode===ki&&"branch1"===e.branch}));C(d)}if(e){var u=J.filter((function(t){return t.code===e&&"branch1"===t.branch}))[0];_(u)}if(t){var m=J.filter((function(e){return e.code===t&&"branch1"===e.branch}))[0];D(m)}var j=null===a||void 0===a?void 0:a.customerId;if(j){var b=X.filter((function(e){return e._id===j}))[0];W(b)}}else{if("deposit"===h){var p=J.filter((function(e){return e.parentcode===ki&&"branch1"===e.branch}));C(p),A(p),_(null===p||void 0===p?void 0:p[0]),D(null===p||void 0===p?void 0:p[2])}if("partnerdraw"===h){var O=J.filter((function(e){return e.parentcode===Ri&&"branch1"===e.branch}));C(O);var v=J.filter((function(e){return e.parentcode===ki&&"branch1"===e.branch}));A(v),_(null===v||void 0===v?void 0:v[0]),D(null===O||void 0===O?void 0:O[0])}if("partneradd"===h){var f=J.filter((function(e){return e.parentcode===Ri&&"branch1"===e.branch}));A(f);var x=J.filter((function(e){return e.parentcode===ki&&"branch1"===e.branch}));C(x),D(null===x||void 0===x?void 0:x[0]),_(null===f||void 0===f?void 0:f[0])}}}),[a,h,t]);var Z=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,r,s,l,d,u,j;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=hs(),r=n.startPeriod,s=n.endPeriod,!(p<r||p>s)){e.next=5;break}return e.next=4,Ks(m,K?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change");case 4:return e.abrupt("return");case 5:if(l=t.amount,d=t.desc,k&&L){e.next=10;break}return e.next=9,Ks(m,K?"\u064a\u062c\u0628 \u062a\u062d\u062f\u064a\u062f \u0643\u0644\u0627 \u0627\u0644\u062d\u0633\u0627\u0628\u064a\u0646":"You have to select both accounts");case 9:return e.abrupt("return");case 10:if(k!==L){e.next=14;break}return e.next=13,Ks(m,K?"\u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a \u064a\u062c\u0628 \u0627\u0646 \u062a\u0643\u0648\u0646 \u0645\u062e\u062a\u0644\u0641\u0629":"The accounts must be deferent");case 13:return e.abrupt("return");case 14:u={customerId:null===B||void 0===B?void 0:B._id,customerName:null===B||void 0===B?void 0:B.name,customerNameAr:null===B||void 0===B?void 0:B.nameAr,customerPhone:null===B||void 0===B?void 0:B.phone},j={_id:a&&a._id?a._id:void 0,opType:"deposit"===h?tr.deposet:"partneradd"===h?tr.ownerDeposit:"partnerdraw"===h?tr.ownerDraw:void 0,time:p,debitAcc:k.code,creditAcc:L.code,customer:B?u:void 0,amount:l,desc:d,branch:Y.branch,userId:Y._id},ee(o?i:c,j);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({variables:n}),Fs(m,K),ae()}catch(a){te(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),te=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(m,K);case 3:e.next=9;break;case 5:return e.next=7,Hs(m,K);case 7:ne(),console.log(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){H(),y("deposit"),_(null),D(null),C([]),A([])},ae=function(){ne(),n()};return Object(Fr.jsx)(pu,{isRTL:K,open:t,onClose:ae,title:G.depdraw,onSubmit:function(){F(Z)()},theme:s,alrt:u,mt:10,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsx)(Gl.a,{item:!0,xs:10,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,children:[Object(Fr.jsx)(yd,{isRTL:K,label:G.time,value:p,onChange:function(e){O(e)}}),Object(Fr.jsx)(ua.a,{style:{marginBottom:20}})]}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,children:[Object(Fr.jsx)(Qb,{ptype:h,setPtype:y,setCustvalue:W,words:G}),Object(Fr.jsx)(ua.a,{style:{marginBottom:20}})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"creditAcc",title:G.from,words:G,options:N,value:L,setSelectValue:_,register:V,isRTL:K,fullwidth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"debitAcc",title:G.to,words:G,options:w,value:k,setSelectValue:D,register:V,isRTL:K,fullwidth:!0})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,children:[Object(Fr.jsx)(ua.a,{style:{marginBottom:10}}),Object(Fr.jsx)(xd,{required:!0,name:"amount",label:G.amount,register:V,errors:M,row:a,type:"number",fullWidth:!0}),Object(Fr.jsx)(xd,{name:"desc",multiline:!0,rows:4,label:G.description,register:V,errors:M,row:a,fullWidth:!0})]})]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:1})]})})};function Kb(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.isEditor,o=e.theme,i=Object(Xe.useState)([{name:"time",title:n.time},{name:"debitAcc",title:n.to},{name:"creditAcc",title:n.from},{name:"opType",title:n.type},{name:"desc",title:n.description},{name:"docNo",title:n.no},{name:"amount",title:n.amount}]),c=Object(nt.a)(i,1)[0],s=Object(Xe.useState)([]),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)(!1),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)(null),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)(null),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Object(Xe.useContext)(fr),S=C.state,I=S.currentDate,N=S.currentViewName,A=S.endDate,T=S.sort,$=C.dispatch,k=Object(Fd.a)(Ut,{fetchPolicy:"cache-and-network"}),D=Object(nt.a)(k,2),R=D[0],E=D[1],L=cb().accounts,_={refetchQueries:[{query:Ut,variables:{start:f?f.setHours(0,0,0,0):void 0,end:g?g.setHours(23,59,59,999):void 0}},{query:Xt},{query:Ft},{query:em},{query:qt},{query:Pt},{query:_t}]};Object(Xe.useEffect)((function(){var e={start:f?f.setHours(0,0,0,0):void 0,end:g?g.setHours(23,59,59,999):void 0};R({variables:e})}),[f,g]);var P=Object(ta.a)(xn,_),q=Object(nt.a)(P,1)[0],B=Object(ta.a)(wn,_),W=Object(nt.a)(B,1)[0],z=Object(ta.a)(gn,_),V=Object(nt.a)(z,1)[0],F=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.deleted)&&(a=n[0],V({variables:{_id:a}}),u(d.filter((function(e){return e._id!==a}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(Xe.useEffect)((function(){var e,t;if((null===E||void 0===E?void 0:E.loading)&&p(!0),null===E||void 0===E||null===(e=E.data)||void 0===e||null===(t=e.getFinances)||void 0===t?void 0:t.data){var n=E.data.getFinances.data;u(n),p(!1)}}),[E]);return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:r,theme:o,refresh:function(){null===E||void 0===E||E.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsx)(Zj,{setStart:h,setEnd:w,currentDate:I,currentDateChange:function(e){$({type:"setCurrentDate",payload:e})},currentViewName:N,currentViewNameChange:function(e){$({type:"setCurrentViewName",payload:e.target.value})},endDate:A,endDateChange:function(e){$({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:o}),Object(Fr.jsxs)(Od.c,{rows:d,columns:c,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:T,onSortingChange:function(e){$({type:"setSort",payload:e})}}),Object(Fr.jsx)(Au.d,{onCommitChanges:F}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-181,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["time"],formatterComponent:Hc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as}),Object(Fr.jsx)(Au.b,{for:["opType"],formatterComponent:js}),Object(Fr.jsx)(Au.b,{for:["docNo","refNo"],formatterComponent:Kc}),Object(Fr.jsx)(Au.b,{for:["creditAcc"],formatterComponent:function(e){return vs(e,L,t)}}),Object(Fr.jsx)(Au.b,{for:["debitAcc"],formatterComponent:function(e){return Os(e,L,t)}}),r&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:o,addAction:q,editAction:W,children:Object(Fr.jsx)(Gb,{})})]}),b&&Object(Fr.jsx)(Ll,{isRTL:t})]})})}var Yb=function(e){return e.map((function(e,t){return Object(bt.a)(Object(bt.a)({},e),{},{index:t})}))},Jb=function(e){var t=e.open,n=e.onClose,a=e.row,r=e.isNew,o=e.addAction,i=e.editAction,c=e.employees,s=e.departments,l=e.servicesproducts,d=e.tasks,u=e.theme,m=e.company,j=e.isEditor,b=gt(),p=Object(Xe.useState)(!1),O=Object(nt.a)(p,2),v=O[0],f=O[1],h=Object(Xe.useState)(null),y=Object(nt.a)(h,2),x=y[0],g=y[1],w=Object(Xe.useState)(null),C=Object(nt.a)(w,2),S=C[0],I=C[1],N=Object(Xe.useState)(null),A=Object(nt.a)(N,2),T=A[0],$=A[1],k=Object(Xe.useState)(!1),D=Object(nt.a)(k,2),R=D[0],E=D[1],L=Ze.a.useRef(),_=Object(Xe.useState)(null),P=Object(nt.a)(_,2),q=P[0],B=P[1],W=Object(Xe.useState)(!1),z=Object(nt.a)(W,2),V=z[0],F=z[1],M=Ze.a.useRef(),H=Object(Xe.useState)(null),U=Object(nt.a)(H,2),Q=U[0],G=U[1],K=Object(Xe.useState)(!1),Y=Object(nt.a)(K,2),J=Y[0],X=Y[1],Z=Object(Xe.useState)(""),ee=Object(nt.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(Xe.useState)(null),re=Object(nt.a)(ae,2),oe=re[0],ie=re[1],ce=Object(Xe.useState)({}),se=Object(nt.a)(ce,2),le=se[0],de=se[1],ue=Object(Xe.useState)([]),me=Object(nt.a)(ue,2),je=me[0],be=me[1],pe=Object(Xe.useState)(null),Oe=Object(nt.a)(pe,2),ve=Oe[0],fe=Oe[1],he=Object(Xe.useState)(!1),ye=Object(nt.a)(he,2),xe=ye[0],ge=ye[1],we=Object(Xe.useState)(null),Ce=Object(nt.a)(we,2),Se=Ce[0],Ie=Ce[1],Ne=Object(Xe.useState)([]),Ae=Object(nt.a)(Ne,2),Te=Ae[0],$e=Ae[1],ke=Object(Xe.useState)({show:!1,msg:"",type:void 0}),De=Object(nt.a)(ke,2),Re=De[0],Ee=De[1],Le=Object(Xe.useState)(!1),_e=Object(nt.a)(Le,2),Pe=_e[0],qe=_e[1],Be=Object(Xe.useState)([]),We=Object(nt.a)(Be,2),ze=We[0],Ve=We[1],Fe=Object(Xe.useState)(null),Me=Object(nt.a)(Fe,2),He=Me[0],Ue=Me[1],Qe=Object(Xe.useState)(null),Ge=Object(nt.a)(Qe,2),Ke=Ge[0],Ye=Ge[1],Je=tu(),et=Je.customers,tt=Je.addCustomer,rt=Je.editCustomer,ot=Object(na.c)({}),it=ot.register,ct=ot.handleSubmit,st=Object(Xe.useContext)(Rr),lt=st.translate,dt=lt.words,ut=lt.isRTL,mt=st.store.user,jt=Object(Fd.a)(Yt,{fetchPolicy:"cache-and-network"}),pt=Object(nt.a)(jt,2),Ot=pt[0],vt=pt[1],ft=Object(Fd.a)(tn,{fetchPolicy:"cache-and-network"}),ht=Object(nt.a)(ft,2),yt=ht[0],xt=ht[1];Object(Xe.useEffect)((function(){if(c&&c.length>0){var e=c.filter((function(e){return e.resKind===Se&&1===e.resType}));$e(e)}}),[Se,c]),Object(Xe.useEffect)((function(){if(r&&ve){if(null===ve||void 0===ve?void 0:ve.departmentId){var e,t=null===(e=s.filter((function(e){return e._id===(null===ve||void 0===ve?void 0:ve.departmentId)})))||void 0===e?void 0:e[0];$(t)}if(null===ve||void 0===ve?void 0:ve.employeeId){var n,a=null===(n=c.filter((function(e){return e._id===(null===ve||void 0===ve?void 0:ve.employeeId)})))||void 0===n?void 0:n[0];B(a)}}}),[ve]),Object(Xe.useEffect)((function(){if(r&&q&&(null===q||void 0===q?void 0:q.departmentId)){var e,t=null===(e=s.filter((function(e){return e._id===(null===q||void 0===q?void 0:q.departmentId)})))||void 0===e?void 0:e[0];$(t)}}),[q]),Object(Xe.useEffect)((function(){var e,t,n,a,r=(null===vt||void 0===vt||null===(e=vt.data)||void 0===e||null===(t=e.getOperationItems)||void 0===t?void 0:t.data)||[],o=(null===xt||void 0===xt||null===(n=xt.data)||void 0===n||null===(a=n.getActions)||void 0===a?void 0:a.data)||[];if(r&&r.length>0){var i=r.map((function(e){return e.itemId})),c=l.filter((function(e){return i.includes(e._id)})),s=r.map((function(e,t){var n=e.categoryId,a=e.categoryName,r=e.categoryNameAr,o=e.departmentId,i=e.departmentName,s=e.departmentNameAr,l=e.departmentColor,d=e.employeeId,u=e.employeeName,m=e.employeeNameAr,j=e.employeeColor,b=c.filter((function(t){return t._id===e.itemId}))[0];return Object(bt.a)(Object(bt.a)({},b),{},{categoryId:n,categoryName:a,categoryNameAr:r,departmentId:o,departmentName:i,departmentNameAr:s,departmentColor:l,employeeId:d,employeeName:u,employeeNameAr:m,employeeColor:j,index:t,itemprice:e.itemPrice,itemqty:e.qty,itemtotal:e.total})}));s.sort((function(e,t){return e.indx>t.indx?1:t.indx>e.indx?-1:0})),be(s);var d=Yb(o);Ve(d),f(!1)}}),[vt,xt]),Object(Xe.useEffect)((function(){if(r){var e,t=new Date,n=new Date;t.setMinutes(0),n.setHours(n.getHours()+1),n.setMinutes(0),g(t),I(n),ie(null===(e=or.filter((function(e){return 2===e.id})))||void 0===e?void 0:e[0])}}),[t]),Object(Xe.useEffect)((function(){Ct()}),[je]),Object(Xe.useEffect)((function(){if(a&&a._id){f(!0),Ot({variables:{opId:a._id}}),yt({variables:{eventId:a.id}});var e=a.departmentId,t=a.employeeId,n=a.customerId,r=a.status,o=a.taskId;if(Ye(null===a||void 0===a?void 0:a.title),g(null===a||void 0===a?void 0:a.startDate),I(null===a||void 0===a?void 0:a.endDate),e){var i=s.filter((function(t){return t._id===e}))[0];$(i)}if(o){var l=d.filter((function(e){return e.id===o}))[0];fe(l)}if(t){var u=c.filter((function(e){return e._id===t}))[0];B(u)}if(n){var m=et.filter((function(e){return e._id===n}))[0];G(m)}if(r){var j=or.filter((function(e){return e.id===r}))[0];ie(j)}}}),[a]);var wt,Ct=function(){var e=je.map((function(e){return e.itemtotal})).reduce((function(e,t){return e+t}),0),t=je.map((function(e){return e.itemtotalcost})).reduce((function(e,t){return e+t}),0);de({itemsSum:e,itemsCostSum:t,costAmount:t,total:e,amount:e,profit:e-t})},St=function(){var e=Object(ea.a)(Zn.a.mark((function e(){var t,n,c,s;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(x>S)){e.next=4;break}return e.next=3,Ks(Ee,ut?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change");case 3:return e.abrupt("return");case 4:if(new Date(x).getDate()===new Date(S).getDate()){e.next=8;break}return e.next=7,Ks(Ee,ut?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change");case 7:return e.abrupt("return");case 8:if(je&&0!==je.length){e.next=12;break}return e.next=11,Ks(Ee,ut?"\u064a\u062c\u0628 \u0627\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631 (\u062e\u062f\u0645\u0629 \u0627\u0648 \u0645\u0646\u062a\u062c) \u0648\u0627\u062d\u062f \u0644\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644":"You should add min one service to invoice");case 11:return e.abrupt("return");case 12:c=Ke||(ut?null===je||void 0===je||null===(t=je[0])||void 0===t?void 0:t.nameAr:null===je||void 0===je||null===(n=je[0])||void 0===n?void 0:n.name),s={id:a&&a.id?a.id:void 0,title:c,startDate:x,endDate:S,amount:le.amount,status:oe?oe.id:2,items:JSON.stringify(je),actions:JSON.stringify(ze),taskId:ve?ve.id:void 0,customer:Q?{customerId:Q._id,customerName:Q.name,customerNameAr:Q.nameAr,customerPhone:Q.phone}:{customerId:void 0,customerName:void 0,customerNameAr:void 0,customerPhone:void 0},department:T?{departmentId:T._id,departmentName:T.name,departmentNameAr:T.nameAr,departmentColor:T.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},employee:q?{employeeId:q._id,employeeName:q.name,employeeNameAr:q.nameAr,employeeColor:q.color,employeePhone:q.phone}:{employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0,employeePhone:void 0}},It(r?o:i,s);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),It=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({variables:n}),At()}catch(a){Nt(a),console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(Ee,ut);case 3:e.next=8;break;case 5:return e.next=7,Hs(Ee,ut);case 7:console.log(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(){g(null),I(null),G(null),$(null),B(null),ie(null),fe(null),be([]),de({}),Ve([]),Ue(null),Ye(null),Ie(null),n()},Tt=(null===a||void 0===a?void 0:a.startDate)?new Date(null===a||void 0===a?void 0:a.startDate):new Date,$t=null===sr||void 0===sr?void 0:sr[Tt.getDay()],kt=ut?r?"\u0645\u0648\u0639\u062f \u062c\u062f\u064a\u062f":"\u062a\u0639\u062f\u064a\u0644 \u0645\u0648\u0639\u062f":r?"New Appointment":"Edit Appointment",Dt=10===a.status||!j;return Object(Fr.jsx)(pu,{isRTL:ut,open:t,onClose:At,title:kt,onSubmit:function(){ct(St)()},theme:u,alrt:Re,mt:10,mb:20,maxWidth:"md",taskvalue:ve,bgcolor:Sc.a.blue[500],children:Object(Fr.jsxs)(Fr.Fragment,{children:[Object(Fr.jsx)(ua.a,{display:"flex",children:Object(Fr.jsx)(la.a,{style:{fontWeight:"bold"},variant:"body2",children:null===a||void 0===a?void 0:a.docNo})}),Object(Fr.jsx)(Gl.a,{container:!0,spacing:2,children:Object(Fr.jsxs)(Gl.a,{item:!0,xs:12,md:12,children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:8,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:1,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:6,children:Object(Fr.jsx)(yd,{isRTL:ut,label:dt.start,value:x,onChange:function(e){return g(e)},format:"dd/MM/yyyy - hh:mm",time:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:6,children:Object(Fr.jsx)(yd,{isRTL:ut,label:dt.end,value:S,onChange:function(e){return I(e)},format:"dd/MM/yyyy - hh:mm",time:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsx)(xd,{autoFocus:!0,name:"tasktitle",label:dt.title,value:Ke,onChange:function(e){return Ye(e.target.value)},row:a,fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"customer",title:dt.customer,words:dt,options:et,value:Q,setSelectValue:G,register:it,isRTL:ut,openAdd:function(){X(!0)},showphone:!0,fullWidth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"task",title:dt.task,words:dt,options:d,value:ve,setSelectValue:fe,register:it,isRTL:ut,fullWidth:!0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(ua.a,{style:{marginRight:10,marginTop:0,marginBottom:0},children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:Se,onChange:function(e){Ie(Number(e.target.value)),B(null)},children:[Object(Fr.jsx)(ql.a,{value:1,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:ut?"\u0627\u0644\u0645\u0648\u0638\u0641":"Employee"}),Object(Fr.jsx)(ql.a,{value:2,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:ut?"\u0627\u0644\u0645\u0648\u0631\u062f":"Resourse"})]})})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"employee",title:dt.employee,words:dt,options:Te,disabled:!Se,value:q,setSelectValue:B,setSelectError:F,selectError:V,refernce:M,register:it,noPlus:!0,isRTL:ut,fullWidth:!0,day:$t})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"department",title:dt.department,words:dt,options:s.filter((function(e){return 1===e.depType})),value:T,setSelectValue:$,setSelectError:E,selectError:R,refernce:L,register:it,noPlus:!0,isRTL:ut,fullWidth:!0})})]})}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:4,style:{marginTop:5,backgroundColor:Object(er.c)(Sc.a.grey[400],.2),borderRadius:5},children:[Object(Fr.jsx)(oa.a,{variant:"outlined",style:{marginBottom:10,fontSize:14,minWidth:80},onClick:function(){Ue(null),qe(!0)},children:ut?"\u0627\u0636\u0627\u0641\u0629 \u062a\u0646\u0628\u064a\u0647":"Add Reminder"}),Object(Fr.jsx)(Ql.a,{style:{height:180,overflow:"auto"},children:ze.map((function(e){return Object(Fr.jsxs)(ao.a,{children:[Object(Fr.jsx)(ro.a,{primary:bs({row:e}),secondary:Wc(e.sendtime,ut)}),Object(Fr.jsx)(Jr.a,{onClick:function(){return function(e){var t=ze.filter((function(t){return t.index!==e.index})),n=Yb(t);Ve(n)}(e)},title:"Delete row",style:{padding:5},children:Object(Fr.jsx)(ji.a,{style:{fontSize:22,color:"#a76f9a"}})}),Object(Fr.jsx)(Jr.a,{style:{padding:5},onClick:function(){Ue(e),qe(!0)},title:"Edit row",children:Object(Fr.jsx)(ui.a,{style:{fontSize:22,color:"#729aaf"}})})]})}))})]})]}),Object(Fr.jsxs)(ua.a,{style:{backgroundColor:Object(er.c)(Sc.a.grey[400],.2),padding:10,marginTop:15,marginBottom:15,borderRadius:10},children:[Object(Fr.jsx)(ua.a,{display:"flex",children:Object(Fr.jsx)(Iu,{options:l,addItem:function(e){var t=[].concat(Object(at.a)(je),[Object(bt.a)(Object(bt.a)({},e),{},{userId:mt._id})]),n=Yb(t);be(n)},words:dt,employees:c,departments:s,classes:b,user:mt,isRTL:ut})}),!v&&Object(Fr.jsx)(ua.a,{style:{marginBottom:20},children:Object(Fr.jsx)(zu,{rows:je,editItem:function(e){var t=je.map((function(t){return t._id===e._id?e:t})),n=Yb(t);be(n)},removeItem:function(e){var t=Object(at.a)(je);t.splice(e,1);var n=Yb(t);be(n)},isRTL:ut,words:dt,user:mt})}),v&&Object(Fr.jsx)(Hu,{})]}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{flexDirection:"row"},children:[Object(Fr.jsxs)(la.a,{style:{fontWeight:"bold",fontSize:16,marginBottom:10},children:[dt.total," : ",Zc(le.amount)]}),(null===le||void 0===le?void 0:le.amount)&&Object(Fr.jsx)(la.a,{style:{paddingLeft:10,paddingRight:10},children:(wt=le.amount,new Oi(wt,"QAR").parse())})]}),Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(fu,{name:"status",title:dt.status,words:dt,options:or,value:oe,setSelectValue:ie,noPlus:!0,isRTL:ut,width:200})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:!r&&Object(Fr.jsx)(ua.a,{m:1,display:"flex",style:{flex:1,justifyContent:"flex-end"},children:Object(Fr.jsx)(oa.a,{size:"medium",color:"primary",variant:"contained",onClick:function(){return ge(!0)},disabled:Dt,children:dt.addInvoice})})})]})]})}),Object(Fr.jsx)(Bm,{open:xe,onClose:function(){return ge(!1)},onCloseAppoint:At,appoint:a,services:l,editEvent:i,company:m,theme:u,items:je}),Object(Fr.jsx)(yu,{newtext:te,open:J,onClose:function(){X(!1),ne("")},isNew:!0,setNewValue:function(e){G(e)},row:null,addAction:tt,editAction:rt}),Object(Fr.jsx)(Dm,{open:Pe,onClose:function(){return qe(!1)},row:He,isNew:!He,addAction:function(e){var t=[].concat(Object(at.a)(ze),[e]),n=Yb(t);Ve(n)},editAction:function(e){var t=ze.map((function(t){return t._id===e._id?e:t})),n=Yb(t);Ve(n)},theme:u,event:Object(bt.a)(Object(bt.a)({},a),{},{startDate:x,endDate:S})})]})})};function Xb(e){var t=e.children,n=e.value,a=e.index,r=Object(wc.a)(e,["children","value","index"]);return Object(Fr.jsx)("div",Object(bt.a)(Object(bt.a)({role:"tabpanel",hidden:n!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a)},r),{},{children:n===a&&Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(la.a,{children:t})})}))}var Zb=Object(Ot.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,display:"flex",height:300},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}})),ep=function(e){var t=e.open,n=e.onClose,a=e.row,r=e.isNew,o=e.theme,i=e.isEditor,c=e.departments,s=e.company,l=e.employees,d=e.servicesproducts,u=e.customers,m=Zb(),j=Ze.a.useState(0),b=Object(nt.a)(j,2),p=b[0],O=b[1],v=(null===a||void 0===a?void 0:a.amount)?a.amount:0,f=(null===a||void 0===a?void 0:a.totalinvoiced)?a.totalinvoiced:0,h=(null===a||void 0===a?void 0:a.totalDiscount)?a.totalDiscount:0,y=(null===a||void 0===a?void 0:a.totalpaid)?a.totalpaid:0,x=(null===a||void 0===a?void 0:a.toatlExpenses)?a.toatlExpenses:0,g=(null===a||void 0===a?void 0:a.progress)?a.progress:0,w=Object(Xe.useContext)(Rr).translate,C=w.words,S=w.isRTL,I="".concat(C.department," : ").concat(S?null===a||void 0===a?void 0:a.nameAr:null===a||void 0===a?void 0:a.name);return Object(Fr.jsx)(pu,{isRTL:S,open:t,onClose:n,title:I,onSubmit:function(){return null},onlyclose:!0,theme:o,alrt:{},maxWidth:"xl",mb:10,mt:10,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:11,children:Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#eee"},children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{margin:10}}),a&&Object(Fr.jsxs)(ua.a,{style:{marginBottom:20},children:[Object(Fr.jsx)(Xb,{value:p,index:0,children:Object(Fr.jsx)(qb,{servicesproducts:d,isEditor:i,isRTL:S,words:C,theme:o,company:s,name:"departmentId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(Xb,{value:p,index:1,children:Object(Fr.jsx)(Wj,{employees:l,departments:c,customers:u,servicesproducts:d,isEditor:i,isRTL:S,words:C,theme:o,isNew:r,name:"departmentId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(Xb,{value:p,index:2,children:Object(Fr.jsx)(rb,{isRTL:S,words:C,isEditor:i,employees:l,departments:c,company:s,servicesproducts:d,name:"departmentId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(Xb,{value:p,index:3,children:Object(Fr.jsx)(ub,{isRTL:S,words:C,isEditor:i,theme:o,name:"departmentId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(Xb,{value:p,index:4,children:Object(Fr.jsx)(jb,{isRTL:S,words:C,isEditor:i,theme:o,name:"departmentId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between",marginLeft:20,marginRight:20},children:[Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a":"Total"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(v)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0646\u062c\u0627\u0632":"Progress"}),Object(Fr.jsxs)(la.a,{style:{fontWeight:"bold",fontSize:14},children:[g,"%"]})]}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{flexDirection:"row"},children:[Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631":"Total Invoiced"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(f)})]}),h>0&&Object(Fr.jsxs)(ua.a,{style:{marginLeft:20,marginRight:20},children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u062d\u0633\u0648\u0645\u0627\u062a":"Total Discounts"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(h)})]})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0645\u0642\u0628\u0648\u0636\u0627\u062a":"Total Paid"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(y)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14,color:Sc.a.red[500]},children:S?"\u0627\u0644\u0645\u062a\u0628\u0642\u064a":"Due Payment"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14,color:Sc.a.red[500]},children:Zc(f-y-h)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641":"Total Expenses"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(x)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14,color:Sc.a.blue[500]},children:S?"\u0635\u0627\u0641\u064a \u0627\u0644\u0627\u064a\u0631\u0627\u062f":"Total Income"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14,color:Sc.a.blue[500]},children:Zc(f-x-h)})]})]})]})]})}),a&&Object(Fr.jsx)(Gl.a,{item:!0,xs:1,children:Object(Fr.jsx)(ua.a,{style:{marginTop:10,marginBottom:100},children:Object(Fr.jsx)(wj.a,{orientation:"vertical",variant:"scrollable",value:p,onChange:function(e,t){O(t)},"aria-label":"items",className:m.tabs,children:$m.map((function(e){return Object(Fr.jsx)(Cj.a,Object(bt.a)({style:{backgroundColor:p===e.id?"#eee":void 0},label:S?e.nameAr:e.name},(t=e.id,{id:"vertical-tab-".concat(t),"aria-controls":"vertical-tabpanel-".concat(t)})));var t}))})})})]})})};function tp(e){var t=e.children,n=e.value,a=e.index,r=Object(wc.a)(e,["children","value","index"]);return Object(Fr.jsx)("div",Object(bt.a)(Object(bt.a)({role:"tabpanel",hidden:n!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a)},r),{},{children:n===a&&Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(la.a,{children:t})})}))}var np=Object(Ot.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,display:"flex",height:300},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}})),ap=function(e){var t=e.open,n=e.onClose,a=e.row,r=e.isNew,o=e.theme,i=e.isEditor,c=e.departments,s=e.company,l=e.employees,d=e.servicesproducts,u=e.customers,m=np(),j=Ze.a.useState(0),b=Object(nt.a)(j,2),p=b[0],O=b[1],v=(null===a||void 0===a?void 0:a.amount)?a.amount:0,f=(null===a||void 0===a?void 0:a.totalinvoiced)?a.totalinvoiced:0,h=(null===a||void 0===a?void 0:a.totalDiscount)?a.totalDiscount:0,y=(null===a||void 0===a?void 0:a.totalpaid)?a.totalpaid:0,x=(null===a||void 0===a?void 0:a.toatlExpenses)?a.toatlExpenses:0,g=(null===a||void 0===a?void 0:a.progress)?a.progress:0,w=Object(Xe.useContext)(Rr).translate,C=w.words,S=w.isRTL,I="".concat(C.employee," : ").concat(S?null===a||void 0===a?void 0:a.nameAr:null===a||void 0===a?void 0:a.name);return Object(Fr.jsx)(pu,{isRTL:S,open:t,onClose:n,title:I,onSubmit:function(){return null},onlyclose:!0,theme:o,alrt:{},maxWidth:"xl",mb:10,mt:10,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:11,children:Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#eee"},children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{margin:10}}),a&&Object(Fr.jsxs)(ua.a,{style:{marginBottom:20},children:[Object(Fr.jsx)(tp,{value:p,index:0,children:Object(Fr.jsx)(qb,{servicesproducts:d,isEditor:i,isRTL:S,words:C,theme:o,company:s,name:"employeeId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(tp,{value:p,index:1,children:Object(Fr.jsx)(Wj,{employees:l,departments:c,customers:u,servicesproducts:d,isEditor:i,isRTL:S,words:C,theme:o,isNew:r,name:"employeeId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(tp,{value:p,index:2,children:Object(Fr.jsx)(rb,{isRTL:S,words:C,isEditor:i,employees:l,departments:c,company:s,servicesproducts:d,name:"employeeId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(tp,{value:p,index:3,children:Object(Fr.jsx)(ub,{isRTL:S,words:C,isEditor:i,theme:o,name:"employeeId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(tp,{value:p,index:4,children:Object(Fr.jsx)(jb,{isRTL:S,words:C,isEditor:i,theme:o,name:"employeeId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between",marginLeft:20,marginRight:20},children:[Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a":"Total"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(v)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0646\u062c\u0627\u0632":"Progress"}),Object(Fr.jsxs)(la.a,{style:{fontWeight:"bold",fontSize:14},children:[g,"%"]})]}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{flexDirection:"row"},children:[Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631":"Total Invoiced"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(f)})]}),h>0&&Object(Fr.jsxs)(ua.a,{style:{marginLeft:20,marginRight:20},children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u062d\u0633\u0648\u0645\u0627\u062a":"Total Discounts"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(h)})]})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0645\u0642\u0628\u0648\u0636\u0627\u062a":"Total Paid"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(y)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14,color:Sc.a.red[500]},children:S?"\u0627\u0644\u0645\u062a\u0628\u0642\u064a":"Due Payment"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14,color:Sc.a.red[500]},children:Zc(f-y-h)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641":"Total Expenses"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(x)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14,color:Sc.a.blue[500]},children:S?"\u0635\u0627\u0641\u064a \u0627\u0644\u0627\u064a\u0631\u0627\u062f":"Total Income"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14,color:Sc.a.blue[500]},children:Zc(f-x-h)})]})]})]})]})}),a&&Object(Fr.jsxs)(Gl.a,{item:!0,xs:1,children:[Object(Fr.jsx)(ua.a,{style:{marginTop:10,marginBottom:100},children:Object(Fr.jsx)(wj.a,{orientation:"vertical",variant:"scrollable",value:p,onChange:function(e,t){O(t)},"aria-label":"items",className:m.tabs,children:$m.map((function(e){return Object(Fr.jsx)(Cj.a,Object(bt.a)({style:{backgroundColor:p===e.id?"#eee":void 0},label:S?e.nameAr:e.name},(t=e.id,{id:"vertical-tab-".concat(t),"aria-controls":"vertical-tabpanel-".concat(t)})));var t}))})}),Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#eee",margin:7,padding:8,borderRadius:5,alignItems:"flex-start",justifyContent:"center",paddingBottom:15},children:[Object(Fr.jsx)(la.a,{variant:"subtitle1",style:{fontWeight:"bold",marginTop:10,marginBottom:10},children:S?a.nameAr:a.name}),Object(Fr.jsx)(la.a,{variant:"subtitle2",style:{fontWeight:"bold",marginTop:10},children:C.phoneNumber}),Object(Fr.jsx)(la.a,{children:a.phone}),a.email&&Object(Fr.jsxs)(Fr.Fragment,{children:[Object(Fr.jsx)(la.a,{variant:"subtitle2",style:{fontWeight:"bold",marginTop:10},children:C.email}),Object(Fr.jsx)(la.a,{children:a.email})]})]})]})]})})};function rp(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.isEditor,o=e.theme,i=e.company,c=e.servicesproducts,s=Object(Xe.useState)(!1),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Is({isRTL:t,words:n}),j=Object(Xe.useState)([{id:4,ref:"title",name:"title",title:n.title},m.createdAt,m.startDate,m.fromto,m.customer,m.docNo,m.taskId,m.employee,m.department,m.status,m.done,m.amount]),b=Object(nt.a)(j,1)[0],p=Object(Xe.useState)([]),O=Object(nt.a)(p,2),v=O[0],f=O[1],h=Object(Xe.useState)(!1),y=Object(nt.a)(h,2),x=y[0],g=y[1],w=Object(Xe.useState)(null),C=Object(nt.a)(w,2),S=C[0],I=C[1],N=Object(Xe.useState)(null),A=Object(nt.a)(N,2),T=A[0],$=A[1],k=Object(Xe.useState)(null),D=Object(nt.a)(k,2),R=D[0],E=D[1],L=Object(Xe.useState)(null),_=Object(nt.a)(L,2),P=_[0],q=_[1],B=Object(Xe.useState)(null),W=Object(nt.a)(B,2),z=W[0],V=W[1],F=Object(Xe.useState)(!1),M=Object(nt.a)(F,2),H=M[0],U=M[1],Q=Object(Xe.useState)(!1),G=Object(nt.a)(Q,2),K=G[0],Y=G[1],J=Object(Xe.useState)(!1),X=Object(nt.a)(J,2),Z=X[0],ee=X[1],te=Object(Xe.useState)(!1),ne=Object(nt.a)(te,2),ae=ne[0],re=ne[1],oe=function(e){var t,n=null===(t=fe.filter((function(t){return t._id===e.employeeId})))||void 0===t?void 0:t[0];n&&(q(n),V("employee"))},ie=function(e){var t,n=null===(t=be.filter((function(t){return t._id===e.departmentId})))||void 0===t?void 0:t[0];n&&(q(n),V("department"))},ce=function(e){var t,n=null===(t=de.filter((function(t){return t._id===e.customerId})))||void 0===t?void 0:t[0];n&&(q(n),V("customer"))},se=tm().tasks,le=tu(),de=le.customers,ue=le.addCustomer,me=le.editCustomer,je=Md(),be=je.departments,pe=je.addDepartment,Oe=je.editDepartment,ve=Zd(),fe=ve.employees,he=ve.addEmployee,ye=ve.editEmployee,xe=Object(Xe.useContext)(pr),ge=xe.state,we=ge.currentDate,Ce=ge.currentViewName,Se=ge.endDate,Ie=xe.dispatch,Ne=Object(Fd.a)(Wt,{fetchPolicy:"cache-and-network"}),Ae=Object(nt.a)(Ne,2),Te=Ae[0],$e=Ae[1],ke={refetchQueries:[{query:Wt,variables:{start:S?S.setHours(0,0,0,0):void 0,end:T?T.setHours(23,59,59,999):void 0}},{query:Xt},{query:em},{query:qt},{query:Pt},{query:_t}]};Object(Xe.useEffect)((function(){var e={start:S?S.setHours(0,0,0,0):void 0,end:T?T.setHours(23,59,59,999):void 0,due:d};Te({variables:e})}),[S,T,d]);var De=Object(ta.a)(pn,ke),Re=Object(nt.a)(De,1)[0],Ee=Object(ta.a)(vn,ke),Le=Object(nt.a)(Ee,1)[0],_e=Object(ta.a)(qn,ke),Pe=Object(nt.a)(_e,1)[0],qe=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.deleted)&&(a=n[0],Pe({variables:{_id:a}}),f(v.filter((function(e){return e._id!==a}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(Xe.useEffect)((function(){var e,t;if((null===$e||void 0===$e?void 0:$e.loading)&&g(!0),null===$e||void 0===$e||null===(e=$e.data)||void 0===e||null===(t=e.getEvents)||void 0===t?void 0:t.data){var n=$e.data.getEvents.data;f(n),g(!1)}}),[$e]),Object(Xe.useEffect)((function(){if("department"===z&&be&&be.length>0){var e,t=null===(e=be.filter((function(e){return e._id===P._id})))||void 0===e?void 0:e[0];q(t)}if("employee"===z&&fe&&fe.length>0){var n,a=null===(n=fe.filter((function(e){return e._id===P._id})))||void 0===n?void 0:n[0];q(a)}if("customer"===z&&(console.log("customer",P),de&&de.length>0)){var r,o=null===(r=de.filter((function(e){return e._id===P._id})))||void 0===r?void 0:r[0];q(o)}}),[be,fe,de]);var Be=Object(Xe.useState)([{columnName:m.startDate.name,togglingEnabled:!1},{columnName:m.fromto.name,togglingEnabled:!1},{columnName:m.amount.name,togglingEnabled:!1}]),We=Object(nt.a)(Be,1)[0];return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:r,theme:o,refresh:function(){null===$e||void 0===$e||$e.refetch()},periodvalue:R,setPeriodvalue:E,bgcolor:Sc.a.blue[500],children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsxs)(ua.a,{display:"flex",style:{position:"absolute",zIndex:111,flexDirection:"row",alignItems:"center"},children:[Object(Fr.jsx)(ua.a,{style:{opacity:d?.5:void 0,pointerEvents:d?"none":void 0},children:Object(Fr.jsx)(Zj,{setStart:I,setEnd:$,currentDate:we,currentDateChange:function(e){Ie({type:"setCurrentDate",payload:e})},currentViewName:Ce,currentViewNameChange:function(e){Ie({type:"setCurrentViewName",payload:e.target.value})},endDate:Se,endDateChange:function(e){Ie({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:o,color:Sc.a.blue[700],bgcolor:Sc.a.blue[50]})}),Object(Fr.jsx)(ua.a,{style:{padding:0,margin:0,backgroundColor:Sc.a.blue[50],paddingRight:10,marginLeft:40,marginRight:40,borderRadius:5},children:Object(Fr.jsx)(ql.a,{control:Object(Fr.jsx)(Ic.a,{style:{padding:7},checked:d,onChange:function(){return u(!d)},color:"primary"}),label:Object(Fr.jsx)(la.a,{style:{color:Sc.a.blue[700]},variant:"subtitle2",children:t?"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0645\u062a\u0623\u062e\u0631\u0629":"Due Appointments"}),style:{fontSize:14}})})]}),Object(Fr.jsxs)(Od.c,{rows:v,columns:b,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:qe}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:45,tableComponent:$b}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{columnExtensions:We,defaultHiddenColumnNames:[m.createdAt.name,m.status.name,m.docNo.name]}),Object(Fr.jsx)(Au.b,{for:["fromto"],formatterComponent:Gc}),Object(Fr.jsx)(Au.b,{for:["startDate","createdAt"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["status"],formatterComponent:Jc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as}),Object(Fr.jsx)(Au.b,{for:["done"],formatterComponent:function(e){return cs(Object(bt.a)(Object(bt.a)({},e),{},{editEvent:Le}))}}),Object(Fr.jsx)(Au.b,{for:["taskId"],formatterComponent:function(e){return function(e){var t,n=e.value,a=e.tasks,r=e.setItem,o=e.setOpenItem,i=e.setName,c=null===(t=a.filter((function(e){return e.id===n})))||void 0===t?void 0:t[0];return c?Object(Fr.jsx)("div",{onClick:function(){r(c),i("task"),o(!0)},style:{cursor:"pointer"},children:Object(Fr.jsx)(la.a,{style:{fontSize:13,textAlign:"start",color:Sc.a.deepPurple[500]},children:c.title})}):Object(Fr.jsx)("span",{})}(Object(bt.a)(Object(bt.a)({},e),{},{tasks:se,setItem:q,setOpenItem:U,setName:V}))}}),Object(Fr.jsx)(Au.b,{for:["employeeNameAr","employeeName"],formatterComponent:function(e){return ds(Object(bt.a)(Object(bt.a)({},e),{},{setItem:oe,setOpenItem:ee}))}}),Object(Fr.jsx)(Au.b,{for:["departmentNameAr","departmentName"],formatterComponent:function(e){return ds(Object(bt.a)(Object(bt.a)({},e),{},{setItem:ie,setOpenItem:re}))}}),Object(Fr.jsx)(Au.b,{for:["customerNameAr","customerName"],formatterComponent:function(e){return ds(Object(bt.a)(Object(bt.a)({},e),{},{setItem:ce,setOpenItem:Y}))}}),r&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{addAction:Re,editAction:Le,children:Object(Fr.jsx)(Jb,{employees:fe,departments:be,company:i,servicesproducts:c,theme:o,tasks:se,isEditor:r})}),Object(Fr.jsx)(zl.f,{name:"tableColumns",computed:function(e){var t=e.tableColumns;return[{key:"editCommand",type:Od.g.COLUMN_TYPE,width:110}].concat(Object(at.a)(t.filter((function(e){return e.type!==Od.g.COLUMN_TYPE}))))}})]}),x&&Object(Fr.jsx)(Ll,{isRTL:t}),Object(Fr.jsx)(ep,{open:ae,onClose:function(){re(!1),q(null),V(null)},row:P,isNew:!1,addAction:pe,editAction:Oe,theme:o,isEditor:r,departments:be,company:i,employees:fe,servicesproducts:c,customers:de,tasks:se}),Object(Fr.jsx)(ap,{open:Z,onClose:function(){ee(!1),q(null),V(null)},row:P,isNew:!1,addAction:he,editAction:ye,theme:o,isEditor:r,departments:be,company:i,employees:fe,servicesproducts:c,customers:de,tasks:se}),Object(Fr.jsx)(_b,{open:H,onClose:function(){U(!1),q(null),V(null)},item:P,tasks:se,isNew:!1,theme:o,employees:fe,departments:be,customers:de,addCustomer:ue,editCustomer:me,company:i,servicesproducts:c,isEditor:r}),Object(Fr.jsx)(zb,{open:K,onClose:function(){Y(!1),q(null),V(null)},row:P,isNew:!1,addAction:ue,editAction:me,theme:o,isEditor:r,departments:be,company:i,employees:fe,servicesproducts:c,customers:v,tasks:se})]})})}var op=Object(Fr.jsx)(Aj.a,{fontSize:"small"}),ip=Object(Fr.jsx)($j.a,{fontSize:"small"});function cp(e){var t=e.options,n=e.value,a=e.setValue,r=e.words,o=e.isRTL,i=e.name,c=e.width,s=e.nomulti,l=void 0!==s&&s;return Object(Fr.jsx)(kl.a,{size:"small",multiple:!l,options:t,disableCloseOnSelect:!0,disableListWrap:!0,fullWidth:!0,getOptionLabel:function(e){return o?e.nameAr:e.name},style:{},renderOption:function(e,t){var n=t.selected;return Object(Fr.jsxs)(ua.a,{style:{display:"flex",flex:1,alignItems:"center",justifyContent:"flex-end"},children:[!l&&Object(Fr.jsx)(Ic.a,{icon:op,checkedIcon:ip,style:{marginRight:8},checked:n}),o?e.nameAr:e.name]})},value:n,onChange:function(e,t){a(t)},renderInput:function(e){return Object(Fr.jsx)(da.a,Object(bt.a)(Object(bt.a)({},e),{},{rows:1,rowsMax:1,id:i,name:i,label:r[i],variant:"outlined",style:{width:c||200,marginRight:5,marginLeft:5,backgroundColor:(null===n||void 0===n?void 0:n.length)>0?"#FFF5D6":void 0,fontSize:10,margin:0,padding:0}}))}})}var sp=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.05)}}}}),{name:"TableComponent"})((function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.l.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))}));function lp(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.mainaccounts,o=(e.company,e.theme),i=e.isEditor,c=Object(Xe.useState)(null),s=Object(nt.a)(c,2),l=s[0],d=s[1],u=Object(Xe.useState)(null),m=Object(nt.a)(u,2),j=m[0],b=m[1],p=Object(Xe.useState)([]),O=Object(nt.a)(p,2),v=O[0],f=O[1],h=Object(Xe.useState)(null),y=Object(nt.a)(h,2),x=y[0],g=y[1],w=Is({isRTL:t,words:n}),C=Object(Xe.useState)([w.opTime,w.acc,w.taskId,w.refNo,w.opAcc,w.opType,w.employee,w.opDocNo,w.amount,w.amountdebit,w.amountcredit]),S=Object(nt.a)(C,1)[0],I=Object(Xe.useState)([{columnName:w.opTime.name,togglingEnabled:!1},{columnName:w.amount.name,togglingEnabled:!1}]),N=Object(nt.a)(I,1)[0],A=Object(Fd.a)(Jt,{fetchPolicy:"cache-and-network"}),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Object(Xe.useContext)(fr),R=D.state,E=R.currentDate,L=R.currentViewName,_=R.endDate,P=R.servicevalue,q=R.departvalue,B=R.emplvalue,W=R.custvalue,z=R.catvalue,V=R.accvalue,F=R.taskvalue,M=R.group,H=R.groupby,U=R.sumcolumn,Q=R.sort,G=D.dispatch,K=tm().tasks;Object(Xe.useEffect)((function(){}),[v]),Object(Xe.useEffect)((function(){var e,t,n,a,r=(null===k||void 0===k||null===(e=k.data)||void 0===e||null===(t=e.getMonthlyReport)||void 0===t?void 0:t.data)||[],o=(null===k||void 0===k||null===(n=k.data)||void 0===n||null===(a=n.getMonthlyReport)||void 0===a?void 0:a.message)||null,i=o?Number(o):null,c=(null===r||void 0===r?void 0:r.length)>0?r.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{amount:ps(e)})})):[];if(i){var s,l,d,u=2===(null===V||void 0===V||null===(s=V[0])||void 0===s?void 0:s.accType);i<0?(l=u?0:-i,d=u?-i:0):(l=u?i:0,d=u?0:i),c.unshift({_id:Date.now(),accNameAr:"\u0631\u0635\u064a\u062f \u0627\u0641\u062a\u062a\u0627\u062d\u064a",accName:"Opening Balancee",amount:i,credit:l,debit:d})}f(c);var m=td.a.sumBy(c,"amount");g(m)}),[k]);var Y=function(e){return e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e._id})):void 0};Object(Xe.useEffect)((function(){!function(){var e,t={accountIds:Y(V),serviceIds:Y(P),categoryIds:Y(z),departmentIds:Y(q),employeeIds:Y(B),customerIds:Y(W),taskIds:(e=F,e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e.id})):void 0),start:l?l.setHours(0,0,0,0):void 0,end:j?j.setHours(23,59,59,999):(new Date).setHours(23,59,59,999)};$({variables:t})}()}),[l,j,M,H,U]);var J=Object(Xe.useRef)(null),X=Object(Xe.useCallback)((function(){J.current.exportGrid()}),[J]);return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:i,theme:o,refresh:function(){null===k||void 0===k||k.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsxs)(ua.a,{display:"flex",style:{position:"absolute",zIndex:111,flexDirection:"row",alignItems:"center"},children:[Object(Fr.jsx)(Zj,{setStart:d,setEnd:b,currentDate:E,currentDateChange:function(e){G({type:"setCurrentDate",payload:e})},currentViewName:L,currentViewNameChange:function(e){G({type:"setCurrentViewName",payload:e.target.value})},endDate:_,endDateChange:function(e){G({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:o}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{height:38,alignItems:"center",justifyContent:"flex-start",paddingLeft:20,paddingRight:20},children:[Object(Fr.jsx)(ua.a,{style:{marginLeft:10,marginRight:10},children:Object(Fr.jsx)(cp,{options:K,value:null===F||void 0===F?void 0:F[0],setValue:function(e){G({type:"setTaskvalue",payload:e?[e]:[]})},words:n,isRTL:t,name:"task",nomulti:!0,width:250})}),Object(Fr.jsx)(cp,{options:r,value:null===V||void 0===V?void 0:V[0],setValue:function(e){G({type:"setAccvalue",payload:e?[e]:[]})},words:n,isRTL:t,name:"account",nomulti:!0,width:250})]}),V&&V.length>0&&Object(Fr.jsx)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"flex-end",minWidth:120,marginRight:90},children:Object(Fr.jsx)(la.a,{variant:"subtitle1",style:{fontWeight:"bold"},children:as({value:x})})})]}),Object(Fr.jsx)(Ql.a,{style:{height:window.innerHeight-85,overflow:"auto"},children:Object(Fr.jsxs)(Od.c,{rows:v,columns:S,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:Q,onSortingChange:function(e){G({type:"setSort",payload:e})}}),Object(Fr.jsx)(Au.u,{totalItems:[{columnName:"credit",type:"sum"},{columnName:"debit",type:"sum"}]}),Object(Fr.jsx)(Au.n,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,tableComponent:sp,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:30}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{columnExtensions:N,defaultHiddenColumnNames:[w.amount.name]}),Object(Fr.jsx)(Au.b,{for:["opTime"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["credit","debit"],formatterComponent:rs}),Object(Fr.jsx)(Au.b,{for:["opType"],formatterComponent:js}),Object(Fr.jsx)(Au.b,{for:["taskId"],formatterComponent:function(e){return ls(Object(bt.a)(Object(bt.a)({},e),{},{tasks:K}))}}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.b,{startExport:X}),Object(Fr.jsx)(Od.j,{messages:{sum:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",count:t?"\u0627\u0644\u0639\u062f\u062f":"Count"}})]})}),Object(Fr.jsx)(Kj.a,{ref:J,rows:v,columns:S,onSave:function(e){e.xlsx.writeBuffer().then((function(e){var t=new Date,n="finance-report-".concat(qc(t));Jj()(new Blob([e],{type:"application/octet-stream"}),"".concat(n,".xlsx"))}))}})]})})}var dp={currentViewName:"Month",currentDate:new Date,endDate:new Date,servicevalue:[],departvalue:[],emplvalue:[],custvalue:[],catvalue:[],taskvalue:[],groupby:"none",group:!1,sumcolumn:"none",status:null,sort:[{columnName:"startDate",direction:"desc"}]},up=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setServicevalue":return Object(bt.a)(Object(bt.a)({},e),{},{servicevalue:t.payload});case"setDepartvalue":return Object(bt.a)(Object(bt.a)({},e),{},{departvalue:t.payload});case"setEmplvalue":return Object(bt.a)(Object(bt.a)({},e),{},{emplvalue:t.payload});case"setCustvalue":return Object(bt.a)(Object(bt.a)({},e),{},{custvalue:t.payload});case"setCatvalue":return Object(bt.a)(Object(bt.a)({},e),{},{catvalue:t.payload});case"setTaskvalue":return Object(bt.a)(Object(bt.a)({},e),{},{taskvalue:t.payload});case"setGroupby":return Object(bt.a)(Object(bt.a)({},e),{},{groupby:t.payload});case"setGroup":return Object(bt.a)(Object(bt.a)({},e),{},{group:t.payload});case"setSumcolumn":return Object(bt.a)(Object(bt.a)({},e),{},{sumcolumn:t.payload});case"setStatus":return Object(bt.a)(Object(bt.a)({},e),{},{status:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},mp=Object(Xe.createContext)({}),jp=function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.l.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))},bp=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.05)}}}}),{name:"TableComponent"})(jp),pp=Object(Nu.a)({},{name:"TableComponent"})(jp);function Op(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.services,o=e.company,i=e.theme,c=e.isEditor,s=Object(Xe.useState)(null),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)(null),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)([]),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)([]),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Object(Xe.useState)(null),S=Object(nt.a)(C,2),I=S[0],N=S[1],A=Object(Xe.useState)(null),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Is({isRTL:t,words:n}),R=Object(Xe.useState)([D.startDate,D.time,D.taskId,D.employee,D.department,D.customer,D.status,D.docNo,D.amount]),E=Object(nt.a)(R,2),L=E[0],_=E[1],P=Object(Xe.useState)([D.startDate,D.time,D.taskId,D.employee,D.department,D.customer,D.status,D.docNo,D.amount]),q=Object(nt.a)(P,1)[0],B=Object(Xe.useState)([{columnName:D.opTime.name,togglingEnabled:!1}]),W=Object(nt.a)(B,1)[0],z=Object(Fd.a)(Gt,{fetchPolicy:"cache-and-network"}),V=Object(nt.a)(z,2),F=V[0],M=V[1],H=tu().customers,U=Md().departments,Q=Zd().employees,G=Object(Xe.useContext)(mp),K=G.state,Y=K.currentDate,J=K.currentViewName,X=K.endDate,Z=K.servicevalue,ee=K.departvalue,te=K.emplvalue,ne=K.custvalue,ae=K.taskvalue,re=K.group,oe=K.groupby,ie=K.sumcolumn,ce=K.status,se=K.sort,le=G.dispatch,de=tm().tasks,ue=function(e){le({type:"setGroupby",payload:e})},me=function(e){le({type:"setGroup",payload:e})};Object(Xe.useEffect)((function(){var e,t,n=(null===M||void 0===M||null===(e=M.data)||void 0===e||null===(t=e.getReportEvents)||void 0===t?void 0:t.data)||[];if(h(n),re){var a=nd({list:n,name:ie});k(a)}var r=0;n.forEach((function(e){return r+=e.amount})),N(r)}),[M]);var je=function(e){return e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e._id})):void 0};Object(Xe.useEffect)((function(){!function(){var e,t={serviceIds:je(Z),departmentIds:je(ee),employeeIds:je(te),customerIds:je(ne),taskIds:(e=ae,e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e.id})):void 0),start:d?d.setHours(0,0,0,0):void 0,end:b?b.setHours(23,59,59,999):(new Date).setHours(23,59,59,999),status:ce?ce.id:void 0};F({variables:t})}()}),[d,b,re,oe,ie]);var be=Object(Xe.useRef)(null),pe=Object(Xe.useCallback)((function(){be.current.exportGrid()}),[be]),Oe=function(e){var t=L.filter((function(t){return t.ref===e}));return!!(t&&t.length>0)};Object(Xe.useEffect)((function(){if(re);else{var e=td.a.orderBy(f,[se[0].columnName],[se[0].direction]).map((function(e){return{date:Oe("date")?e.startDate?Pc(e.startDate):" - ":void 0,time:Oe("time")?e.startDate?Bc(e.startDate):" - ":void 0,docNo:Oe("docNo")?e.docNo?e.docNo:" - ":void 0,status:Oe("status")?e.status?Xc(e.status):" - ":void 0,employee:Oe("employee")?e[D.employee.name]?e[D.employee.name]:" - ":void 0,service:Oe("service")?e[D.service.name]?e[D.service.name]:" - ":void 0,department:Oe("department")?e[D.department.name]?e[D.department.name]:" - ":void 0,customer:Oe("customer")?e[D.customer.name]?e[D.customer.name]:" - ":void 0,taskId:Oe("taskId")?e[D.taskId.name]?e[D.taskId.name]:" - ":void 0,amount:Oe("amount")?e.amount?Zc(e.amount):" - ":void 0}}));w(e)}}),[L,f,se]);var ve=[{columnName:D.docNo.name,type:"count"},{columnName:"amount",type:"sum"}],fe=[{columnName:ie}],he=[{columnName:D.docNo.name,type:"count",alignByColumn:!0},{columnName:"amount",type:"sum",alignByColumn:!0}],ye=Nc(t).filter((function(e){return 6!==e.id&&4!==e.id&&9!==e.id}));return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:c,theme:i,refresh:function(){null===M||void 0===M||M.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsx)(ua.a,{style:{position:"absolute",left:t?145:void 0,right:t?void 0:145,top:68,zIndex:100},children:Object(Fr.jsx)(Jr.a,{onClick:re?function(){var e=[{name:t?"\u0627\u0644\u0627\u0633\u0645":"Name"},{name:t?"\u0627\u0644\u0639\u062f\u062f":"Count"},{name:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total"}],a=$.items.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{total:Zc(e.total)})})),r={isRTL:t,totl:n.total,totalamount:I?Zc($.total):"",count:null===$||void 0===$?void 0:$.count,reportname:t?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a":"Sales Report",logo:o.logo,phone:o.tel1,mobile:o.mob,address:o.address,company:t?o.nameAr:o.name,start:d?Pc(d):"",end:b?Pc(b):"",color:"#b2e2be",now:qc(new Date)};Object(bt.a)({rows:a,cols:e},r)}:function(){var e=L.map((function(e){return{name:e.title}})),a=[];te&&a.push({name:t?null===te||void 0===te?void 0:te.nameAr:null===te||void 0===te?void 0:te.name}),ce&&a.push({name:t?null===ce||void 0===ce?void 0:ce.nameAr:null===ce||void 0===ce?void 0:ce.name}),ee&&a.push({name:t?null===ee||void 0===ee?void 0:ee.nameAr:null===ee||void 0===ee?void 0:ee.name}),Z&&a.push({name:t?null===Z||void 0===Z?void 0:Z.nameAr:null===Z||void 0===Z?void 0:Z.name}),ae&&a.push({name:t?null===ae||void 0===ae?void 0:ae.nameAr:null===ae||void 0===ae?void 0:ae.name});var r={isRTL:t,totl:n.total,totalamount:I?Zc(I):"",reportname:t?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f":"Appointment Report",logo:o.logo,phone:o.tel1,mobile:o.mob,address:o.address,company:t?o.nameAr:o.name,start:d?Pc(d):"",end:b?Pc(b):"",filters:a,color:"#afbddf",now:qc(new Date)};Object(bt.a)({rows:g,cols:e},r)},title:"Print Report",size:"small",children:Object(Fr.jsx)(Vj.a,{})})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{position:"absolute",zIndex:111,flexDirection:"row",alignItems:"center"},children:[Object(Fr.jsx)(Zj,{setStart:u,setEnd:p,currentDate:Y,currentDateChange:function(e){le({type:"setCurrentDate",payload:e})},currentViewName:J,currentViewNameChange:function(e){le({type:"setCurrentViewName",payload:e.target.value})},endDate:X,endDateChange:function(e){le({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:i}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"center",paddingLeft:20,paddingRight:20,marginTop:-4},children:[Object(Fr.jsx)(Gj,{servicevalue:Z,setServicevalue:function(e){le({type:"setServicevalue",payload:e})},departvalue:ee,setDepartvalue:function(e){le({type:"setDepartvalue",payload:e})},emplvalue:te,setEmplvalue:function(e){le({type:"setEmplvalue",payload:e})},departments:U,employees:Q,services:r,customers:H,custvalue:ne,setCustvalue:function(e){le({type:"setCustvalue",payload:e})},tasks:de,taskvalue:ae,setTaskvalue:function(e){le({type:"setTaskvalue",payload:e})},words:n,isRTL:t}),Object(Fr.jsx)(Xj,{options:ye,value:oe,onChange:function(e){var t;"none"===e.target.value?(me(!1),ue("none")):(me(!0),ue(e.target.value),t=D[e.target.value].name,le({type:"setSumcolumn",payload:t}))},isRTL:t})]}),Object(Fr.jsx)(ua.a,{style:{marginTop:-2},children:Object(Fr.jsx)(cp,{options:or,value:ce,setValue:function(e){le({type:"setStatus",payload:e})},words:n,isRTL:t,name:"status",nomulti:!0,width:180})})]}),Object(Fr.jsx)(Ql.a,{style:{height:window.innerHeight-85,overflow:"auto"},children:Object(Fr.jsxs)(Od.c,{rows:f,columns:q,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:se,onSortingChange:function(e){le({type:"setSort",payload:e})}}),re&&Object(Fr.jsx)(Au.i,{grouping:fe}),Object(Fr.jsx)(Au.u,{totalItems:ve,groupItems:he}),re&&Object(Fr.jsx)(Au.l,{}),Object(Fr.jsx)(Au.n,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,tableComponent:re?pp:bp,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{columnExtensions:W,onHiddenColumnNamesChange:function(e){var t=Object(at.a)(q).filter((function(t){return!e.includes(t.name)}));t.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})),_(t)}}),Object(Fr.jsx)(Au.b,{for:["startDate"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["time"],formatterComponent:Yc}),Object(Fr.jsx)(Au.b,{for:["status"],formatterComponent:Jc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as})," ",Object(Fr.jsx)(Au.b,{for:["taskId"],formatterComponent:function(e){return ls(Object(bt.a)(Object(bt.a)({},e),{},{tasks:de}))}}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.b,{startExport:pe}),re&&Object(Fr.jsx)(Od.h,{messages:{sum:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",count:t?"\u0627\u0644\u0639\u062f\u062f":"Count",sumOf:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",countOf:t?"\u0627\u0644\u0639\u062f\u062f":"Count"},showColumnsWhenGrouped:!0}),Object(Fr.jsx)(Od.j,{messages:{sum:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",count:t?"\u0627\u0644\u0639\u062f\u062f":"Count"}})]})}),Object(Fr.jsx)(Kj.a,{ref:be,rows:f,columns:q,onSave:function(e){e.xlsx.writeBuffer().then((function(e){var t=new Date,n="events-report-".concat(qc(t));Jj()(new Blob([e],{type:"application/octet-stream"}),"".concat(n,".xlsx"))}))}})]})})}var vp=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.05)}}}}),{name:"TableComponent"})((function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.l.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))}));function fp(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=(e.company,e.theme),o=e.isEditor,i=Object(Xe.useState)(null),c=Object(nt.a)(i,2),s=c[0],l=c[1],d=Object(Xe.useState)(null),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Object(Xe.useState)([]),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=Object(Xe.useState)([]),h=Object(nt.a)(f,2),y=(h[0],h[1]),x=Object(Xe.useState)(null),g=Object(nt.a)(x,2),w=g[0],C=g[1],S=Is({isRTL:t,words:n}),I=Object(Xe.useState)([S.opTime,S.customer,S.opType,S.taskId,S.opDocNo,S.opAcc,S.refNo,S.amountdebit,S.amountcredit]),N=Object(nt.a)(I,2),A=N[0],T=N[1],$=Object(Xe.useState)([S.opTime,S.customer,S.opType,S.taskId,S.opDocNo,S.opAcc,S.amountdebit,S.amountcredit]),k=Object(nt.a)($,1)[0],D=Object(Xe.useState)([{columnName:S.opTime.name,togglingEnabled:!1},{columnName:S.amount.name,togglingEnabled:!1}]),R=Object(nt.a)(D,1)[0],E=Object(Fd.a)(Jt,{fetchPolicy:"cache-and-network"}),L=Object(nt.a)(E,2),_=L[0],P=L[1],q=tu().customers,B=Object(Xe.useContext)(Nr),W=B.state,z=W.currentDate,V=W.currentViewName,F=W.endDate,M=W.servicevalue,H=W.departvalue,U=W.emplvalue,Q=W.custvalue,G=W.catvalue,K=W.accvalue,Y=W.group,J=W.groupby,X=W.sumcolumn,Z=W.sort,ee=B.dispatch,te=tm().tasks;Object(Xe.useEffect)((function(){var e,t,n,a,r=(null===P||void 0===P||null===(e=P.data)||void 0===e||null===(t=e.getMonthlyReport)||void 0===t?void 0:t.data)||[],o=(null===P||void 0===P||null===(n=P.data)||void 0===n||null===(a=n.getMonthlyReport)||void 0===a?void 0:a.message)||null,i=o?Number(o):null,c=(null===r||void 0===r?void 0:r.length)>0?r.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{amount:ps(e)})})):[];i&&c.unshift({_id:Date.now(),accNameAr:"\u0631\u0635\u064a\u062f \u0627\u0641\u062a\u062a\u0627\u062d\u064a",accName:"Opening Balancee",amount:i}),v(c);var s=0;c.forEach((function(e){return s+=e.amount})),C(s)}),[P]);var ne=function(e){return e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e._id})):void 0};Object(Xe.useEffect)((function(){!function(){var e={accPCode:2,accountIds:ne(K),serviceIds:ne(M),categoryIds:ne(G),departmentIds:ne(H),employeeIds:ne(U),customerIds:ne(Q),start:s?s.setHours(0,0,0,0):void 0,end:m?m.setHours(23,59,59,999):(new Date).setHours(23,59,59,999)};_({variables:e})}()}),[s,m,Y,J,X]);var ae=Object(Xe.useRef)(null),re=Object(Xe.useCallback)((function(){ae.current.exportGrid()}),[ae]),oe=function(e){var t=A.filter((function(t){return t.ref===e}));return!!(t&&t.length>0)};Object(Xe.useEffect)((function(){var e=td.a.orderBy(O,[Z[0].columnName],[Z[0].direction]).map((function(e){return{opTime:oe("opTime")?Pc(e.opTime):void 0,opDocNo:oe("opDocNo")?e.opDocNo:void 0,employee:oe("employee")?e[S.employee.name]:void 0,service:oe("service")?e[S.service.name]:void 0,department:oe("department")?e[S.department.name]:void 0,category:oe("category")?e[S.category.name]:void 0,customer:oe("customer")?e[S.customer.name]:void 0,amount:oe("amount")?Zc(e.amount):void 0}}));y(e)}),[A,O,Z]);var ie=[{columnName:X}],ce=[{columnName:S.category.name,type:"count",alignByColumn:!0},{columnName:"amount",type:"sum",alignByColumn:!0},{columnName:S.category.name,type:"count",showInGroupFooter:!0},{columnName:"amount",type:"sum",showInGroupFooter:!0}];return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:o,theme:r,refresh:function(){null===P||void 0===P||P.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsxs)(ua.a,{display:"flex",style:{position:"absolute",zIndex:111,flexDirection:"row",alignItems:"center"},children:[Object(Fr.jsx)(Zj,{setStart:l,setEnd:j,currentDate:z,currentDateChange:function(e){ee({type:"setCurrentDate",payload:e})},currentViewName:V,currentViewNameChange:function(e){ee({type:"setCurrentViewName",payload:e.target.value})},endDate:F,endDateChange:function(e){ee({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:r}),Object(Fr.jsx)(ua.a,{display:"flex",style:{height:38,alignItems:"center",justifyContent:"space-between",paddingLeft:100,paddingRight:100},children:Object(Fr.jsx)(cp,{options:q,value:null===Q||void 0===Q?void 0:Q[0],setValue:function(e){ee({type:"setCustvalue",payload:e?[e]:[]})},words:n,isRTL:t,name:"customer",nomulti:!0,width:300})}),Object(Fr.jsx)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"flex-end",minWidth:120,marginRight:90},children:Object(Fr.jsx)(la.a,{variant:"subtitle1",style:{fontWeight:"bold"},children:as({value:w})})})]}),Object(Fr.jsx)(Ql.a,{style:{height:window.innerHeight-85,overflow:"auto"},children:Object(Fr.jsxs)(Od.c,{rows:O,columns:k,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:Z,onSortingChange:function(e){ee({type:"setSort",payload:e})}}),Y&&Object(Fr.jsx)(Au.i,{grouping:ie}),Object(Fr.jsx)(Au.u,{totalItems:[{columnName:"credit",type:"sum"},{columnName:"debit",type:"sum"}],groupItems:ce}),Y&&Object(Fr.jsx)(Au.l,{}),Object(Fr.jsx)(Au.n,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,tableComponent:vp,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{columnExtensions:R,onHiddenColumnNamesChange:function(e){var t=Object(at.a)(k).filter((function(t){return!e.includes(t.name)}));t.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})),T(t)}}),Object(Fr.jsx)(Au.b,{for:["opTime"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["credit","debit"],formatterComponent:rs}),Object(Fr.jsx)(Au.b,{for:["opType"],formatterComponent:js}),Object(Fr.jsx)(Au.b,{for:["taskId"],formatterComponent:function(e){return ls(Object(bt.a)(Object(bt.a)({},e),{},{tasks:te}))}}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.b,{startExport:re}),Y&&Object(Fr.jsx)(Od.h,{showColumnsWhenGrouped:!0}),Object(Fr.jsx)(Od.j,{messages:{sum:""}})]})}),Object(Fr.jsx)(Kj.a,{ref:ae,rows:O,columns:k,onSave:function(e){e.xlsx.writeBuffer().then((function(e){var t=new Date,n="finance-report-".concat(qc(t));Jj()(new Blob([e],{type:"application/octet-stream"}),"".concat(n,".xlsx"))}))}})]})})}var hp={mainResourceName:"employeeId",currentViewName:"Day",currentDate:new Date,endDate:new Date,sort:[{columnName:"startDate",direction:"desc"}]},yp=function(e,t){switch(t.type){case"setMainResourceName":return Object(bt.a)(Object(bt.a)({},e),{},{mainResourceName:t.payload});case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},xp=Object(Xe.createContext)({});function gp(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.isEditor,o=e.theme,i=Object(Xe.useState)([{name:"time",title:n.time},{name:"debitAcc",title:t?"\u062d\u0633\u0627\u0628 \u0627\u0644\u0645\u0635\u0631\u0648\u0641":"Expenses Acc"},{name:"creditAcc",title:t?"\u062d\u0633\u0627\u0628 \u0627\u0644\u062f\u0641\u0639":"Payment Acc"},{name:t?"departmentNameAr":"departmentName",title:n.department},{name:t?"employeeNameAr":"employeeName",title:"".concat(n.employee," / ").concat(n.resourses)},{name:"taskId",title:t?"\u0627\u0644\u0645\u0647\u0645\u0629":"Task"},{name:"desc",title:n.description},{name:"amount",title:n.amount}]),c=Object(nt.a)(i,1)[0],s=Object(Xe.useState)([]),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)(!1),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)(null),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)(null),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=tm().tasks,S=Object(Xe.useContext)($r),I=S.state,N=I.currentDate,A=I.currentViewName,T=I.endDate,$=I.sort,k=S.dispatch,D=Object(Fd.a)(en,{fetchPolicy:"cache-and-network"}),R=Object(nt.a)(D,2),E=R[0],L=R[1],_=cb().accounts,P={refetchQueries:[{query:en,variables:{start:f?f.setHours(0,0,0,0):void 0,end:g?g.setHours(23,59,59,999):void 0}},{query:Xt},{query:Ft},{query:em},{query:qt},{query:Pt},{query:_t}]};Object(Xe.useEffect)((function(){var e={start:f?f.setHours(0,0,0,0):void 0,end:g?g.setHours(23,59,59,999):void 0};E({variables:e})}),[f,g]);var q=Object(ta.a)(Vn,P),B=Object(nt.a)(q,1)[0],W=Object(ta.a)(Fn,P),z=Object(nt.a)(W,1)[0],V=Object(ta.a)(Mn,P),F=Object(nt.a)(V,1)[0],M=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.deleted)&&(a=n[0],F({variables:{_id:a}}),u(d.filter((function(e){return e._id!==a}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(Xe.useEffect)((function(){var e,t;if((null===L||void 0===L?void 0:L.loading)&&p(!0),null===L||void 0===L||null===(e=L.data)||void 0===e||null===(t=e.getExpenses)||void 0===t?void 0:t.data){var n=L.data.getExpenses.data;u(n),p(!1)}}),[L]);return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:r,theme:o,refresh:function(){null===L||void 0===L||L.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsx)(Zj,{setStart:h,setEnd:w,currentDate:N,currentDateChange:function(e){k({type:"setCurrentDate",payload:e})},currentViewName:A,currentViewNameChange:function(e){k({type:"setCurrentViewName",payload:e.target.value})},endDate:T,endDateChange:function(e){k({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:o}),Object(Fr.jsxs)(Od.c,{rows:d,columns:c,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:$,onSortingChange:function(e){k({type:"setSort",payload:e})}}),Object(Fr.jsx)(Au.d,{onCommitChanges:M}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-181,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["time"],formatterComponent:Hc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as}),Object(Fr.jsx)(Au.b,{for:["docNo","refNo"],formatterComponent:Kc}),Object(Fr.jsx)(Au.b,{for:["creditAcc"],formatterComponent:function(e){return Os(e,_,t)}}),Object(Fr.jsx)(Au.b,{for:["taskId"],formatterComponent:function(e){return ls(Object(bt.a)(Object(bt.a)({},e),{},{tasks:C}))}}),Object(Fr.jsx)(Au.b,{for:["debitAcc"],formatterComponent:function(e){return Os(e,_,t)}}),r&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:o,addAction:B,editAction:z,children:Object(Fr.jsx)(mb,{tasks:C})})]}),b&&Object(Fr.jsx)(Ll,{isRTL:t})]})})}var wp=function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.l.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))},Cp=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.05)}}}}),{name:"TableComponent"})(wp),Sp=Object(Nu.a)({},{name:"TableComponent"})(wp);function Ip(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.services,o=e.suppliers,i=e.categories,c=(e.brands,e.company),s=e.theme,l=e.isEditor,d=Object(Xe.useState)(null),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Object(Xe.useState)(null),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=Object(Xe.useState)([]),h=Object(nt.a)(f,2),y=h[0],x=h[1],g=Object(Xe.useState)([]),w=Object(nt.a)(g,2),C=w[0],S=w[1],I=Object(Xe.useState)(null),N=Object(nt.a)(I,2),A=N[0],T=N[1],$=Object(Xe.useState)(null),k=Object(nt.a)($,2),D=k[0],R=k[1],E=Is({isRTL:t,words:n}),L=Object(Xe.useState)([E.opTime,E.employee,E.service,E.department,E.category,E.supplier,E.opDocNo,E.amount]),_=Object(nt.a)(L,2),P=_[0],q=_[1],B=Object(Xe.useState)([E.opTime,E.employee,E.service,E.department,E.category,E.supplier,E.opDocNo,E.amount]),W=Object(nt.a)(B,1)[0],z=Object(Xe.useState)([{columnName:E.opTime.name,togglingEnabled:!1},{columnName:E.amount.name,togglingEnabled:!1}]),V=Object(nt.a)(z,1)[0],F=Object(Fd.a)(Jt,{fetchPolicy:"cache-and-network"}),M=Object(nt.a)(F,2),H=M[0],U=M[1],Q=Md().departments,G=Zd().employees,K=Object(Xe.useContext)(Wr),Y=K.state,J=Y.currentDate,X=Y.currentViewName,Z=Y.endDate,ee=Y.servicevalue,te=Y.departvalue,ne=Y.emplvalue,ae=Y.suppvalue,re=(Y.brandvalue,Y.catvalue),oe=Y.group,ie=Y.groupby,ce=Y.sumcolumn,se=Y.sort,le=K.dispatch,de=function(e){le({type:"setGroupby",payload:e})},ue=function(e){le({type:"setGroup",payload:e})};Object(Xe.useEffect)((function(){var e,t,n=(null===U||void 0===U||null===(e=U.data)||void 0===e||null===(t=e.getMonthlyReport)||void 0===t?void 0:t.data)||[],a=(null===n||void 0===n?void 0:n.length)>0?n.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{amount:ps(e)})})):[];if(x(a),oe){var r=nd({list:a,name:ce});R(r)}var o=0;a.forEach((function(e){return o+=e.amount})),T(o)}),[U]);var me=function(e){return e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e._id})):void 0};Object(Xe.useEffect)((function(){!function(){var e={accPCode:14,serviceIds:me(ee),categoryIds:me(re),departmentIds:me(te),employeeIds:me(ne),supplierIds:me(ae),start:m?m.setHours(0,0,0,0):void 0,end:O?O.setHours(23,59,59,999):(new Date).setHours(23,59,59,999)};H({variables:e})}()}),[m,O,oe,ie,ce]);var je=Object(Xe.useRef)(null),be=Object(Xe.useCallback)((function(){je.current.exportGrid()}),[je]),pe=function(e){var t=P.filter((function(t){return t.ref===e}));return!!(t&&t.length>0)};Object(Xe.useEffect)((function(){if(oe);else{var e=td.a.orderBy(y,[se[0].columnName],[se[0].direction]).map((function(e){return{opTime:pe("opTime")?e.opDocNo?Pc(e.opTime):" - ":void 0,opDocNo:pe("opDocNo")?e.opDocNo?e.opDocNo:" - ":void 0,employee:pe("employee")?e[E.employee.name]?e[E.employee.name]:" - ":void 0,service:pe("service")?e[E.service.name]?e[E.service.name]:" - ":void 0,department:pe("department")?e[E.department.name]?e[E.department.name]:" - ":void 0,category:pe("category")?e[E.category.name]?e[E.category.name]:" - ":void 0,supplier:pe("supplier")?e[E.supplier.name]?e[E.supplier.name]:" - ":void 0,amount:pe("amount")?e.amount?Zc(e.amount):" - ":void 0}}));S(e)}}),[P,y,se]);var Oe=[{columnName:E.opDocNo.name,type:"count"},{columnName:"amount",type:"sum"}],ve=[{columnName:ce}],fe=[{columnName:E.opDocNo.name,type:"count",alignByColumn:!0},{columnName:"amount",type:"sum",alignByColumn:!0}],he=Nc(t).filter((function(e){return 7!==e.id}));return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:l,theme:s,refresh:function(){null===U||void 0===U||U.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsx)(ua.a,{style:{position:"absolute",left:t?145:void 0,right:t?void 0:145,top:65,zIndex:100},children:Object(Fr.jsx)(Jr.a,{onClick:oe?function(){var e=[{name:t?"\u0627\u0644\u0627\u0633\u0645":"Name"},{name:t?"\u0627\u0644\u0639\u062f\u062f":"Count"},{name:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total"}],a=D.items.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{total:Zc(e.total)})})),r={isRTL:t,totl:n.total,totalamount:A?Zc(D.total):"",count:null===D||void 0===D?void 0:D.count,reportname:t?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a":"Sales Report",logo:c.logo,phone:c.tel1,mobile:c.mob,address:c.address,company:t?c.nameAr:c.name,start:m?Pc(m):"",end:O?Pc(O):"",color:"#b2e2be",now:qc(new Date)};Object(bt.a)({rows:a,cols:e},r)}:function(){var e=P.map((function(e){return{name:e.title}})),a=[];ne&&a.push({name:t?null===ne||void 0===ne?void 0:ne.nameAr:null===ne||void 0===ne?void 0:ne.name}),te&&a.push({name:t?null===te||void 0===te?void 0:te.nameAr:null===te||void 0===te?void 0:te.name}),ee&&a.push({name:t?null===ee||void 0===ee?void 0:ee.nameAr:null===ee||void 0===ee?void 0:ee.name}),re&&a.push({name:t?null===re||void 0===re?void 0:re.nameAr:null===re||void 0===re?void 0:re.name});var r={isRTL:t,totl:n.total,totalamount:A?Zc(A):"",reportname:t?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a":"Sales Report",logo:c.logo,phone:c.tel1,mobile:c.mob,address:c.address,company:t?c.nameAr:c.name,start:m?Pc(m):"",end:O?Pc(O):"",filters:a,color:"#b2e2be",now:qc(new Date)};Object(bt.a)({rows:C,cols:e},r)},title:"Print Report",size:"small",children:Object(Fr.jsx)(Vj.a,{})})}),Object(Fr.jsx)(Zj,{setStart:j,setEnd:v,currentDate:J,currentDateChange:function(e){le({type:"setCurrentDate",payload:e})},currentViewName:X,currentViewNameChange:function(e){le({type:"setCurrentViewName",payload:e.target.value})},endDate:Z,endDateChange:function(e){le({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:s}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{position:"absolute",left:t?200:void 0,right:t?void 0:200,top:65,height:38,zIndex:111,alignItems:"center",justifyContent:"flex-start",paddingLeft:20,paddingRight:20,marginTop:2},children:[Object(Fr.jsx)(Gj,{servicevalue:ee,setServicevalue:function(e){le({type:"setServicevalue",payload:e})},departvalue:te,setDepartvalue:function(e){le({type:"setDepartvalue",payload:e})},emplvalue:ne,setEmplvalue:function(e){le({type:"setEmplvalue",payload:e})},departments:Q,employees:G,services:r,customers:o,custvalue:ae,setCustvalue:function(e){le({type:"setSuppvalue",payload:e})},catvalue:re,setCatvalue:function(e){le({type:"setCatvalue",payload:e})},categories:i,words:n,isRTL:t}),Object(Fr.jsx)(Xj,{options:he,value:ie,onChange:function(e){var t;"none"===e.target.value?(ue(!1),de("none")):(ue(!0),de(e.target.value),t=E[e.target.value].name,le({type:"setSumcolumn",payload:t}))},isRTL:t})]}),Object(Fr.jsx)(Ql.a,{style:{height:window.innerHeight-85,overflow:"auto"},children:Object(Fr.jsxs)(Od.c,{rows:y,columns:W,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:se,onSortingChange:function(e){le({type:"setSort",payload:e})}}),oe&&Object(Fr.jsx)(Au.i,{grouping:ve}),Object(Fr.jsx)(Au.u,{totalItems:Oe,groupItems:fe}),oe&&Object(Fr.jsx)(Au.l,{}),Object(Fr.jsx)(Au.n,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,tableComponent:oe?Sp:Cp,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{columnExtensions:V,onHiddenColumnNamesChange:function(e){var t=Object(at.a)(W).filter((function(t){return!e.includes(t.name)}));t.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})),q(t)}}),Object(Fr.jsx)(Au.b,{for:["opTime"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.b,{startExport:be}),oe&&Object(Fr.jsx)(Od.h,{messages:{sum:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",count:t?"\u0627\u0644\u0639\u062f\u062f":"Count",sumOf:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",countOf:t?"\u0627\u0644\u0639\u062f\u062f":"Count"},showColumnsWhenGrouped:!0}),Object(Fr.jsx)(Od.j,{messages:{sum:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",count:t?"\u0627\u0644\u0639\u062f\u062f":"Count"}})]})}),Object(Fr.jsx)(Kj.a,{ref:je,rows:y,columns:W,onSave:function(e){e.xlsx.writeBuffer().then((function(e){var t=new Date,n="sales-report-".concat(qc(t));Jj()(new Blob([e],{type:"application/octet-stream"}),"".concat(n,".xlsx"))}))}})]})})}var Np=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.05)}}}}),{name:"TableComponent"})((function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.l.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))}));function Ap(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.mainaccounts,o=(e.company,e.theme),i=e.isEditor,c=null===r||void 0===r?void 0:r.filter((function(e){return 15===e.parentcode})),s=Object(Xe.useState)(null),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)(null),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)([]),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)([]),x=Object(nt.a)(y,2),g=(x[0],x[1]),w=Object(Xe.useState)(null),C=Object(nt.a)(w,2),S=C[0],I=C[1],N=Is({isRTL:t,words:n}),A=Object(Xe.useState)([N.opTime,N.opDocNo,N.acc,N.opAcc,N.taskId,N.desc,N.opType,N.amount]),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Object(Xe.useState)([N.opTime,N.opDocNo,N.acc,N.opAcc,N.taskId,N.desc,N.opType,N.amount]),R=Object(nt.a)(D,1)[0],E=Object(Xe.useState)([{columnName:N.opTime.name,togglingEnabled:!1},{columnName:N.amount.name,togglingEnabled:!1}]),L=Object(nt.a)(E,1)[0],_=Object(Fd.a)(Jt,{fetchPolicy:"cache-and-network"}),P=Object(nt.a)(_,2),q=P[0],B=P[1],W=Object(Xe.useContext)(Cr),z=W.state,V=z.currentDate,F=z.currentViewName,M=z.endDate,H=z.servicevalue,U=z.departvalue,Q=z.emplvalue,G=z.custvalue,K=z.catvalue,Y=z.accvalue,J=z.taskvalue,X=z.group,Z=z.groupby,ee=z.sumcolumn,te=z.sort,ne=W.dispatch,ae=tm().tasks;Object(Xe.useEffect)((function(){var e,t,n,a,r=(null===B||void 0===B||null===(e=B.data)||void 0===e||null===(t=e.getMonthlyReport)||void 0===t?void 0:t.data)||[],o=(null===B||void 0===B||null===(n=B.data)||void 0===n||null===(a=n.getMonthlyReport)||void 0===a?void 0:a.message)||null,i=o?Number(o):null,c=(null===r||void 0===r?void 0:r.length)>0?r.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{amount:ps(e)})})):[];i&&c.unshift({_id:Date.now(),accNameAr:"\u0631\u0635\u064a\u062f \u0627\u0641\u062a\u062a\u0627\u062d\u064a",accName:"Opening Balancee",amount:i}),h(c);var s=0;c.forEach((function(e){return s+=e.amount})),I(s)}),[B]);var re=function(e){return e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e._id})):void 0};Object(Xe.useEffect)((function(){!function(){var e,t={accPCode:15,accountIds:re(Y),serviceIds:re(H),categoryIds:re(K),departmentIds:re(U),employeeIds:re(Q),customerIds:re(G),taskIds:(e=J,e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e.id})):void 0),start:d?d.setHours(0,0,0,0):void 0,end:b?b.setHours(23,59,59,999):(new Date).setHours(23,59,59,999)};q({variables:t})}()}),[d,b,X,Z,ee]);var oe=Object(Xe.useRef)(null),ie=Object(Xe.useCallback)((function(){oe.current.exportGrid()}),[oe]),ce=function(e){var t=$.filter((function(t){return t.ref===e}));return!!(t&&t.length>0)};Object(Xe.useEffect)((function(){var e=td.a.orderBy(f,[te[0].columnName],[te[0].direction]).map((function(e){return{opTime:ce("opTime")?Pc(e.opTime):void 0,opDocNo:ce("opDocNo")?e.opDocNo:void 0,employee:ce("employee")?e[N.employee.name]:void 0,service:ce("service")?e[N.service.name]:void 0,department:ce("department")?e[N.department.name]:void 0,category:ce("category")?e[N.category.name]:void 0,customer:ce("customer")?e[N.customer.name]:void 0,amount:ce("amount")?Zc(e.amount):void 0}}));g(e)}),[$,f,te]);var se=[{columnName:ee,type:"count"},{columnName:N.category.name,type:"count"},{columnName:"amount",type:"sum"}],le=[{columnName:ee}],de=[{columnName:N.category.name,type:"count",alignByColumn:!0},{columnName:"amount",type:"sum",alignByColumn:!0},{columnName:N.category.name,type:"count",showInGroupFooter:!0},{columnName:"amount",type:"sum",showInGroupFooter:!0}];return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:i,theme:o,refresh:function(){null===B||void 0===B||B.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsx)(Zj,{setStart:u,setEnd:p,currentDate:V,currentDateChange:function(e){ne({type:"setCurrentDate",payload:e})},currentViewName:F,currentViewNameChange:function(e){ne({type:"setCurrentViewName",payload:e.target.value})},endDate:M,endDateChange:function(e){ne({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:o}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{position:"absolute",left:t?200:void 0,right:t?void 0:200,top:65,height:38,zIndex:111,alignItems:"center",justifyContent:"flex-start",paddingLeft:20,paddingRight:20,marginTop:8},children:[Object(Fr.jsx)(ua.a,{style:{marginLeft:10,marginRight:10},children:Object(Fr.jsx)(cp,{options:ae,value:null===J||void 0===J?void 0:J[0],setValue:function(e){ne({type:"setTaskvalue",payload:e?[e]:[]})},words:n,isRTL:t,name:"task",nomulti:!0,width:300})}),Object(Fr.jsx)(cp,{options:c,value:null===Y||void 0===Y?void 0:Y[0],setValue:function(e){ne({type:"setAccvalue",payload:e?[e]:[]})},words:n,isRTL:t,name:"account",nomulti:!0,width:300}),Object(Fr.jsx)(ua.a,{style:{minWidth:120,marginRight:t?20:void 0,marginLeft:t?void 0:20},children:Object(Fr.jsx)(la.a,{variant:"subtitle1",style:{fontWeight:"bold"},children:as({value:S})})})]}),Object(Fr.jsx)(Ql.a,{style:{height:window.innerHeight-133,overflow:"auto"},children:Object(Fr.jsxs)(Od.c,{rows:f,columns:R,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:te,onSortingChange:function(e){ne({type:"setSort",payload:e})}}),X&&Object(Fr.jsx)(Au.i,{grouping:le}),Object(Fr.jsx)(Au.u,{totalItems:se,groupItems:de}),X&&Object(Fr.jsx)(Au.l,{}),Object(Fr.jsx)(Au.n,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-181,tableComponent:Np,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{columnExtensions:L,onHiddenColumnNamesChange:function(e){var t=Object(at.a)(R).filter((function(t){return!e.includes(t.name)}));t.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})),k(t)}}),Object(Fr.jsx)(Au.b,{for:["opTime"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as}),Object(Fr.jsx)(Au.b,{for:["opType"],formatterComponent:js}),Object(Fr.jsx)(Au.b,{for:["taskId"],formatterComponent:function(e){return ls(Object(bt.a)(Object(bt.a)({},e),{},{tasks:ae}))}}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.b,{startExport:ie}),X&&Object(Fr.jsx)(Od.h,{showColumnsWhenGrouped:!0}),X&&Object(Fr.jsx)(Od.j,{messages:{sum:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",count:t?"\u0627\u0644\u0639\u062f\u062f":"Count"}})]})}),Object(Fr.jsx)(Kj.a,{ref:oe,rows:f,columns:R,onSave:function(e){e.xlsx.writeBuffer().then((function(e){var t=new Date,n="finance-report-".concat(qc(t));Jj()(new Blob([e],{type:"application/octet-stream"}),"".concat(n,".xlsx"))}))}})]})})}var Tp=function(e){var t=e.open,n=e.onClose,a=e.row,o=e.isNew,i=e.setNewValue,c=e.addAction,s=e.editAction,l=e.newtext,d=e.theme,u=e.resKind,m=e.resType,j=Object(Xe.useState)(!1),b=Object(nt.a)(j,2),p=b[0],O=b[1],v=Object(Xe.useState)({show:!1,msg:"",type:void 0}),f=Object(nt.a)(v,2),h=f[0],y=f[1],x=Object(Xe.useState)(null),g=Object(nt.a)(x,2),w=g[0],C=g[1],S=Object(Xe.useState)(!1),I=Object(nt.a)(S,2),N=I[0],A=I[1],T=Object(Xe.useState)("#000000"),$=Object(nt.a)(T,2),k=$[0],D=$[1],R=Ze.a.useRef(),E=Object(na.c)(r.emppResolver),L=E.register,_=E.handleSubmit,P=E.errors,q=E.reset,B=Object(Xe.useContext)(Rr),W=B.translate,z=W.words,V=W.isRTL,F=B.store.user,M=Md().departments;Object(Xe.useEffect)((function(){if(a&&a._id){var e=a.departmentId,t=M.filter((function(t){return t._id===e}))[0];C(t),D(a.color)}}),[a]);var H=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,r,i,l,d;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0),n=t.name.trim(),r=t.nameAr.trim(),i=t.info,l=w?{departmentId:w._id,departmentName:w.name,departmentNameAr:w.nameAr,departmentColor:w.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},d={_id:a&&a._id?a._id:void 0,name:n,nameAr:r,resKind:u,resType:m,color:k,info:i,department:l,branch:F.branch,userId:F._id},U(o?c:s,o?"createEmployee":"updateEmployee",d);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n,a){var r,o;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({variables:a});case 3:return r=e.sent,o=Js(r,n),i&&o&&i(o,"employee"),O(!1),e.next=9,Fs(y,V);case 9:K(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Q(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(y,V);case 3:e.next=9;break;case 5:return e.next=7,Hs(y,V);case 7:G(),console.log(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){q(),C(null),D("#000000")},K=function(){n(),G()},Y=V?o?"\u0627\u0636\u0627\u0641\u0629 \u0645\u0648\u0631\u062f":"\u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0645\u0648\u0631\u062f":o?"New Resourse":"Edit Resourse";return Object(Fr.jsx)(pu,{isRTL:V,open:t,onClose:K,title:Y,onSubmit:function(){_(H)()},theme:d,alrt:h,mb:50,saving:p,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:10,children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{required:!0,autoFocus:!0,name:"nameAr",label:z.name,register:L,errors:P,row:a,fullWidth:!0,margin:20,mb:10})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:6,children:Object(Fr.jsx)(xd,{required:!0,name:"name",label:z.nameEn,register:L,errors:P,row:a,fullWidth:!0,newtext:l,margin:20,mb:10})})]}),Object(Fr.jsxs)(Ze.a.Fragment,{children:[Object(Fr.jsx)(fu,{name:"department",title:z.department,words:z,options:M.filter((function(e){return e.depType===m})),value:w,setSelectValue:C,setSelectError:A,selectError:N,refernce:R,register:L,isRTL:V,fullWidth:!0,mb:20}),Object(Fr.jsx)(xd,{name:"info",label:z.info,register:L,errors:P,row:a,fullWidth:!0,multiline:!0,rowsMax:4,rows:4}),Object(Fr.jsx)(Gl.a,{container:!0,spacing:0,children:Object(Fr.jsxs)(Gl.a,{item:!0,xs:6,children:[Object(Fr.jsx)(da.a,{disabled:!0,name:"color",value:(null===a||void 0===a?void 0:a.color)?a.color:k,variant:"outlined",style:{width:200,backgroundColor:k},InputProps:{style:{borderRadius:5,color:"#fff"}},margin:"dense"}),Object(Fr.jsx)(Ml,{setColor:D,color:k})]})})]})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:1})]})})};function $p(e){var t=e.isRTL,n=e.words,a=e.isEditor,r=e.theme,o=e.menuitem,i=Object(Xe.useState)(!1),c=Object(nt.a)(i,2),s=c[0],l=c[1],d=Object(Xe.useState)({show:!1,msg:"",type:void 0}),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Object(Xe.useState)([{name:t?"nameAr":"name",title:n.name},{name:"avatar",title:n.color},{name:t?"departmentNameAr":"departmentName",title:n.department},{name:"info",title:n.info}]),p=Object(nt.a)(b,1)[0],O=function(){var e,t,n="ar"===Gn("store").lang,a=Object(Fd.a)(Pt,{variables:{isRTL:n,resKind:2,resType:2}}),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(ta.a)(on,{refetchQueries:[{query:Pt,variables:{isRTL:n,resKind:2,resType:2}},{query:Pt,variables:{isRTL:n}}]}),s=Object(nt.a)(c,1)[0],l=Object(ta.a)(sn,{refetchQueries:[{query:Pt,variables:{isRTL:n,resKind:2,resType:2}},{query:Pt,variables:{isRTL:n}}]}),d=Object(nt.a)(l,1)[0],u=Object(ta.a)(cn,{refetchQueries:[{query:Pt,variables:{isRTL:n,resKind:2,resType:2}},{query:Pt,variables:{isRTL:n}}]}),m=Object(nt.a)(u,1)[0];return Object(Xe.useEffect)((function(){o()}),[o]),{employees:(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.getEmployees)||void 0===t?void 0:t.data)||[],refreshemployee:function(){return null===i||void 0===i?void 0:i.refetch()},addEmployee:s,editEmployee:d,removeEmployee:m}}(),v=O.employees,f=O.addEmployee,h=O.editEmployee,y=O.removeEmployee,x=O.refreshemployee,g=function(){var e=Object(ea.a)(Zn.a.mark((function e(n){var a,r,o,i,c,s,d;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.deleted)){e.next=16;break}return i=a[0],l(!0),e.next=6,y({variables:{_id:i}});case 6:if(!1!==(null===(c=e.sent)||void 0===c||null===(r=c.data)||void 0===r||null===(o=r.deleteEmployee)||void 0===o?void 0:o.ok)){e.next=15;break}if(!(null===c||void 0===c||null===(s=c.data)||void 0===s||null===(d=s.deleteEmployee)||void 0===d?void 0:d.error.includes("related"))){e.next=13;break}return e.next=11,Gs(j,t);case 11:e.next=15;break;case 13:return e.next=15,Hs(j,t);case 15:l(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsx)(Gd,{menuitem:o,isRTL:t,words:n,isEditor:a,theme:r,refresh:x,children:Object(Fr.jsxs)(Ql.a,{children:[s&&Object(Fr.jsx)(Ll,{isRTL:t}),Object(Fr.jsxs)(Od.c,{rows:v,columns:p,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:g}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["avatar"],formatterComponent:Ec}),Object(Fr.jsx)(Au.b,{for:["color"],formatterComponent:Dc}),Object(Fr.jsx)(Au.b,{for:["daysoff"],formatterComponent:function(e){return Rc(Object(bt.a)(Object(bt.a)({},e),{},{isRTL:t}))}}),a&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:r,addAction:f,editAction:h,children:Object(Fr.jsx)(Tp,{resKind:2,resType:2})})]}),m.show&&Object(Fr.jsx)(fd,{isRTL:t,type:null===m||void 0===m?void 0:m.type,msg:null===m||void 0===m?void 0:m.msg,top:!0})]})})}function kp(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.isEditor,o=e.theme,i=Object(Xe.useState)([{name:"time",title:n.time},{name:"creditAcc",title:n.customer},{name:"debitAcc",title:t?"\u062d\u0633\u0627\u0628 \u0627\u0644\u0642\u0628\u0636":"Receipt Acc"},{name:"desc",title:n.description},{name:"docNo",title:n.no},{name:"amount",title:n.amount}]),c=Object(nt.a)(i,1)[0],s=Object(Xe.useState)([]),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)(!1),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)(null),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)(null),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=tm().tasks,S=Object(Xe.useContext)(xr),I=S.state,N=I.currentDate,A=I.currentViewName,T=I.endDate,$=I.sort,k=S.dispatch,D=Object(Fd.a)(sb,{fetchPolicy:"cache-and-network"}),R=Object(nt.a)(D,2),E=R[0],L=R[1],_=cb().accounts,P={refetchQueries:[{query:sb,variables:{start:f?f.setHours(0,0,0,0):void 0,end:g?g.setHours(23,59,59,999):void 0}},{query:Xt},{query:Ft},{query:em},{query:qt},{query:Pt},{query:_t}]};Object(Xe.useEffect)((function(){var e={start:f?f.setHours(0,0,0,0):void 0,end:g?g.setHours(23,59,59,999):void 0};E({variables:e})}),[f,g]);var q=Object(ta.a)(xn,P),B=Object(nt.a)(q,1)[0],W=Object(ta.a)(wn,P),z=Object(nt.a)(W,1)[0],V=Object(ta.a)(gn,P),F=Object(nt.a)(V,1)[0],M=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.deleted)&&(a=n[0],F({variables:{_id:a}}),u(d.filter((function(e){return e._id!==a}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(Xe.useEffect)((function(){var e,t;if((null===L||void 0===L?void 0:L.loading)&&p(!0),null===L||void 0===L||null===(e=L.data)||void 0===e||null===(t=e.getReceipts)||void 0===t?void 0:t.data){var n=L.data.getReceipts.data;u(n),p(!1)}}),[L]);return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:r,theme:o,refresh:function(){null===L||void 0===L||L.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsx)(Zj,{setStart:h,setEnd:w,currentDate:N,currentDateChange:function(e){k({type:"setCurrentDate",payload:e})},currentViewName:A,currentViewNameChange:function(e){k({type:"setCurrentViewName",payload:e.target.value})},endDate:T,endDateChange:function(e){k({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:o}),Object(Fr.jsxs)(Od.c,{rows:d,columns:c,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:$,onSortingChange:function(e){k({type:"setSort",payload:e})}}),Object(Fr.jsx)(Au.d,{onCommitChanges:M}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-181,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["time"],formatterComponent:Hc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as}),Object(Fr.jsx)(Au.b,{for:["docNo","refNo"],formatterComponent:Kc}),Object(Fr.jsx)(Au.b,{for:["creditAcc"],formatterComponent:function(e){return vs(e,_,t)}}),Object(Fr.jsx)(Au.b,{for:["debitAcc"],formatterComponent:function(e){return Os(e,_,t)}}),r&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:o,addAction:B,editAction:z,children:Object(Fr.jsx)(db,{tasks:C})})]}),b&&Object(Fr.jsx)(Ll,{isRTL:t})]})})}var Dp,Rp=function(e){return e.index},Ep=function(e){return Object(Fr.jsx)(Au.b,Object(bt.a)({formatterComponent:function(e){var t=e.value;return Object(Fr.jsx)(la.a,{variant:"subtitle2",children:Number(t)+1})}},e))},Lp=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.1)}}}}),{name:"TableComponent"})((function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.e.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))}));function _p(e){var t=e.rows,n=e.removeItem,a=e.isRTL,r=e.words,o=e.accounts,i=Object(Xe.useState)([{name:"index",title:r.no},{name:"debitAcc",title:r.to},{name:"creditAcc",title:r.from},{name:"desc",title:r.description},{name:"amount",title:r.amount}]),c=Object(nt.a)(i,1)[0],s=Object(Xe.useState)([{columnName:"index",width:"10%",align:"left"},{columnName:"debitAcc",width:"20%",align:"left"},{columnName:"creditAcc",width:"20%",align:"left"},{columnName:"desc",width:"auto"},{columnName:"amount",width:"15%",align:"right"}]),l=Object(nt.a)(s,1)[0],d=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var a,r;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t.deleted)&&(r=a[0],n(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsx)(Ql.a,{style:{maxHeight:265,overflow:"auto",margin:10,minHeight:265},children:t&&Object(Fr.jsxs)(Od.c,{rows:t,columns:c,getRowId:Rp,children:[Object(Fr.jsx)(Au.d,{onCommitChanges:d}),Object(Fr.jsx)(Od.e,{noDataCellComponent:function(){return Object(Fr.jsx)(ua.a,{display:"flex"})},columnExtensions:l,tableComponent:Lp}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as}),Object(Fr.jsx)(Ep,{for:["index"]}),Object(Fr.jsx)(Au.b,{for:["debitAcc","creditAcc"],formatterComponent:function(e){return Os(e,o,a)}}),Object(Fr.jsx)(Od.g,{showDeleteCommand:!0,commandComponent:Du}),Object(Fr.jsx)(Od.i,{})]})})}var Pp=Object(Lt.a)(Dp||(Dp=Object(Et.a)(["\n  query getOperationKaids($opId: String) {\n    getOperationKaids(opId: $opId) {\n      ok\n      error\n      count\n      data {\n        _id\n        branch\n        opType\n        opTime\n        opDocNo\n        desc\n\n        refNo\n        refType\n\n        amount\n\n        shareId\n        accId\n        accCode\n        accType\n        accName\n        accNameAr\n        opaccId\n        opaccCode\n        opaccType\n        opaccName\n        opaccNameAr\n        kaidType\n        amount\n        debit\n        credit\n\n        userId\n        note\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),qp=function(e){return e.map((function(e,t){return Object(bt.a)(Object(bt.a)({},e),{},{index:t})}))},Bp=function(e){var t=e.open,n=e.onClose,a=e.row,r=e.isNew,o=e.addAction,i=e.editAction,c=e.theme,s=Object(Xe.useState)(!1),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)({show:!1,msg:"",type:void 0}),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Ze.a.useState(new Date),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Ze.a.useState([]),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Ze.a.useState([]),S=Object(nt.a)(C,2),I=S[0],N=S[1],A=Ze.a.useState(0),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Ze.a.useState(""),R=Object(nt.a)(D,2),E=R[0],L=R[1],_=Ze.a.useState(null),P=Object(nt.a)(_,2),q=P[0],B=P[1],W=Ze.a.useState(null),z=Object(nt.a)(W,2),V=z[0],F=z[1],M=Ze.a.useRef(),H=Object(Xe.useState)([]),U=Object(nt.a)(H,2),Q=U[0],G=U[1],K=Object(Xe.useState)(null),Y=Object(nt.a)(K,2),J=Y[0],X=Y[1],Z=Object(Xe.useState)(!1),ee=Object(nt.a)(Z,2),te=ee[0],ne=ee[1],ae=Ze.a.useRef(),re=Object(Xe.useState)(null),oe=Object(nt.a)(re,2),ie=oe[0],ce=oe[1],se=Object(Xe.useState)(!1),le=Object(nt.a)(se,2),de=le[0],ue=le[1],me=Ze.a.useRef(),je=Object(Xe.useState)(null),be=Object(nt.a)(je,2),pe=be[0],Oe=be[1],ve=Object(Xe.useState)([]),fe=Object(nt.a)(ve,2),he=fe[0],ye=fe[1],xe=Object(Xe.useState)(""),ge=Object(nt.a)(xe,2),we=ge[0],Ce=ge[1],Se=Object(Xe.useContext)(Rr),Ie=Se.translate,Ne=Ie.words,Ae=Ie.isRTL,Te=Se.store.user,$e=Object(Fd.a)(Pp,{fetchPolicy:"cache-and-network"}),ke=Object(nt.a)($e,2),De=ke[0],Re=ke[1],Ee=cb().accounts,Le=Md().departments,_e=Zd().employees;Object(Xe.useEffect)((function(){if(_e&&_e.length>0){var e=_e.filter((function(e){return e.resKind===pe&&1===e.resType}));ye(e)}}),[pe,_e]),Object(Xe.useEffect)((function(){if(r&&ie&&(null===ie||void 0===ie?void 0:ie.departmentId)){var e,t=null===(e=Le.filter((function(e){return e._id===(null===ie||void 0===ie?void 0:ie.departmentId)})))||void 0===e?void 0:e[0];X(t)}}),[ie]),Object(Xe.useEffect)((function(){var e,t,n=(null===Re||void 0===Re||null===(e=Re.data)||void 0===e||null===(t=e.getOperationKaids)||void 0===t?void 0:t.data)||[];if(n&&n.length>0){var a=td()(n).groupBy("shareId").map((function(e,t,n){var a,r,o,i,c,s,l,d=null===(a=e.filter((function(e){return e.debit})))||void 0===a||null===(r=a[0])||void 0===r?void 0:r.accCode,u=null===(o=e.filter((function(e){return e.credit})))||void 0===o||null===(i=o[0])||void 0===i?void 0:i.accCode,m=null===(c=e[0])||void 0===c?void 0:c.amount,j=null===(s=e[0])||void 0===s?void 0:s.desc;return{time:null===(l=e[0])||void 0===l?void 0:l.opTime,debitAcc:d,creditAcc:u,amount:m,desc:j,branch:Te.branch,userId:Te._id}})).value(),r=qp(a);G(r),u(!1)}}),[Re]),Object(Xe.useEffect)((function(){w(Ee),N(Ee)}),[t]),Object(Xe.useEffect)((function(){if(a&&a._id){u(!0);var e={opId:a._id};De({variables:e}),Ce(a.desc),Fe(a.time)}}),[a]);var Pe=function(){var e=Object(ea.a)(Zn.a.mark((function e(){var t,n,a;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q&&V){e.next=4;break}return e.next=3,Ks(p,Ae?"\u064a\u062c\u0628 \u062a\u062d\u062f\u064a\u062f \u0643\u0644\u0627 \u0627\u0644\u062d\u0633\u0627\u0628\u064a\u0646":"You have to select both accounts");case 3:return e.abrupt("return");case 4:if(q!==V){e.next=8;break}return e.next=7,Ks(p,Ae?"\u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a \u064a\u062c\u0628 \u0627\u0646 \u062a\u0643\u0648\u0646 \u0645\u062e\u062a\u0644\u0641\u0629":"The accounts must be deferent");case 7:return e.abrupt("return");case 8:t={time:f,debitAcc:q.code,creditAcc:V.code,amount:$,desc:E,branch:Te.branch,userId:Te._id},n=[].concat(Object(at.a)(Q),[Object(bt.a)(Object(bt.a)({},t),{},{userId:Te._id})]),a=qp(n),G(a),ze(),M.current.focus();case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(ea.a)(Zn.a.mark((function e(){var t,n,c,s,l,d;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=hs(),n=t.startPeriod,c=t.endPeriod,!(f<n||f>c)){e.next=5;break}return e.next=4,Ks(p,Ae?"\u064a\u062c\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date should be change");case 4:return e.abrupt("return");case 5:if(Q&&0!==Q.length){e.next=9;break}return e.next=8,Ks(p,Ae?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0642\u064a\u0648\u062f \u0644\u062d\u0641\u0638\u0647\u0627":"No Items to be saved");case 8:return e.abrupt("return");case 9:s=J?{departmentId:J._id,departmentName:J.name,departmentNameAr:J.nameAr,departmentColor:J.color}:{departmentId:void 0,departmentName:void 0,departmentNameAr:void 0,departmentColor:void 0},l=ie?{employeeId:ie._id,employeeName:ie.name,employeeNameAr:ie.nameAr,employeeColor:ie.color}:{employeeId:void 0,employeeName:void 0,employeeNameAr:void 0,employeeColor:void 0},d={_id:a&&a._id?a._id:void 0,opType:tr.kaid,time:f,items:JSON.stringify(Q),department:s,employee:l,desc:we,branch:Te.branch,userId:Te._id},Be(r?o:i,d);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(ea.a)(Zn.a.mark((function e(t,n){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({variables:n}),Ve()}catch(a){We(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),We=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message.includes("duplicate")){e.next=5;break}return e.next=3,Ms(p,Ae);case 3:e.next=8;break;case 5:return e.next=7,Hs(p,Ae);case 7:console.log(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){k(0),L(""),F(null),B(null)},Ve=function(){ze(),w([]),N([]),G([]),X(null),ne(!1),ce(null),ue(!1),Oe(null),ye([]),Ce(""),n()},Fe=function(e){h(e)};return Object(Fr.jsx)(pu,{isRTL:Ae,open:t,onClose:Ve,title:Ne.generalkaid,onSubmit:qe,theme:c,alrt:b,mt:10,maxWidth:"md",children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:2,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:1}),Object(Fr.jsxs)(Gl.a,{item:!0,xs:10,children:[Object(Fr.jsx)(yd,{isRTL:Ae,label:Ne.time,value:f,onChange:Fe}),Object(Fr.jsx)(xd,{name:"maindesc",label:Ne.description,value:we,onChange:function(e){return Ce(e.target.value)},row:a,fullWidth:!0,multiline:!0,rowsMax:2,rows:2}),Object(Fr.jsxs)(Gl.a,{style:{backgroundColor:"#f4f4f4",padding:15,borderRadius:10},container:!0,spacing:1,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:1,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(fu,{name:"debitAcc",title:Ne.to,words:Ne,options:g,value:q,setSelectValue:B,isRTL:Ae,fullwidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(fu,{name:"creditAcc",title:Ne.from,words:Ne,options:I,value:V,setSelectValue:F,isRTL:Ae,fullwidth:!0,refernce:M,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(xd,{required:!0,name:"amount",label:Ne.amount,value:$,onChange:function(e){return k(Number(e.target.value))},row:a,type:"number",fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:8,children:Object(Fr.jsx)(ua.a,{style:{marginRight:10,marginTop:0,marginBottom:0},children:Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:pe,onChange:function(e){Oe(Number(e.target.value)),ce(null)},children:[Object(Fr.jsx)(ql.a,{value:1,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:Ae?"\u0627\u0644\u0645\u0648\u0638\u0641":"Employee"}),Object(Fr.jsx)(ql.a,{value:2,control:Object(Fr.jsx)(su.a,{style:{padding:0,margin:0},color:"primary"}),label:Ae?"\u0627\u0644\u0645\u0648\u0631\u062f":"Resourse"})]})})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4}),Object(Fr.jsx)(Gl.a,{item:!0,xs:8,children:Object(Fr.jsx)(fu,{name:"employee",title:1===pe?Ne.employee:Ne.resourses,disabled:!pe,words:Ne,options:he,value:ie,setSelectValue:ce,setSelectError:ue,selectError:de,refernce:me,isRTL:Ae,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(fu,{name:"department",title:Ne.department,words:Ne,options:Le,value:J,setSelectValue:X,setSelectError:ne,selectError:te,refernce:ae,isRTL:Ae,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:8,children:Object(Fr.jsx)(xd,{name:"desc",label:Ne.description,value:E,onChange:function(e){return L(e.target.value)},row:a,fullWidth:!0,mb:0})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:4,children:Object(Fr.jsx)(bi.a,{style:{marginLeft:10,marginTop:7},color:"primary",size:"small",onClick:Pe,title:"Create new row",children:Object(Fr.jsx)(li.a,{})})})]})}),Object(Fr.jsx)(_p,{rows:Q,editItem:function(e){var t=Q.map((function(t){return t._id===e._id?e:t})),n=qp(t);G(n)},removeItem:function(e){var t=Object(at.a)(Q);t.splice(e,1);var n=qp(t);G(n)},isRTL:Ae,words:Ne,user:Te,accounts:Ee}),d&&Object(Fr.jsx)(Hu,{})]})]}),Object(Fr.jsx)(Gl.a,{item:!0,xs:1})]})})};function Wp(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.isEditor,o=e.theme,i=Object(Xe.useState)([{name:"time",title:n.time},{name:"docNo",title:n.no},{name:"desc",title:n.description},{name:"opType",title:n.type},{name:"amount",title:n.amount}]),c=Object(nt.a)(i,1)[0],s=Object(Xe.useState)([]),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)(!1),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)(null),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)(null),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Object(Xe.useContext)(fr),S=C.state,I=S.currentDate,N=S.currentViewName,A=S.endDate,T=S.sort,$=C.dispatch,k=Object(Fd.a)(Qt,{fetchPolicy:"cache-and-network"}),D=Object(nt.a)(k,2),R=D[0],E=D[1],L=cb().accounts,_={refetchQueries:[{query:Qt,variables:{start:f?f.setHours(0,0,0,0):void 0,end:g?g.setHours(23,59,59,999):void 0}},{query:Xt},{query:Ft},{query:em},{query:qt},{query:Pt},{query:_t}]};Object(Xe.useEffect)((function(){var e={start:f?f.setHours(0,0,0,0):void 0,end:g?g.setHours(23,59,59,999):void 0};R({variables:e})}),[f,g]);var P=Object(ta.a)(Cn,_),q=Object(nt.a)(P,1)[0],B=Object(ta.a)(In,_),W=Object(nt.a)(B,1)[0],z=Object(ta.a)(Sn,_),V=Object(nt.a)(z,1)[0],F=function(){var e=Object(ea.a)(Zn.a.mark((function e(t){var n,a;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.deleted)&&(a=n[0],V({variables:{_id:a}}),u(d.filter((function(e){return e._id!==a}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(Xe.useEffect)((function(){var e,t;if((null===E||void 0===E?void 0:E.loading)&&p(!0),null===E||void 0===E||null===(e=E.data)||void 0===e||null===(t=e.getGeneralFinances)||void 0===t?void 0:t.data){var n=E.data.getGeneralFinances.data;u(n),p(!1)}}),[E]);return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:r,theme:o,refresh:function(){null===E||void 0===E||E.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsx)(Zj,{setStart:h,setEnd:w,currentDate:I,currentDateChange:function(e){$({type:"setCurrentDate",payload:e})},currentViewName:N,currentViewNameChange:function(e){$({type:"setCurrentViewName",payload:e.target.value})},endDate:A,endDateChange:function(e){$({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:o}),Object(Fr.jsxs)(Od.c,{rows:d,columns:c,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:T,onSortingChange:function(e){$({type:"setSort",payload:e})}}),Object(Fr.jsx)(Au.d,{onCommitChanges:F}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-181,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Au.b,{for:["time"],formatterComponent:Hc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as}),Object(Fr.jsx)(Au.b,{for:["opType"],formatterComponent:js}),Object(Fr.jsx)(Au.b,{for:["docNo","refNo"],formatterComponent:Kc}),Object(Fr.jsx)(Au.b,{for:["creditAcc"],formatterComponent:function(e){return vs(e,L,t)}}),Object(Fr.jsx)(Au.b,{for:["debitAcc"],formatterComponent:function(e){return Os(e,L,t)}}),r&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:o,addAction:q,editAction:W,children:Object(Fr.jsx)(Bp,{})})]}),b&&Object(Fr.jsx)(Ll,{isRTL:t})]})})}var zp=Object(Xe.createContext)({}),Vp=n(84);n(899),n(900);var Fp=function(e){var t=e.onViewModeChange,n=e.onViewListChange,a=e.isChecked,r=e.isRTL,o=e.view;return Object(Fr.jsxs)("div",{className:"ViewContainer",children:[Object(Fr.jsx)("button",{style:{backgroundColor:o===Vp.b.Day?"#2196f3":void 0,fontWeight:"bold",color:o===Vp.b.Day?"#fff":void 0},className:"Button",onClick:function(){return t(Vp.b.Day)},children:r?"\u064a\u0648\u0645":"Day"}),Object(Fr.jsx)("button",{className:"Button",style:{backgroundColor:o===Vp.b.Week?"#2196f3":void 0,fontWeight:"bold",color:o===Vp.b.Week?"#fff":void 0},onClick:function(){return t(Vp.b.Week)},children:r?"\u0627\u0633\u0628\u0648\u0639":"Week"}),Object(Fr.jsx)("button",{style:{backgroundColor:o===Vp.b.Month?"#2196f3":void 0,fontWeight:"bold",color:o===Vp.b.Month?"#fff":void 0},className:"Button",onClick:function(){return t(Vp.b.Month)},children:r?"\u0634\u0647\u0631":"Month"}),Object(Fr.jsxs)("div",{style:{fontWeight:"bold"},className:"Switch",children:[Object(Fr.jsxs)("label",{className:"Switch_Toggle",children:[Object(Fr.jsx)("input",{type:"checkbox",defaultChecked:a,onClick:function(){return n(!a)}}),Object(Fr.jsx)("span",{className:"Slider"})]}),r?"\u0627\u0638\u0647\u0627\u0631 \u0627\u0644\u0639\u0646\u0627\u0648\u064a\u0646":"Show Task List"]})]})};var Mp=function(e){var t=e.open,n=e.onClose,a=e.theme,r=e.tasks,o=e.isRTL,i=Object(Xe.useState)([]),c=Object(nt.a)(i,2),s=c[0],l=c[1],d=Object(Xe.useState)(Vp.b.Day),u=Object(nt.a)(d,2),m=u[0],j=u[1],b=Object(Xe.useState)(!1),p=Object(nt.a)(b,2),O=p[0],v=p[1],f=60;m===Vp.b.Month?f=300:m===Vp.b.Week&&(f=250),Object(Xe.useEffect)((function(){if(r&&r.length>0){var e=r.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{start:new Date(e.start),end:new Date(e.end),name:e.title})}));l(e)}}),[t]);var h=o?"\u062c\u062f\u0648\u0644 \u0627\u0644\u0645\u0647\u0645\u0627\u062a":"Tasks View";return Object(Fr.jsx)(pu,{isRTL:o,open:t,onClose:function(){n()},title:h,onSubmit:function(){return null},theme:a,onlyclose:!0,alrt:{},maxWidth:"xx",children:Object(Fr.jsx)(Gl.a,{container:!0,spacing:0,children:Object(Fr.jsx)(Gl.a,{item:!0,xs:12,children:Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#fff",direction:"ltr"},children:[Object(Fr.jsx)(Fp,{onViewModeChange:function(e){return j(e)},onViewListChange:v,isChecked:O,isRTL:o,view:m}),Object(Fr.jsx)("h2",{style:{textAlign:"center"},children:o?"\u062c\u062f\u0648\u0644 \u0627\u0644\u0645\u0647\u0645\u0627\u062a":"Task View"}),Object(Fr.jsx)(Vp.a,{tasks:s,viewMode:m,locale:"ar",listCellWidth:O?"155px":"",ganttHeight:500,columnWidth:f,barProgressColor:"#58ac58",barBackgroundColor:"#bbb",barProgressSelectedColor:"#58ac58",todayColor:"#d9eed9"})]})})})})},Hp=function(e){return e._id};function Up(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.isEditor,o=e.theme,i=e.company,c=e.servicesproducts,s=Object(Xe.useState)({show:!1,msg:"",type:void 0}),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Is({isRTL:t,words:n}),j=Object(Xe.useState)([m.title,m.createdAt,m.start,m.end,m.customer,m.department,m.employee,m.evQty,m.progress,{name:"amount",title:t?"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a":"Total"},m.totalinvoiced,m.totalpaid,{id:40,ref:"due",name:"due",title:t?"\u0627\u0644\u0645\u062a\u0628\u0642\u064a":"Due Payment"},m.toatlExpenses,{id:38,ref:"income",name:"income",title:t?"\u0635\u0627\u0641\u064a \u0627\u0644\u0627\u064a\u0631\u0627\u062f":"Total Income"}]),b=Object(nt.a)(j,1)[0],p=Object(Xe.useState)([]),O=Object(nt.a)(p,2),v=O[0],f=O[1],h=Object(Xe.useState)(!1),y=Object(nt.a)(h,2),x=y[0],g=y[1],w=Object(Xe.useState)(!1),C=Object(nt.a)(w,2),S=C[0],I=C[1],N=Object(Xe.useState)(null),A=Object(nt.a)(N,2),T=A[0],$=A[1],k=Object(Xe.useState)(null),D=Object(nt.a)(k,2),R=D[0],E=D[1],L=Object(Xe.useState)(null),_=Object(nt.a)(L,2),P=_[0],q=_[1],B=Object(Xe.useState)(null),W=Object(nt.a)(B,2),z=W[0],V=W[1],F=Object(Xe.useState)(!1),M=Object(nt.a)(F,2),H=M[0],U=M[1],Q=Md().departments,G=Zd().employees,K=Object(Xe.useContext)(zp),Y=K.state,J=Y.currentDate,X=Y.currentViewName,Z=Y.endDate,ee=K.dispatch,te=Object(Fd.a)(em,{fetchPolicy:"cache-and-network"}),ne=Object(nt.a)(te,2),ae=ne[0],re=ne[1],oe={refetchQueries:[{query:em,variables:{start:T?T.setHours(0,0,0,0):void 0,end:R?R.setHours(23,59,59,999):void 0}},{query:Xt},{query:em},{query:qt},{query:Pt},{query:_t}]};Object(Xe.useEffect)((function(){ae({})}),[]),Object(Xe.useEffect)((function(){var e={start:T?T.setHours(0,0,0,0):void 0,end:R?R.setHours(23,59,59,999):void 0};ae({variables:e})}),[T,R]);var ie=Object(Xe.useState)([{columnName:m.title.name,togglingEnabled:!1}]),ce=Object(nt.a)(ie,1)[0],se=Object(ta.a)(Ib,oe),le=Object(nt.a)(se,1)[0],de=Object(ta.a)(Nb,oe),ue=Object(nt.a)(de,1)[0],me=Object(ta.a)(Ab,oe),je=Object(nt.a)(me,1)[0],be=tu(),pe=be.customers,Oe=be.addCustomer,ve=be.editCustomer,fe=function(){var e=Object(ea.a)(Zn.a.mark((function e(n){var a,r,o,i,c,s,l;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.deleted)){e.next=16;break}return i=a[0],g(!0),e.next=6,je({variables:{_id:i}});case 6:if(!1!==(null===(c=e.sent)||void 0===c||null===(r=c.data)||void 0===r||null===(o=r.deleteTaskById)||void 0===o?void 0:o.ok)){e.next=15;break}if(!(null===c||void 0===c||null===(s=c.data)||void 0===s||null===(l=s.deleteTaskById)||void 0===l?void 0:l.error.includes("related"))){e.next=13;break}return e.next=11,Gs(u,t);case 11:e.next=15;break;case 13:return e.next=15,Hs(u,t);case 15:g(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(Xe.useEffect)((function(){var e,t;if((null===re||void 0===re?void 0:re.loading)&&g(!0),null===re||void 0===re||null===(e=re.data)||void 0===e||null===(t=e.getTasks)||void 0===t?void 0:t.data){var n=re.data.getTasks.data;f(n),g(!1)}}),[re]);var he=function(){null===re||void 0===re||re.refetch()};return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:r,theme:o,refresh:he,periodvalue:P,setPeriodvalue:q,bgcolor:Sc.a.deepPurple[400],children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsxs)(ua.a,{display:"flex",style:{position:"absolute",zIndex:111,flexDirection:"row",alignItems:"center"},children:[Object(Fr.jsx)(Zj,{setStart:$,setEnd:E,currentDate:J,currentDateChange:function(e){ee({type:"setCurrentDate",payload:e})},currentViewName:X,currentViewNameChange:function(e){ee({type:"setCurrentViewName",payload:e.target.value})},endDate:Z,endDateChange:function(e){ee({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:o,color:Sc.a.deepPurple[700],bgcolor:Sc.a.deepPurple[50]}),Object(Fr.jsx)(ua.a,{style:{},children:Object(Fr.jsx)(oa.a,{variant:"contained",color:"primary",onClick:function(){return I(!0)},children:t?"\u0639\u0631\u0636 \u0627\u0644\u0645\u0647\u0645\u0627\u062a":"Task View"})})]}),Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsxs)(Od.c,{rows:v,columns:b,getRowId:Hp,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:fe}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40,tableComponent:$b}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{columnExtensions:ce,defaultHiddenColumnNames:[m.createdAt.name,m.department.name,m.evQty.name,m.toatlExpenses.name,m.start.name,m.end.name]}),Object(Fr.jsx)(Au.b,{for:["title"],formatterComponent:function(e){return ds(Object(bt.a)(Object(bt.a)({},e),{},{setItem:V,setOpenItem:U}))}}),Object(Fr.jsx)(Au.b,{for:["start","end","createdAt"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["due"],formatterComponent:os}),Object(Fr.jsx)(Au.b,{for:["amount","toatlExpenses","totalpaid"],formatterComponent:rs}),Object(Fr.jsx)(Au.b,{for:["totalinvoiced"],formatterComponent:ss}),Object(Fr.jsx)(Au.b,{for:["income"],formatterComponent:is}),Object(Fr.jsx)(Au.b,{for:["tasktype"],formatterComponent:us}),Object(Fr.jsx)(Au.b,{for:["progress"],formatterComponent:ms}),r&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{addAction:le,editAction:ue,children:Object(Fr.jsx)(Sb,{employees:G,departments:Q,customers:pe,addCustomer:Oe,editCustomer:ve,company:i,servicesproducts:c,theme:o,isEditor:r,refresh:he,startrange:T,endrange:R})})]}),x&&Object(Fr.jsx)(Ll,{isRTL:t}),Object(Fr.jsx)(Mp,{open:S,onClose:function(){return I(!1)},tasks:v,theme:o,isRTL:t}),d.show&&Object(Fr.jsx)(fd,{isRTL:t,type:null===d||void 0===d?void 0:d.type,msg:null===d||void 0===d?void 0:d.msg,top:!0}),z&&Object(Fr.jsx)(_b,{open:H,onClose:function(){U(!1),V(null)},item:z,tasks:v,isNew:!1,theme:o,employees:G,departments:Q,customers:pe,addCustomer:Oe,editCustomer:ve,company:i,servicesproducts:c,isEditor:r,refresh:he,startrange:T,endrange:R,addAction:le,editAction:ue})]})]})})}var Qp,Gp={currentViewName:"Week",currentDate:new Date,endDate:new Date,sort:[{columnName:"startDate",direction:"desc"}]},Kp=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},Yp=Object(Lt.a)(Qp||(Qp=Object(Et.a)(["\n  query getReportDocuments(\n    $types: [Int]\n    $serviceIds: [String]\n    $categoryIds: [String]\n    $departmentIds: [String]\n    $employeeIds: [String]\n    $customerIds: [String]\n    $supplierIds: [String]\n    $taskIds: [Int]\n    $status: Int\n    $start: Date\n    $end: Date\n  ) {\n    getReportDocuments(\n      types: $types\n      serviceIds: $serviceIds\n      categoryIds: $categoryIds\n      departmentIds: $departmentIds\n      employeeIds: $employeeIds\n      customerIds: $customerIds\n      supplierIds: $supplierIds\n      taskIds: $taskIds\n      status: $status\n      start: $start\n      end: $end\n    ) {\n      ok\n      error\n      message\n      count\n      data {\n        _id\n        opType\n        taskId\n        branch\n        time\n        title\n        startDate\n        endDate\n        allDay\n        rRule\n        reminder\n        exDate\n        allowDrag\n\n        autoNo\n        docNo\n        priority\n        amount\n        status\n\n        customerId\n        customerName\n        customerNameAr\n        customerPhone\n\n        itemId\n        itemName\n        itemNameAr\n\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        refNo\n        refType\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),Jp=Object(Xe.createContext)({}),Xp=function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.l.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))},Zp=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.05)}}}}),{name:"TableComponent"})(Xp),eO=Object(Nu.a)({},{name:"TableComponent"})(Xp);function tO(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.services,o=e.company,i=e.theme,c=e.isEditor,s=Object(Xe.useState)(null),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)(null),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)([]),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)([]),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Object(Xe.useState)(null),S=Object(nt.a)(C,2),I=S[0],N=S[1],A=Object(Xe.useState)(null),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Is({isRTL:t,words:n}),R=Object(Xe.useState)([{name:"time",title:n.time},D.opType,D.docNo,D.refNo,D.customer,D.taskId,D.employee,D.department,D.amount]),E=Object(nt.a)(R,2),L=E[0],_=E[1],P=Object(Xe.useState)([{name:"time",title:n.time},D.opType,D.docNo,D.refNo,D.customer,D.taskId,D.employee,D.department,D.amount]),q=Object(nt.a)(P,1)[0],B=Object(Xe.useState)([{columnName:D.opTime.name,togglingEnabled:!1}]),W=Object(nt.a)(B,1)[0],z=Object(Fd.a)(Yp,{fetchPolicy:"cache-and-network"}),V=Object(nt.a)(z,2),F=V[0],M=V[1],H=tu().customers,U=Md().departments,Q=Zd().employees,G=Object(Xe.useContext)(Jp),K=G.state,Y=K.currentDate,J=K.currentViewName,X=K.endDate,Z=K.departvalue,ee=K.emplvalue,te=K.custvalue,ne=K.taskvalue,ae=K.group,re=K.groupby,oe=K.sumcolumn,ie=K.status,ce=K.sort,se=K.types,le=G.dispatch,de=tm().tasks,ue=function(e){le({type:"setGroupby",payload:e})},me=function(e){le({type:"setGroup",payload:e})};Object(Xe.useEffect)((function(){var e,t,n=(null===M||void 0===M||null===(e=M.data)||void 0===e||null===(t=e.getReportDocuments)||void 0===t?void 0:t.data)||[];if(h(n),ae){var a=nd({list:n,name:oe});k(a)}var r=0;n.forEach((function(e){return r+=e.amount})),N(r)}),[M]);var je=function(e){return e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e._id})):void 0},be=function(e){return e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e.value})):void 0};Object(Xe.useEffect)((function(){!function(){var e,t={departmentIds:je(Z),employeeIds:je(ee),customerIds:je(te),taskIds:(e=ne,e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e.id})):void 0),types:be(se),start:d?d.setHours(0,0,0,0):void 0,end:b?b.setHours(23,59,59,999):(new Date).setHours(23,59,59,999),status:ie?ie.id:void 0};F({variables:t})}()}),[d,b,ae,re,oe]);var pe=Object(Xe.useRef)(null),Oe=Object(Xe.useCallback)((function(){pe.current.exportGrid()}),[pe]),ve=function(e){var t=L.filter((function(t){return t.ref===e}));return!!(t&&t.length>0)};Object(Xe.useEffect)((function(){if(ae);else{var e=td.a.orderBy(f,[ce[0].columnName],[ce[0].direction]).map((function(e){return{date:ve("date")?e.startDate?Pc(e.startDate):" - ":void 0,time:ve("time")?e.startDate?Bc(e.startDate):" - ":void 0,docNo:ve("docNo")?e.docNo?e.docNo:" - ":void 0,status:ve("status")?e.status?Xc(e.status):" - ":void 0,employee:ve("employee")?e[D.employee.name]?e[D.employee.name]:" - ":void 0,service:ve("service")?e[D.service.name]?e[D.service.name]:" - ":void 0,department:ve("department")?e[D.department.name]?e[D.department.name]:" - ":void 0,customer:ve("customer")?e[D.customer.name]?e[D.customer.name]:" - ":void 0,taskId:ve("taskId")?e[D.taskId.name]?e[D.taskId.name]:" - ":void 0,types:ve("types")?e[D.taskId.name]?e[D.taskId.name]:" - ":void 0,opType:ve("opType")?e[D.opType.name]?e[D.opType.name]:" - ":void 0,amount:ve("amount")?e.amount?Zc(e.amount):" - ":void 0}}));w(e)}}),[L,f,ce]);var fe=[{columnName:D.docNo.name,type:"count"},{columnName:"amount",type:"sum"}],he=[{columnName:oe}],ye=[{columnName:D.docNo.name,type:"count",alignByColumn:!0},{columnName:"amount",type:"sum",alignByColumn:!0}],xe=Nc(t).filter((function(e){return 6!==e.id&&4!==e.id&&7!==e.id}));return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:c,theme:i,refresh:function(){null===M||void 0===M||M.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsx)(ua.a,{style:{position:"absolute",left:t?145:void 0,right:t?void 0:145,top:68,zIndex:100},children:Object(Fr.jsx)(Jr.a,{onClick:ae?function(){var e=[{name:t?"\u0627\u0644\u0627\u0633\u0645":"Name"},{name:t?"\u0627\u0644\u0639\u062f\u062f":"Count"},{name:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total"}],a=$.items.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{total:Zc(e.total)})})),r={isRTL:t,totl:n.total,totalamount:I?Zc($.total):"",count:null===$||void 0===$?void 0:$.count,reportname:t?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a":"Sales Report",logo:o.logo,phone:o.tel1,mobile:o.mob,address:o.address,company:t?o.nameAr:o.name,start:d?Pc(d):"",end:b?Pc(b):"",color:"#b2e2be",now:qc(new Date)};Object(bt.a)({rows:a,cols:e},r)}:function(){var e=L.map((function(e){return{name:e.title}})),a=[];ee&&a.push({name:t?null===ee||void 0===ee?void 0:ee.nameAr:null===ee||void 0===ee?void 0:ee.name}),ie&&a.push({name:t?null===ie||void 0===ie?void 0:ie.nameAr:null===ie||void 0===ie?void 0:ie.name}),Z&&a.push({name:t?null===Z||void 0===Z?void 0:Z.nameAr:null===Z||void 0===Z?void 0:Z.name}),ne&&a.push({name:t?null===ne||void 0===ne?void 0:ne.nameAr:null===ne||void 0===ne?void 0:ne.name});var r={isRTL:t,totl:n.total,totalamount:I?Zc(I):"",reportname:t?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f":"Appointment Report",logo:o.logo,phone:o.tel1,mobile:o.mob,address:o.address,company:t?o.nameAr:o.name,start:d?Pc(d):"",end:b?Pc(b):"",filters:a,color:"#afbddf",now:qc(new Date)};Object(bt.a)({rows:g,cols:e},r)},title:"Print Report",size:"small",children:Object(Fr.jsx)(Vj.a,{})})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{position:"absolute",zIndex:111,flexDirection:"row",alignItems:"center"},children:[Object(Fr.jsx)(Zj,{setStart:u,setEnd:p,currentDate:Y,currentDateChange:function(e){le({type:"setCurrentDate",payload:e})},currentViewName:J,currentViewNameChange:function(e){le({type:"setCurrentViewName",payload:e.target.value})},endDate:X,endDateChange:function(e){le({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:i}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"center",paddingLeft:20,paddingRight:20,marginTop:-4},children:[Object(Fr.jsx)(Gj,{servicevalue:[],setServicevalue:function(){return null},departvalue:Z,setDepartvalue:function(e){le({type:"setDepartvalue",payload:e})},emplvalue:ee,setEmplvalue:function(e){le({type:"setEmplvalue",payload:e})},departments:U,employees:Q,services:r,customers:H,custvalue:te,setCustvalue:function(e){le({type:"setCustvalue",payload:e})},tasks:de,taskvalue:ne,setTaskvalue:function(e){le({type:"setTaskvalue",payload:e})},words:n,isRTL:t,documentTypes:Ac,types:se,setTypes:function(e){le({type:"setTypes",payload:e})}}),Object(Fr.jsx)(Xj,{options:xe,value:re,onChange:function(e){var t;"none"===e.target.value?(me(!1),ue("none")):(me(!0),ue(e.target.value),t=D[e.target.value].name,le({type:"setSumcolumn",payload:t}))},isRTL:t})]}),Object(Fr.jsx)(ua.a,{style:{marginTop:-2,zIndex:115},children:Object(Fr.jsx)(cp,{options:or,value:ie,setValue:function(e){le({type:"setStatus",payload:e})},words:n,isRTL:t,name:"status",nomulti:!0,width:180})})]}),Object(Fr.jsx)(Ql.a,{style:{height:window.innerHeight-85,overflow:"auto"},children:Object(Fr.jsxs)(Od.c,{rows:f,columns:q,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:ce,onSortingChange:function(e){le({type:"setSort",payload:e})}}),ae&&Object(Fr.jsx)(Au.i,{grouping:he}),Object(Fr.jsx)(Au.u,{totalItems:fe,groupItems:ye}),ae&&Object(Fr.jsx)(Au.l,{}),Object(Fr.jsx)(Au.n,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,tableComponent:ae?eO:Zp,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{columnExtensions:W,onHiddenColumnNamesChange:function(e){var t=Object(at.a)(q).filter((function(t){return!e.includes(t.name)}));t.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})),_(t)}}),Object(Fr.jsx)(Au.b,{for:["startDate"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["time"],formatterComponent:Uc}),Object(Fr.jsx)(Au.b,{for:["status"],formatterComponent:Jc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as})," ",Object(Fr.jsx)(Au.b,{for:["taskId"],formatterComponent:function(e){return ls(Object(bt.a)(Object(bt.a)({},e),{},{tasks:de}))}})," ",Object(Fr.jsx)(Au.b,{for:["opType"],formatterComponent:js}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.b,{startExport:Oe}),ae&&Object(Fr.jsx)(Od.h,{messages:{sum:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",count:t?"\u0627\u0644\u0639\u062f\u062f":"Count",sumOf:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",countOf:t?"\u0627\u0644\u0639\u062f\u062f":"Count"},showColumnsWhenGrouped:!0}),Object(Fr.jsx)(Od.j,{messages:{sum:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",count:t?"\u0627\u0644\u0639\u062f\u062f":"Count"}})]})}),Object(Fr.jsx)(Kj.a,{ref:pe,rows:f,columns:q,onSave:function(e){e.xlsx.writeBuffer().then((function(e){var t=new Date,n="events-report-".concat(qc(t));Jj()(new Blob([e],{type:"application/octet-stream"}),"".concat(n,".xlsx"))}))}})]})})}var nO,aO={currentViewName:"Month",currentDate:new Date,endDate:new Date,servicevalue:[],departvalue:[],emplvalue:[],custvalue:[],catvalue:[],taskvalue:[],types:[],groupby:"none",group:!1,sumcolumn:"none",status:null,sort:[{columnName:"startDate",direction:"desc"}]},rO=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setServicevalue":return Object(bt.a)(Object(bt.a)({},e),{},{servicevalue:t.payload});case"setDepartvalue":return Object(bt.a)(Object(bt.a)({},e),{},{departvalue:t.payload});case"setEmplvalue":return Object(bt.a)(Object(bt.a)({},e),{},{emplvalue:t.payload});case"setCustvalue":return Object(bt.a)(Object(bt.a)({},e),{},{custvalue:t.payload});case"setCatvalue":return Object(bt.a)(Object(bt.a)({},e),{},{catvalue:t.payload});case"setTaskvalue":return Object(bt.a)(Object(bt.a)({},e),{},{taskvalue:t.payload});case"setTypes":return Object(bt.a)(Object(bt.a)({},e),{},{types:t.payload});case"setGroupby":return Object(bt.a)(Object(bt.a)({},e),{},{groupby:t.payload});case"setGroup":return Object(bt.a)(Object(bt.a)({},e),{},{group:t.payload});case"setSumcolumn":return Object(bt.a)(Object(bt.a)({},e),{},{sumcolumn:t.payload});case"setStatus":return Object(bt.a)(Object(bt.a)({},e),{},{status:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}},oO=Object(Xe.createContext)({}),iO=Object(Lt.a)(nO||(nO=Object(Et.a)(["\n  query getReportServices(\n    $types: [Int]\n    $serviceIds: [String]\n    $categoryIds: [String]\n    $departmentIds: [String]\n    $employeeIds: [String]\n    $customerIds: [String]\n    $supplierIds: [String]\n    $taskIds: [Int]\n    $start: Date\n    $end: Date\n  ) {\n    getReportServices(\n      types: $types\n      serviceIds: $serviceIds\n      categoryIds: $categoryIds\n      departmentIds: $departmentIds\n      employeeIds: $employeeIds\n      customerIds: $customerIds\n      supplierIds: $supplierIds\n      taskIds: $taskIds\n      start: $start\n      end: $end\n    ) {\n      ok\n      error\n      message\n      count\n      data {\n        _id\n        branch\n        autoNo\n        docNo\n        indx\n        itemId\n        itemType\n        itemBarcode\n        itemName\n        itemNameAr\n        itemDesc\n        itemDescPurchase\n        itemSize\n        itemWeight\n        itemColor\n        itemCost\n        itemUnit\n        itemPrice\n        itemPhoto\n        opId\n        opType\n        opTime\n        opDocNo\n        eventId\n        taskId\n        qty\n        doneQty\n        totalCost\n        total\n        amount\n        categoryId\n        categoryName\n        categoryNameAr\n        brandId\n        brandName\n        brandNameAr\n        departmentId\n        departmentName\n        departmentNameAr\n        departmentColor\n        employeeId\n        employeeName\n        employeeNameAr\n        employeeColor\n        employeePhone\n\n        customerId\n        customerName\n        customerNameAr\n\n        supplierId\n        supplierName\n        supplierNameAr\n\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]))),cO=function(e){var t=e.classes,n=Object(wc.a)(e,["classes"]);return Object(Fr.jsx)(Od.l.Table,Object(bt.a)(Object(bt.a)({},n),{},{className:t.tableStriped}))},sO=Object(Nu.a)((function(e){return{tableStriped:{"& tbody tr:nth-of-type(odd)":{backgroundColor:Object(er.c)(e.palette.primary.main,.05)}}}}),{name:"TableComponent"})(cO),lO=Object(Nu.a)({},{name:"TableComponent"})(cO);function dO(e){var t=e.isRTL,n=e.words,a=e.menuitem,r=e.services,o=e.company,i=e.theme,c=e.isEditor,s=Object(Xe.useState)(null),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)(null),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)([]),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)([]),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Object(Xe.useState)(null),S=Object(nt.a)(C,2),I=S[0],N=S[1],A=Object(Xe.useState)(null),T=Object(nt.a)(A,2),$=T[0],k=T[1],D=Is({isRTL:t,words:n}),R=Object(Xe.useState)([D.opTime,D.item,D.opType,D.opDocNo,D.customer,D.taskId,D.employee,D.department,{name:"qty",title:n.qty},{name:"total",title:n.amount}]),E=Object(nt.a)(R,2),L=E[0],_=E[1],P=Object(Xe.useState)([D.opTime,D.item,D.opType,D.opDocNo,D.customer,D.taskId,D.employee,D.department,{name:"qty",title:n.qty},{name:"total",title:n.amount}]),q=Object(nt.a)(P,1)[0],B=Object(Xe.useState)([{columnName:D.opTime.name,togglingEnabled:!1}]),W=Object(nt.a)(B,1)[0],z=Object(Fd.a)(iO,{fetchPolicy:"cache-and-network"}),V=Object(nt.a)(z,2),F=V[0],M=V[1],H=tu().customers,U=Md().departments,Q=Zd().employees,G=Object(Xe.useContext)(oO),K=G.state,Y=K.currentDate,J=K.currentViewName,X=K.endDate,Z=K.servicevalue,ee=K.departvalue,te=K.emplvalue,ne=K.custvalue,ae=K.taskvalue,re=K.group,oe=K.groupby,ie=K.sumcolumn,ce=K.status,se=K.sort,le=K.types,de=G.dispatch,ue=tm().tasks,me=function(e){de({type:"setGroupby",payload:e})},je=function(e){de({type:"setGroup",payload:e})};Object(Xe.useEffect)((function(){var e,t,n=(null===M||void 0===M||null===(e=M.data)||void 0===e||null===(t=e.getReportServices)||void 0===t?void 0:t.data)||[];if(h(n),re){var a=nd({list:n,name:ie});k(a)}var r=0;n.forEach((function(e){return r+=e.amount})),N(r)}),[M]);var be=function(e){return e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e._id})):void 0},pe=function(e){return e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e.value})):void 0};Object(Xe.useEffect)((function(){!function(){var e,t={serviceIds:be(Z),departmentIds:be(ee),employeeIds:be(te),customerIds:be(ne),taskIds:(e=ae,e&&(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e.id})):void 0),types:pe(le),start:d?d.setHours(0,0,0,0):void 0,end:b?b.setHours(23,59,59,999):(new Date).setHours(23,59,59,999),status:ce?ce.id:void 0};F({variables:t})}()}),[d,b,re,oe,ie]);var Oe=Object(Xe.useRef)(null),ve=Object(Xe.useCallback)((function(){Oe.current.exportGrid()}),[Oe]),fe=function(e){var t=L.filter((function(t){return t.ref===e}));return!!(t&&t.length>0)};Object(Xe.useEffect)((function(){if(re);else{var e=td.a.orderBy(f,[se[0].columnName],[se[0].direction]).map((function(e){return{date:fe("date")?e.startDate?Pc(e.startDate):" - ":void 0,time:fe("time")?e.startDate?Bc(e.startDate):" - ":void 0,docNo:fe("docNo")?e.docNo?e.docNo:" - ":void 0,status:fe("status")?e.status?Xc(e.status):" - ":void 0,employee:fe("employee")?e[D.employee.name]?e[D.employee.name]:" - ":void 0,service:fe("service")?e[D.service.name]?e[D.service.name]:" - ":void 0,department:fe("department")?e[D.department.name]?e[D.department.name]:" - ":void 0,customer:fe("customer")?e[D.customer.name]?e[D.customer.name]:" - ":void 0,taskId:fe("taskId")?e[D.taskId.name]?e[D.taskId.name]:" - ":void 0,opType:fe("opType")?e[D.opType.name]?e[D.opType.name]:" - ":void 0,amount:fe("amount")?e.amount?Zc(e.amount):" - ":void 0}}));w(e)}}),[L,f,se]);var he=[{columnName:D.docNo.name,type:"count"},{columnName:"total",type:"sum"}],ye=[{columnName:ie}],xe=[{columnName:D.docNo.name,type:"count",alignByColumn:!0},{columnName:"total",type:"sum",alignByColumn:!0}],ge=Nc(t).filter((function(e){return 6!==e.id&&7!==e.id}));return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:t,words:n,isEditor:c,theme:i,refresh:function(){null===M||void 0===M||M.refetch()},children:Object(Fr.jsxs)(Ql.a,{children:[Object(Fr.jsx)(ua.a,{style:{position:"absolute",left:t?145:void 0,right:t?void 0:145,top:68,zIndex:100},children:Object(Fr.jsx)(Jr.a,{onClick:re?function(){var e=[{name:t?"\u0627\u0644\u0627\u0633\u0645":"Name"},{name:t?"\u0627\u0644\u0639\u062f\u062f":"Count"},{name:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total"}],a=$.items.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{total:Zc(e.total)})})),r={isRTL:t,totl:n.total,totalamount:I?Zc($.total):"",count:null===$||void 0===$?void 0:$.count,reportname:t?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a":"Sales Report",logo:o.logo,phone:o.tel1,mobile:o.mob,address:o.address,company:t?o.nameAr:o.name,start:d?Pc(d):"",end:b?Pc(b):"",color:"#b2e2be",now:qc(new Date)};Object(bt.a)({rows:a,cols:e},r)}:function(){var e=L.map((function(e){return{name:e.title}})),a=[];te&&a.push({name:t?null===te||void 0===te?void 0:te.nameAr:null===te||void 0===te?void 0:te.name}),ce&&a.push({name:t?null===ce||void 0===ce?void 0:ce.nameAr:null===ce||void 0===ce?void 0:ce.name}),ee&&a.push({name:t?null===ee||void 0===ee?void 0:ee.nameAr:null===ee||void 0===ee?void 0:ee.name}),ae&&a.push({name:t?null===ae||void 0===ae?void 0:ae.nameAr:null===ae||void 0===ae?void 0:ae.name});var r={isRTL:t,totl:n.total,totalamount:I?Zc(I):"",reportname:t?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f":"Appointment Report",logo:o.logo,phone:o.tel1,mobile:o.mob,address:o.address,company:t?o.nameAr:o.name,start:d?Pc(d):"",end:b?Pc(b):"",filters:a,color:"#afbddf",now:qc(new Date)};Object(bt.a)({rows:g,cols:e},r)},title:"Print Report",size:"small",children:Object(Fr.jsx)(Vj.a,{})})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{position:"absolute",zIndex:111,flexDirection:"row",alignItems:"center"},children:[Object(Fr.jsx)(Zj,{setStart:u,setEnd:p,currentDate:Y,currentDateChange:function(e){de({type:"setCurrentDate",payload:e})},currentViewName:J,currentViewNameChange:function(e){de({type:"setCurrentViewName",payload:e.target.value})},endDate:X,endDateChange:function(e){de({type:"setEndDate",payload:e})},views:[1,7,30,365,1e3],isRTL:t,words:n,theme:i}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"center",paddingLeft:20,paddingRight:20,marginTop:-4},children:[Object(Fr.jsx)(Gj,{servicevalue:Z,setServicevalue:function(e){de({type:"setServicevalue",payload:e})},departvalue:ee,setDepartvalue:function(e){de({type:"setDepartvalue",payload:e})},emplvalue:te,setEmplvalue:function(e){de({type:"setEmplvalue",payload:e})},departments:U,employees:Q,services:r,customers:H,custvalue:ne,setCustvalue:function(e){de({type:"setCustvalue",payload:e})},tasks:ue,taskvalue:ae,setTaskvalue:function(e){de({type:"setTaskvalue",payload:e})},words:n,isRTL:t,documentTypes:Ac,types:le,setTypes:function(e){de({type:"setTypes",payload:e})}}),Object(Fr.jsx)(Xj,{options:ge,value:oe,onChange:function(e){var t;"none"===e.target.value?(je(!1),me("none")):(je(!0),me(e.target.value),t=D[e.target.value].name,de({type:"setSumcolumn",payload:t}))},isRTL:t})]})]}),Object(Fr.jsx)(Ql.a,{style:{height:window.innerHeight-85,overflow:"auto"},children:Object(Fr.jsxs)(Od.c,{rows:f,columns:q,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{defaultSorting:se,onSortingChange:function(e){de({type:"setSort",payload:e})}}),re&&Object(Fr.jsx)(Au.i,{grouping:ye}),Object(Fr.jsx)(Au.u,{totalItems:he,groupItems:xe}),re&&Object(Fr.jsx)(Au.l,{}),Object(Fr.jsx)(Au.n,{}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,tableComponent:re?lO:sO,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{columnExtensions:W,onHiddenColumnNamesChange:function(e){var t=Object(at.a)(q).filter((function(t){return!e.includes(t.name)}));t.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})),_(t)}}),Object(Fr.jsx)(Au.b,{for:["opTime"],formatterComponent:Qc}),Object(Fr.jsx)(Au.b,{for:["status"],formatterComponent:Jc}),Object(Fr.jsx)(Au.b,{for:["amount"],formatterComponent:as})," ",Object(Fr.jsx)(Au.b,{for:["taskId"],formatterComponent:function(e){return ls(Object(bt.a)(Object(bt.a)({},e),{},{tasks:ue}))}})," ",Object(Fr.jsx)(Au.b,{for:["opType"],formatterComponent:js}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.b,{startExport:ve}),re&&Object(Fr.jsx)(Od.h,{messages:{sum:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",count:t?"\u0627\u0644\u0639\u062f\u062f":"Count",sumOf:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",countOf:t?"\u0627\u0644\u0639\u062f\u062f":"Count"},showColumnsWhenGrouped:!0}),Object(Fr.jsx)(Od.j,{messages:{sum:t?"\u0627\u0644\u0645\u062c\u0645\u0648\u0639":"Total",count:t?"\u0627\u0644\u0639\u062f\u062f":"Count"}})]})}),Object(Fr.jsx)(Kj.a,{ref:Oe,rows:f,columns:q,onSave:function(e){e.xlsx.writeBuffer().then((function(e){var t=new Date,n="events-report-".concat(qc(t));Jj()(new Blob([e],{type:"application/octet-stream"}),"".concat(n,".xlsx"))}))}})]})})}var uO={currentViewName:"Month",currentDate:new Date,endDate:new Date,servicevalue:[],departvalue:[],emplvalue:[],custvalue:[],catvalue:[],taskvalue:[],types:[],groupby:"none",group:!1,sumcolumn:"none",status:null,sort:[{columnName:"startDate",direction:"desc"}]},mO=function(e,t){switch(t.type){case"setCurrentViewName":return Object(bt.a)(Object(bt.a)({},e),{},{currentViewName:t.payload});case"setCurrentDate":return Object(bt.a)(Object(bt.a)({},e),{},{currentDate:t.payload});case"setEndDate":return Object(bt.a)(Object(bt.a)({},e),{},{endDate:t.payload});case"setServicevalue":return Object(bt.a)(Object(bt.a)({},e),{},{servicevalue:t.payload});case"setDepartvalue":return Object(bt.a)(Object(bt.a)({},e),{},{departvalue:t.payload});case"setEmplvalue":return Object(bt.a)(Object(bt.a)({},e),{},{emplvalue:t.payload});case"setCustvalue":return Object(bt.a)(Object(bt.a)({},e),{},{custvalue:t.payload});case"setCatvalue":return Object(bt.a)(Object(bt.a)({},e),{},{catvalue:t.payload});case"setTaskvalue":return Object(bt.a)(Object(bt.a)({},e),{},{taskvalue:t.payload});case"setTypes":return Object(bt.a)(Object(bt.a)({},e),{},{types:t.payload});case"setGroupby":return Object(bt.a)(Object(bt.a)({},e),{},{groupby:t.payload});case"setGroup":return Object(bt.a)(Object(bt.a)({},e),{},{group:t.payload});case"setSumcolumn":return Object(bt.a)(Object(bt.a)({},e),{},{sumcolumn:t.payload});case"setStatus":return Object(bt.a)(Object(bt.a)({},e),{},{status:t.payload});case"setSort":return Object(bt.a)(Object(bt.a)({},e),{},{sort:t.payload});default:throw new Error("Unexpected action")}};function jO(e){var t=e.isRTL,n=e.words,a=e.isEditor,r=e.theme,o=e.menuitem,i=e.servicesproducts,c=e.company,s=Object(Xe.useState)(!1),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)({show:!1,msg:"",type:void 0}),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)(null),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)(!1),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Is({isRTL:t,words:n}),S=tm().tasks,I=Md().departments,N=tu().customers,A=Object(Xe.useState)([{name:t?"nameAr":"name",title:n.name},{name:"avatar",title:n.color},{name:"phone",title:n.phoneNumber},{name:"email",title:n.email},{name:t?"departmentNameAr":"departmentName",title:n.department},{name:"info",title:n.info},{name:"daysoff",title:t?"\u064a\u0648\u0645 \u0627\u0644\u0639\u0637\u0644\u0629":"Day Off"},{name:"amount",title:t?"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a":"Total"},C.progress,C.totalinvoiced,C.totalpaid,{id:40,ref:"due",name:"due",title:t?"\u0627\u0644\u0645\u062a\u0628\u0642\u064a":"Due Payment"},C.toatlExpenses,{id:38,ref:"income",name:"income",title:t?"\u0635\u0627\u0641\u064a \u0627\u0644\u0627\u064a\u0631\u0627\u062f":"Total Income"}]),T=Object(nt.a)(A,1)[0],$=function(){var e,t,n="ar"===Gn("store").lang,a=Object(Fd.a)(Pt,{variables:{isRTL:n,resKind:1,resType:1}}),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(ta.a)(on,{refetchQueries:[{query:Pt,variables:{isRTL:n,resKind:1,resType:1}},{query:Pt,variables:{isRTL:n}}]}),s=Object(nt.a)(c,1)[0],l=Object(ta.a)(sn,{refetchQueries:[{query:Pt,variables:{isRTL:n,resKind:1,resType:1}},{query:Pt,variables:{isRTL:n}}]}),d=Object(nt.a)(l,1)[0],u=Object(ta.a)(cn,{refetchQueries:[{query:Pt,variables:{isRTL:n,resKind:1,resType:1}},{query:Pt,variables:{isRTL:n}}]}),m=Object(nt.a)(u,1)[0];return Object(Xe.useEffect)((function(){o()}),[o]),{employees:(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.getEmployees)||void 0===t?void 0:t.data)||[],refreshemployee:function(){return null===i||void 0===i?void 0:i.refetch()},addEmployee:s,editEmployee:d,removeEmployee:m}}(),k=$.employees,D=$.addEmployee,R=$.editEmployee,E=$.removeEmployee,L=$.refreshemployee;Object(Xe.useEffect)((function(){if(g&&k&&k.length>0){var e,t=null===(e=k.filter((function(e){return e._id===f._id})))||void 0===e?void 0:e[0];h(t)}}),[k]);var _=function(){var e=Object(ea.a)(Zn.a.mark((function e(n){var a,r,o,i,c,s,l;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.deleted)){e.next=16;break}return i=a[0],u(!0),e.next=6,E({variables:{_id:i}});case 6:if(!1!==(null===(c=e.sent)||void 0===c||null===(r=c.data)||void 0===r||null===(o=r.deleteEmployee)||void 0===o?void 0:o.ok)){e.next=15;break}if(!(null===c||void 0===c||null===(s=c.data)||void 0===s||null===(l=s.deleteEmployee)||void 0===l?void 0:l.error.includes("related"))){e.next=13;break}return e.next=11,Gs(p,t);case 11:e.next=15;break;case 13:return e.next=15,Hs(p,t);case 15:u(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsx)(Gd,{menuitem:o,isRTL:t,words:n,isEditor:a,theme:r,refresh:L,children:Object(Fr.jsxs)(Ql.a,{children:[d&&Object(Fr.jsx)(Ll,{isRTL:t}),Object(Fr.jsxs)(Od.c,{rows:k.filter((function(e){return 1===e.resType})),columns:T,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:_}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{defaultHiddenColumnNames:["email","info","phone","daysoff","avatar"]}),Object(Fr.jsx)(Au.b,{for:["daysoff"],formatterComponent:function(e){return Rc(Object(bt.a)(Object(bt.a)({},e),{},{isRTL:t}))}}),Object(Fr.jsx)(Au.b,{for:["nameAr","name"],formatterComponent:function(e){return ds(Object(bt.a)(Object(bt.a)({},e),{},{setItem:h,setOpenItem:w}))}}),Object(Fr.jsx)(Au.b,{for:["amount","toatlExpenses","totalpaid","totalinvoiced"],formatterComponent:rs}),Object(Fr.jsx)(Au.b,{for:["due"],formatterComponent:os}),Object(Fr.jsx)(Au.b,{for:["avatar"],formatterComponent:Ec}),Object(Fr.jsx)(Au.b,{for:["income"],formatterComponent:is}),Object(Fr.jsx)(Au.b,{for:["progress"],formatterComponent:ms}),a&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:r,addAction:D,editAction:R,children:Object(Fr.jsx)(hu,{resKind:1,resType:1})})]}),b.show&&Object(Fr.jsx)(fd,{isRTL:t,type:null===b||void 0===b?void 0:b.type,msg:null===b||void 0===b?void 0:b.msg,top:!0}),Object(Fr.jsx)(ap,{open:g,onClose:function(){w(!1),h(null)},row:f,isNew:!1,addAction:D,editAction:R,theme:r,isEditor:a,departments:I,company:c,employees:k,servicesproducts:i,customers:N,tasks:S})]})})}function bO(e){var t=e.isRTL,n=e.words,a=e.isEditor,r=e.theme,o=e.menuitem,i=e.company,c=e.servicesproducts,s=Object(Xe.useState)(!1),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)({show:!1,msg:"",type:void 0}),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)(null),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)(!1),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Is({isRTL:t,words:n}),S=tm().tasks,I=Zd().employees,N=tu().customers,A=Object(Xe.useState)([{name:t?"nameAr":"name",title:n.name},{name:"avatar",title:n.color},{name:"desc",title:n.description},{name:"amount",title:t?"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a":"Total"},C.progress,C.totalinvoiced,C.totalpaid,{id:40,ref:"due",name:"due",title:t?"\u0627\u0644\u0645\u062a\u0628\u0642\u064a":"Due Payment"},C.toatlExpenses,{id:38,ref:"income",name:"income",title:t?"\u0635\u0627\u0641\u064a \u0627\u0644\u0627\u064a\u0631\u0627\u062f":"Total Income"}]),T=Object(nt.a)(A,1)[0],$=Md(),k=$.departments,D=$.addDepartment,R=$.editDepartment,E=$.removeDepartment,L=$.refreshdepartment;Object(Xe.useEffect)((function(){if(g&&k&&k.length>0){var e,t=null===(e=k.filter((function(e){return e._id===f._id})))||void 0===e?void 0:e[0];h(t)}}),[k]);var _=function(){var e=Object(ea.a)(Zn.a.mark((function e(n){var a,r,o,i,c,s,l;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.deleted)){e.next=16;break}return i=a[0],u(!0),e.next=6,E({variables:{_id:i}});case 6:if(!1!==(null===(c=e.sent)||void 0===c||null===(r=c.data)||void 0===r||null===(o=r.deleteDepartment)||void 0===o?void 0:o.ok)){e.next=15;break}if(!(null===c||void 0===c||null===(s=c.data)||void 0===s||null===(l=s.deleteDepartment)||void 0===l?void 0:l.error.includes("related"))){e.next=13;break}return e.next=11,Gs(p,t);case 11:e.next=15;break;case 13:return e.next=15,Hs(p,t);case 15:u(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsx)(Gd,{menuitem:o,isRTL:t,words:n,isEditor:a,theme:r,refresh:L,children:Object(Fr.jsxs)(Ql.a,{children:[d&&Object(Fr.jsx)(Ll,{isRTL:t}),Object(Fr.jsxs)(Od.c,{rows:k.filter((function(e){return 1===e.depType})),columns:T,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:_}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{defaultHiddenColumnNames:["avatar","depType","desc"]}),Object(Fr.jsx)(Au.b,{for:["avatar"],formatterComponent:Ec}),Object(Fr.jsx)(Au.b,{for:["nameAr","name"],formatterComponent:function(e){return ds(Object(bt.a)(Object(bt.a)({},e),{},{setItem:h,setOpenItem:w}))}}),Object(Fr.jsx)(Au.b,{for:["amount","toatlExpenses","totalpaid","totalinvoiced"],formatterComponent:rs}),Object(Fr.jsx)(Au.b,{for:["due"],formatterComponent:os}),Object(Fr.jsx)(Au.b,{for:["avatar"],formatterComponent:Ec}),Object(Fr.jsx)(Au.b,{for:["income"],formatterComponent:is}),Object(Fr.jsx)(Au.b,{for:["progress"],formatterComponent:ms}),a&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:r,addAction:D,editAction:R,children:Object(Fr.jsx)(Ou,{depType:1})})]}),b.show&&Object(Fr.jsx)(fd,{isRTL:t,type:null===b||void 0===b?void 0:b.type,msg:null===b||void 0===b?void 0:b.msg,top:!0}),Object(Fr.jsx)(ep,{open:g,onClose:function(){w(!1),h(null)},row:f,isNew:!1,addAction:D,editAction:R,theme:r,isEditor:a,departments:k,company:i,employees:I,servicesproducts:c,customers:N,tasks:S})]})})}var pO=function(e){var t,n,a,r=Object(Xe.useState)([]),o=Object(nt.a)(r,2),i=o[0],c=o[1],s=Object(Xe.useState)(!1),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)([]),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useContext)(xp),v=O.state,f=v.currentDate,h=v.currentViewName,y=v.mainResourceName,x=O.dispatch,g=Object(Qd.a)("(max-width:600px)"),w=Object(Fd.a)(Wt),C=Object(nt.a)(w,2),S=C[0],I=C[1],N=e.theme,A=e.isRTL,T=e.words,$=e.services,k=e.company,D=e.calendar,R=e.employees,E=e.departments,L=e.customers;Object(Xe.useEffect)((function(){var e=hc("employeeId"===y?R:or,y,"Data",A);c(e)}),[R]),Object(Xe.useEffect)((function(){var e,t,n=(null===I||void 0===I||null===(e=I.data)||void 0===e||null===(t=e.getEvents)||void 0===t?void 0:t.data)||[],a=n.length>0?n.map((function(e){return Object(bt.a)(Object(bt.a)({},e),{},{startDate:new Date(e.startDate),endDate:new Date(e.endDate),start:e.startDate,end:e.endDate})})):[];p(a)}),[I]);var _=function(){(null===I||void 0===I?void 0:I.refetch)&&I.refetch()},P=[{resourceName:y}];Object(Xe.useEffect)((function(){var e=fs({time:f,view:h}),t={start:e.start,end:e.end};S({variables:t})}),[f,h]);var q=function(e){x({type:"setCurrentViewName",payload:e.target.value})},B=function(e){x({type:"setCurrentDate",payload:e})};return console.log(),R&&0!==R.length&&i&&(null===i||void 0===i||null===(t=i[0])||void 0===t?void 0:t.instances)&&0!==(null===i||void 0===i||null===(n=i[0])||void 0===n||null===(a=n.instances)||void 0===a?void 0:a.length)?Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#fff",marginTop:g?47:void 0},children:[Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:4,children:Object(Fr.jsx)(pd,{setStart:function(){return null},setEnd:function(){return null},isRTL:A,words:T,theme:N,currentViewNameChange:q,currentDateChange:B,currentViewName:h,currentDate:f,views:[1,3]})}),Object(Fr.jsx)(Gl.a,{item:!0,xs:12,md:8,children:Object(Fr.jsxs)(Gr.a,{xsDown:!0,implementation:"css",children:[Object(Fr.jsxs)(cu.a,{"aria-label":"Views",name:"views",row:!0,value:y,onChange:function(e){return function(e){x({type:"setMainResourceName",payload:e});var t=hc("employeeId"===e?R:or,e,"Data");c(t)}(e.target.value)},children:[Object(Fr.jsx)(ql.a,{value:"employeeId",control:Object(Fr.jsx)(su.a,{color:"primary"}),label:A?"\u0627\u0644\u0645\u0648\u0638\u0641":"Employee"}),Object(Fr.jsx)(ql.a,{value:"status",control:Object(Fr.jsx)(su.a,{color:"primary"}),label:A?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status"})]}),_&&Object(Fr.jsx)(Jr.a,{style:{backgroundColor:Object(er.c)(N.palette.secondary.main,.5),padding:7},onClick:_,children:Object(Fr.jsx)(Ud.a,{style:{fontSize:24},color:"primary"})})]})})]}),Object(Fr.jsxs)(iu.l,{data:b,height:g?window.innerHeight:window.innerHeight-60,firstDayOfWeek:6,locale:A?"ar":"en",children:[Object(Fr.jsx)(ou.m,{grouping:P}),Object(Fr.jsx)(ou.t,{currentViewName:h,onCurrentViewNameChange:q,currentDate:f,onCurrentDateChange:B}),Object(Fr.jsx)(iu.f,{name:"Day",displayName:"Day",cellDuration:D?null===D||void 0===D?void 0:D.duration:30,startDayHour:D?null===D||void 0===D?void 0:D.start:8.5,endDayHour:D?null===D||void 0===D?void 0:D.end:21.5}),Object(Fr.jsx)(iu.f,{name:"3Days",displayName:"3 Days",intervalCount:3,cellDuration:D?null===D||void 0===D?void 0:D.duration:30,startDayHour:D?null===D||void 0===D?void 0:D.start:8.5,endDayHour:D?null===D||void 0===D?void 0:D.end:21.5}),Object(Fr.jsx)(iu.d,{appointmentContentComponent:zm}),Object(Fr.jsx)(iu.k,{data:i,mainResourceName:y}),Object(Fr.jsx)(ou.n,{}),Object(Fr.jsx)(iu.c,{showCloseButton:!0,visible:d,onVisibilityChange:function(){return u(!d)},contentComponent:function(e){var t=e.appointmentData;return Object(Fr.jsx)(Wm,{appointmentData:t,setVisible:u,departments:E,employees:R,customers:L,services:$,editEvent:function(){return null},company:k,viewonly:!0})}}),Object(Fr.jsx)(iu.i,{}),Object(Fr.jsx)(iu.e,{shadePreviousCells:!0})]})]}):Object(Fr.jsx)(Hu,{})},OO=function(e){var t=Object(Xe.useState)([]),n=Object(nt.a)(t,2),a=n[0],r=n[1],o=Zd().employees,i=Md().departments,c=tu().customers;return Object(Xe.useEffect)((function(){if(o&&o.length>0){var e=o.filter((function(e){return 1===e.resType}));r(e)}}),[o]),Object(Fr.jsx)(pO,Object(bt.a)(Object(bt.a)({},e),{},{employees:a,departments:i,customers:c}))};function vO(e){var t=e.children,n=e.value,a=e.index,r=Object(wc.a)(e,["children","value","index"]);return Object(Fr.jsx)("div",Object(bt.a)(Object(bt.a)({role:"tabpanel",hidden:n!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a)},r),{},{children:n===a&&Object(Fr.jsx)(ua.a,{children:Object(Fr.jsx)(la.a,{children:t})})}))}var fO=Object(Ot.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,display:"flex",height:300},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}})),hO=function(e){var t=e.open,n=e.onClose,a=e.row,r=e.isNew,o=e.theme,i=e.isEditor,c=e.departments,s=e.company,l=e.employees,d=e.servicesproducts,u=e.customers,m=fO(),j=Ze.a.useState(0),b=Object(nt.a)(j,2),p=b[0],O=b[1],v=(null===a||void 0===a?void 0:a.amount)?a.amount:0,f=(null===a||void 0===a?void 0:a.totalinvoiced)?a.totalinvoiced:0,h=(null===a||void 0===a?void 0:a.totalDiscount)?a.totalDiscount:0,y=(null===a||void 0===a?void 0:a.totalpaid)?a.totalpaid:0,x=(null===a||void 0===a?void 0:a.toatlExpenses)?a.toatlExpenses:0,g=(null===a||void 0===a?void 0:a.progress)?a.progress:0,w=Object(Xe.useContext)(Rr).translate,C=w.words,S=w.isRTL,I="".concat(C.resourses," : ").concat(S?null===a||void 0===a?void 0:a.nameAr:null===a||void 0===a?void 0:a.name);return Object(Fr.jsx)(pu,{isRTL:S,open:t,onClose:n,title:I,onSubmit:function(){return null},onlyclose:!0,theme:o,alrt:{},maxWidth:"xl",mb:10,mt:10,children:Object(Fr.jsxs)(Gl.a,{container:!0,spacing:0,children:[Object(Fr.jsx)(Gl.a,{item:!0,xs:11,children:Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#eee"},children:[Object(Fr.jsx)(ua.a,{display:"flex",style:{margin:10}}),a&&Object(Fr.jsxs)(ua.a,{style:{marginBottom:20},children:[Object(Fr.jsx)(vO,{value:p,index:0,children:Object(Fr.jsx)(qb,{servicesproducts:d,isEditor:i,isRTL:S,words:C,theme:o,company:s,name:"employeeId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(vO,{value:p,index:1,children:Object(Fr.jsx)(Wj,{employees:l,departments:c,customers:u,servicesproducts:d,isEditor:i,isRTL:S,words:C,theme:o,isNew:r,name:"employeeId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(vO,{value:p,index:2,children:Object(Fr.jsx)(rb,{isRTL:S,words:C,isEditor:i,employees:l,departments:c,company:s,servicesproducts:d,name:"employeeId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(vO,{value:p,index:3,children:Object(Fr.jsx)(ub,{isRTL:S,words:C,isEditor:i,theme:o,name:"employeeId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsx)(vO,{value:p,index:4,children:Object(Fr.jsx)(jb,{isRTL:S,words:C,isEditor:i,theme:o,name:"employeeId",value:a,id:null===a||void 0===a?void 0:a._id})}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{alignItems:"center",justifyContent:"space-between",marginLeft:20,marginRight:20},children:[Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a":"Total"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(v)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0646\u062c\u0627\u0632":"Progress"}),Object(Fr.jsxs)(la.a,{style:{fontWeight:"bold",fontSize:14},children:[g,"%"]})]}),Object(Fr.jsxs)(ua.a,{display:"flex",style:{flexDirection:"row"},children:[Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631":"Total Invoiced"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(f)})]}),h>0&&Object(Fr.jsxs)(ua.a,{style:{marginLeft:20,marginRight:20},children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u062d\u0633\u0648\u0645\u0627\u062a":"Total Discounts"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(h)})]})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0645\u0642\u0628\u0648\u0636\u0627\u062a":"Total Paid"}),Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(y)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14,color:Sc.a.red[500]},children:S?"\u0627\u0644\u0645\u062a\u0628\u0642\u064a":"Due Payment"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14,color:Sc.a.red[500]},children:Zc(f-y-h)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14},children:S?"\u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641":"Total Expenses"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14},children:Zc(x)})]}),Object(Fr.jsxs)(ua.a,{children:[Object(Fr.jsx)(la.a,{style:{fontSize:14,color:Sc.a.blue[500]},children:S?"\u0635\u0627\u0641\u064a \u0627\u0644\u0627\u064a\u0631\u0627\u062f":"Total Income"})," ",Object(Fr.jsx)(la.a,{style:{fontWeight:"bold",fontSize:14,color:Sc.a.blue[500]},children:Zc(f-x-h)})]})]})]})]})}),a&&Object(Fr.jsxs)(Gl.a,{item:!0,xs:1,children:[Object(Fr.jsx)(ua.a,{style:{marginTop:10,marginBottom:100},children:Object(Fr.jsx)(wj.a,{orientation:"vertical",variant:"scrollable",value:p,onChange:function(e,t){O(t)},"aria-label":"items",className:m.tabs,children:$m.map((function(e){return Object(Fr.jsx)(Cj.a,Object(bt.a)({style:{backgroundColor:p===e.id?"#eee":void 0},label:S?e.nameAr:e.name},(t=e.id,{id:"vertical-tab-".concat(t),"aria-controls":"vertical-tabpanel-".concat(t)})));var t}))})}),Object(Fr.jsxs)(ua.a,{style:{backgroundColor:"#eee",margin:7,padding:8,borderRadius:5,alignItems:"flex-start",justifyContent:"center",paddingBottom:15},children:[Object(Fr.jsx)(la.a,{variant:"subtitle1",style:{fontWeight:"bold",marginTop:10,marginBottom:10},children:S?a.nameAr:a.name}),Object(Fr.jsx)(la.a,{variant:"subtitle2",style:{fontWeight:"bold",marginTop:10},children:C.phoneNumber}),Object(Fr.jsx)(la.a,{children:a.phone}),a.email&&Object(Fr.jsxs)(Fr.Fragment,{children:[Object(Fr.jsx)(la.a,{variant:"subtitle2",style:{fontWeight:"bold",marginTop:10},children:C.email}),Object(Fr.jsx)(la.a,{children:a.email})]})]})]})]})})};function yO(e){var t=e.isRTL,n=e.words,a=e.isEditor,r=e.theme,o=e.menuitem,i=e.servicesproducts,c=e.company,s=Object(Xe.useState)(!1),l=Object(nt.a)(s,2),d=l[0],u=l[1],m=Object(Xe.useState)({show:!1,msg:"",type:void 0}),j=Object(nt.a)(m,2),b=j[0],p=j[1],O=Object(Xe.useState)(null),v=Object(nt.a)(O,2),f=v[0],h=v[1],y=Object(Xe.useState)(!1),x=Object(nt.a)(y,2),g=x[0],w=x[1],C=Is({isRTL:t,words:n}),S=tm().tasks,I=Md().departments,N=tu().customers,A=Object(Xe.useState)([{name:t?"nameAr":"name",title:n.name},{name:"avatar",title:n.color},{name:t?"departmentNameAr":"departmentName",title:n.department},{name:"info",title:n.info},{name:"amount",title:t?"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a":"Total"},C.progress,C.totalinvoiced,C.totalpaid,{id:40,ref:"due",name:"due",title:t?"\u0627\u0644\u0645\u062a\u0628\u0642\u064a":"Due Payment"},C.toatlExpenses,{id:38,ref:"income",name:"income",title:t?"\u0635\u0627\u0641\u064a \u0627\u0644\u0627\u064a\u0631\u0627\u062f":"Total Income"}]),T=Object(nt.a)(A,1)[0],$=function(){var e,t,n="ar"===Gn("store").lang,a=Object(Fd.a)(Pt,{variables:{isRTL:n,resKind:2,resType:1}}),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(ta.a)(on,{refetchQueries:[{query:Pt,variables:{isRTL:n,resKind:2,resType:1}},{query:Pt,variables:{isRTL:n}}]}),s=Object(nt.a)(c,1)[0],l=Object(ta.a)(sn,{refetchQueries:[{query:Pt,variables:{isRTL:n,resKind:2,resType:1}},{query:Pt,variables:{isRTL:n}}]}),d=Object(nt.a)(l,1)[0],u=Object(ta.a)(cn,{refetchQueries:[{query:Pt,variables:{isRTL:n,resKind:2,resType:1}},{query:Pt,variables:{isRTL:n}}]}),m=Object(nt.a)(u,1)[0];return Object(Xe.useEffect)((function(){o()}),[o]),{employees:(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.getEmployees)||void 0===t?void 0:t.data)||[],refreshemployee:function(){return null===i||void 0===i?void 0:i.refetch()},addEmployee:s,editEmployee:d,removeEmployee:m}}(),k=$.employees,D=$.addEmployee,R=$.editEmployee,E=$.removeEmployee,L=$.refreshemployee;Object(Xe.useEffect)((function(){if(g&&k&&k.length>0){var e,t=null===(e=k.filter((function(e){return e._id===f._id})))||void 0===e?void 0:e[0];h(t)}}),[k]);var _=function(){var e=Object(ea.a)(Zn.a.mark((function e(n){var a,r,o,i,c,s,l;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.deleted)){e.next=16;break}return i=a[0],u(!0),e.next=6,E({variables:{_id:i}});case 6:if(!1!==(null===(c=e.sent)||void 0===c||null===(r=c.data)||void 0===r||null===(o=r.deleteEmployee)||void 0===o?void 0:o.ok)){e.next=15;break}if(!(null===c||void 0===c||null===(s=c.data)||void 0===s||null===(l=s.deleteEmployee)||void 0===l?void 0:l.error.includes("related"))){e.next=13;break}return e.next=11,Gs(p,t);case 11:e.next=15;break;case 13:return e.next=15,Hs(p,t);case 15:u(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fr.jsx)(Gd,{menuitem:o,isRTL:t,words:n,isEditor:a,theme:r,refresh:L,children:Object(Fr.jsxs)(Ql.a,{children:[d&&Object(Fr.jsx)(Ll,{isRTL:t}),Object(Fr.jsxs)(Od.c,{rows:k.filter((function(e){return 1===e.resType})),columns:T,getRowId:Ss,children:[Object(Fr.jsx)(Au.s,{}),Object(Fr.jsx)(Au.q,{}),Object(Fr.jsx)(Au.d,{onCommitChanges:_}),Object(Fr.jsx)(Au.m,{}),Object(Fr.jsx)(Au.k,{}),Object(Fr.jsx)(Od.l,{height:window.innerHeight-133,messages:{noData:t?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"no data"},estimatedRowHeight:40}),Object(Fr.jsx)(Od.i,{showSortingControls:!0}),Object(Fr.jsx)(Od.f,{defaultHiddenColumnNames:["info","avatar"]}),Object(Fr.jsx)(Au.b,{for:["daysoff"],formatterComponent:function(e){return Rc(Object(bt.a)(Object(bt.a)({},e),{},{isRTL:t}))}}),Object(Fr.jsx)(Au.b,{for:["nameAr","name"],formatterComponent:function(e){return ds(Object(bt.a)(Object(bt.a)({},e),{},{setItem:h,setOpenItem:w}))}}),Object(Fr.jsx)(Au.b,{for:["amount","toatlExpenses","totalpaid","totalinvoiced"],formatterComponent:rs}),Object(Fr.jsx)(Au.b,{for:["due"],formatterComponent:os}),Object(Fr.jsx)(Au.b,{for:["avatar"],formatterComponent:Ec}),Object(Fr.jsx)(Au.b,{for:["income"],formatterComponent:is}),Object(Fr.jsx)(Au.b,{for:["progress"],formatterComponent:ms}),a&&Object(Fr.jsx)(Od.g,{showEditCommand:!0,showDeleteCommand:!0,showAddCommand:!0,commandComponent:Es}),Object(Fr.jsx)(Od.k,{}),Object(Fr.jsx)(Od.a,{}),Object(Fr.jsx)(Od.d,{inputComponent:function(e){return Object(Fr.jsx)(vd,Object(bt.a)({isRTL:t},e))}}),Object(Fr.jsx)(Vl,{theme:r,addAction:D,editAction:R,children:Object(Fr.jsx)(Tp,{resKind:2,resType:1})})]}),b.show&&Object(Fr.jsx)(fd,{isRTL:t,type:null===b||void 0===b?void 0:b.type,msg:null===b||void 0===b?void 0:b.msg,top:!0}),Object(Fr.jsx)(hO,{open:g,onClose:function(){w(!1),h(null)},row:f,isNew:!1,addAction:D,editAction:R,theme:r,isEditor:a,departments:I,company:c,employees:k,servicesproducts:i,customers:N,tasks:S})]})})}var xO=function(){var e=ht(),t=Object(Xe.useState)($a[0]),n=Object(nt.a)(t,2),a=n[0],r=n[1],o=Object(Xe.useState)(!1),i=Object(nt.a)(o,2),c=i[0],s=i[1],l=Object(Hr.a)(),d=au().branches,u=eu(),m=u.services,j=u.refreshservice,b=u.addService,p=u.editService,O=nm(),v=O.company,f=O.editCompany,h=O.refreshcompany,y=function(){var e,t,n="ar"===Gn("store").lang,a=Object(Fd.a)(Zt,{variables:{isRTL:n}}),r=Object(nt.a)(a,2),o=r[0],i=r[1],c=Object(ta.a)(Bn,{refetchQueries:[{query:Zt,variables:{isRTL:n}}]}),s=Object(nt.a)(c,1)[0],l=Object(ta.a)(Wn,{refetchQueries:[{query:Zt,variables:{isRTL:n}}]}),d=Object(nt.a)(l,1)[0],u=Object(ta.a)(zn,{refetchQueries:[{query:Zt,variables:{isRTL:n}}]}),m=Object(nt.a)(u,1)[0];return Object(Xe.useEffect)((function(){o()}),[o]),{suppliers:(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.getSuppliers)||void 0===t?void 0:t.data)||[],refreshsupplier:function(){return null===i||void 0===i?void 0:i.refetch()},addSupplier:s,editSupplier:d,removeSupplier:m}}().suppliers,x=cb(),g=x.accounts,w=x.refreshAccount,C=Object(Xe.useContext)(Rr),S=C.store,I=S.user,N=S.calendar,A=S.network,T=C.dispatch,$=C.translate,k=$.words,D=$.isRTL;Object(Xe.useEffect)((function(){var e=ks()||Ds();s(e)}),[]);var R,E,L=Object(Xe.useReducer)(br,jr),_=Object(nt.a)(L,2),P=_[0],q=_[1],B=Object(Xe.useReducer)(vr,Or),W=Object(nt.a)(B,2),z=W[0],V=W[1],F=Object(Xe.useReducer)(rO,aO),M=Object(nt.a)(F,2),H=M[0],U=M[1],Q=Object(Xe.useReducer)(mO,uO),G=Object(nt.a)(Q,2),K=G[0],Y=G[1],J=Object(Xe.useReducer)(Kp,Gp),X=Object(nt.a)(J,2),Z=X[0],ee=X[1],te=Object(Xe.useReducer)(_r,Lr),ne=Object(nt.a)(te,2),ae=ne[0],re=ne[1],oe=Object(Xe.useReducer)(Br,qr),ie=Object(nt.a)(oe,2),ce=ie[0],se=ie[1],le=Object(Xe.useReducer)(Vr,zr),de=Object(nt.a)(le,2),ue=de[0],me=de[1],je=Object(Xe.useReducer)(up,dp),be=Object(nt.a)(je,2),pe=be[0],Oe=be[1],ve=Object(Xe.useReducer)(yr,hr),fe=Object(nt.a)(ve,2),he=fe[0],ye=fe[1],xe=Object(Xe.useReducer)(wr,gr),ge=Object(nt.a)(xe,2),we=ge[0],Ce=ge[1],Se=Object(Xe.useReducer)(Dr,kr),Ie=Object(nt.a)(Se,2),Ne=Ie[0],Ae=Ie[1],Te=Object(Xe.useReducer)(Ir,Sr),$e=Object(nt.a)(Te,2),ke=$e[0],De=$e[1],Re=Object(Xe.useReducer)(Tr,Ar),Ee=Object(nt.a)(Re,2),Le=Ee[0],_e=Ee[1],Pe=Object(Xe.useReducer)(yp,hp),qe=Object(nt.a)(Pe,2),Be=qe[0],We=qe[1],ze=d.filter((function(e){return e.basename===I.branch}));ze&&ze.length>0&&(R=null===ze||void 0===ze||null===(E=ze[0])||void 0===E?void 0:E.systems);var Ve=R?function(e){return $a.map((function(t){if(yc(t,e)){if(t.subMenu){var n=t.subMenu.map((function(t){if(yc(t,e))return t})).filter((function(e){return e}));return t.subMenu=n,t}return t}})).filter((function(e){return e}))}(R):[],Fe=I.isSuperAdmin?g:g.filter((function(e){return e.branch===I.branch})),Me=function(e){var t=qi,n=(null===e||void 0===e?void 0:e.includes(vi))?Bi:[],a=(null===e||void 0===e?void 0:e.includes(fi))?Wi:[],r=(null===e||void 0===e?void 0:e.includes(yi))?Vi:[],o=(null===e||void 0===e?void 0:e.includes(hi))?zi:[],i=(null===e||void 0===e?void 0:e.includes(gi||xi))?Fi:[];return[].concat(Object(at.a)(t),Object(at.a)(n),Object(at.a)(a),Object(at.a)(r),Object(at.a)(o),Object(at.a)(i)).map((function(e){return e.parentcode}))}(R),He=(null===Fe||void 0===Fe?void 0:Fe.length)>0?Fe.filter((function(e){return Me.includes(e.parentcode)})):[];return He.sort((function(e,t){return e.code-t.code})),Object(Fr.jsxs)(ua.a,{className:e.root,dir:D?"rtl":void 0,display:"flex",style:{flex:1,backgroundColor:Object(er.c)(l.palette.info.light,.05)},children:[Object(Fr.jsx)(ca.a,{}),Object(Fr.jsx)(Ul,{isRTL:D,setMenuitem:r,menuitem:a,user:I,branches:d,menu:Ve,logout:function(){T({type:"logout"})},network:A}),Object(Fr.jsx)("main",{className:e.content,children:Object(Fr.jsxs)("div",{children:[Object(Fr.jsx)(Ur.a,{path:"/",exact:!0,component:function(){return Object(Fr.jsx)(ru,{menuitem:a,isRTL:D,words:k,user:I,theme:l})}}),Object(Fr.jsx)(Ur.a,{path:"/calendar",component:function(){return Object(Fr.jsx)(ur.Provider,{value:{state:P,dispatch:q},children:Object(Fr.jsx)(Km,{menuitem:a,isRTL:D,words:k,theme:l,isEditor:c,calendar:N,company:v,services:m,addService:b,editService:p})})}}),Object(Fr.jsx)(Ur.a,{path:"/calendarempl",component:function(){return Object(Fr.jsx)(xp.Provider,{value:{state:Be,dispatch:We},children:Object(Fr.jsx)(OO,{menuitem:a,isRTL:D,words:k,theme:l,isEditor:c,calendar:N,services:m,company:v})})}}),Object(Fr.jsx)(Ur.a,{path:"/sales",component:function(){return Object(Fr.jsx)(Er.Provider,{value:{state:ae,dispatch:re},children:Object(Fr.jsx)(Mb,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l,company:v,servicesproducts:m})})}}),Object(Fr.jsx)(Ur.a,{path:"/tasks",component:function(){return Object(Fr.jsx)(zp.Provider,{value:{state:Z,dispatch:ee},children:Object(Fr.jsx)(Up,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l,company:v,servicesproducts:m})})}}),Object(Fr.jsx)(Ur.a,{path:"/appointments",component:function(){return Object(Fr.jsx)(pr.Provider,{value:{state:z,dispatch:V},children:Object(Fr.jsx)(rp,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l,company:v,servicesproducts:m})})}}),Object(Fr.jsx)(Ur.a,{path:"/cash",component:function(){return Object(Fr.jsx)(fr.Provider,{value:{state:he,dispatch:ye},children:Object(Fr.jsx)(Kb,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l})})}}),Object(Fr.jsx)(Ur.a,{path:"/receipts",component:function(){return Object(Fr.jsx)(xr.Provider,{value:{state:we,dispatch:Ce},children:Object(Fr.jsx)(kp,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l})})}}),Object(Fr.jsx)(Ur.a,{path:"/expenses",component:function(){return Object(Fr.jsx)($r.Provider,{value:{state:Ne,dispatch:Ae},children:Object(Fr.jsx)(gp,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l})})}}),Object(Fr.jsx)(Ur.a,{path:"/financeall",component:function(){return Object(Fr.jsx)(fr.Provider,{value:{state:he,dispatch:ye},children:Object(Fr.jsx)(Wp,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l})})}}),Object(Fr.jsx)(Ur.a,{path:"/customers",component:function(){return Object(Fr.jsx)(Vb,{isRTL:D,words:k,theme:l,menuitem:a,isEditor:c,company:v,servicesproducts:m})}}),Object(Fr.jsx)(Ur.a,{path:"/users",component:function(){return Object(Fr.jsx)(hj,{words:k,isEditor:c,menuitem:a,theme:l,isRTL:D})}}),Object(Fr.jsx)(Ur.a,{path:"/accounts",component:function(){return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l,refresh:w,children:Object(Fr.jsx)(Ub,{accounts:Fe})})}}),Object(Fr.jsx)(Ur.a,{path:"/options",component:function(){return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l,refresh:h,editCompany:f,company:v,children:Object(Fr.jsx)(pj,{})})}}),Object(Fr.jsx)(Ur.a,{path:"/departments",component:function(){return Object(Fr.jsx)(yj,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l})}}),Object(Fr.jsx)(Ur.a,{path:"/managedepartments",component:function(){return Object(Fr.jsx)(bO,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l,servicesproducts:m,company:v})}}),Object(Fr.jsx)(Ur.a,{path:"/employees",component:function(){return Object(Fr.jsx)(xj,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l})}}),Object(Fr.jsx)(Ur.a,{path:"/manageemployees",component:function(){return Object(Fr.jsx)(jO,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l,servicesproducts:m,company:v})}}),Object(Fr.jsx)(Ur.a,{path:"/resourses",component:function(){return Object(Fr.jsx)($p,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l})}}),Object(Fr.jsx)(Ur.a,{path:"/manageresourses",component:function(){return Object(Fr.jsx)(yO,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l,servicesproducts:m,company:v})}}),Object(Fr.jsx)(Ur.a,{path:"/services",component:function(){return Object(Fr.jsx)(Gd,{menuitem:a,isRTL:D,words:k,isEditor:c,theme:l,refresh:j,children:Object(Fr.jsx)(Fb,{})})}}),Object(Fr.jsx)(Ur.a,{path:"/calreports",component:function(){return Object(Fr.jsx)(mp.Provider,{value:{state:pe,dispatch:Oe},children:Object(Fr.jsx)(Op,{isEditor:c,menuitem:a,isRTL:D,words:k,services:m,categories:[],company:v,theme:l})})}}),Object(Fr.jsx)(Ur.a,{path:"/docreports",component:function(){return Object(Fr.jsx)(Jp.Provider,{value:{state:H,dispatch:U},children:Object(Fr.jsx)(tO,{isEditor:c,menuitem:a,isRTL:D,words:k,services:m,categories:[],company:v,theme:l})})}}),Object(Fr.jsx)(Ur.a,{path:"/servicesreports",component:function(){return Object(Fr.jsx)(oO.Provider,{value:{state:K,dispatch:Y},children:Object(Fr.jsx)(dO,{isEditor:c,menuitem:a,isRTL:D,words:k,services:m,categories:[],company:v,theme:l})})}}),Object(Fr.jsx)(Ur.a,{path:"/salesreport",component:function(){return Object(Fr.jsx)(Pr.Provider,{value:{state:ce,dispatch:se},children:Object(Fr.jsx)(ab,{isRTL:D,words:k,isEditor:c,menuitem:a,theme:l,services:m,categories:[],company:v})})}}),Object(Fr.jsx)(Ur.a,{path:"/purchasereport",component:function(){return Object(Fr.jsx)(Wr.Provider,{value:{state:ue,dispatch:me},children:Object(Fr.jsx)(Ip,{isRTL:D,words:k,isEditor:c,menuitem:a,theme:l,services:m,suppliers:y,categories:[],company:v})})}}),Object(Fr.jsx)(Ur.a,{path:"/financereport",component:function(){return Object(Fr.jsx)(fr.Provider,{value:{state:he,dispatch:ye},children:Object(Fr.jsx)(lp,{isRTL:D,words:k,isEditor:c,menuitem:a,theme:l,services:m,categories:[],company:v,mainaccounts:He})})}}),Object(Fr.jsx)(Ur.a,{path:"/expensesreport",component:function(){return Object(Fr.jsx)(Cr.Provider,{value:{state:ke,dispatch:De},children:Object(Fr.jsx)(Ap,{isRTL:D,words:k,isEditor:c,menuitem:a,theme:l,services:m,categories:[],company:v,mainaccounts:He})})}}),Object(Fr.jsx)(Ur.a,{path:"/customerreport",component:function(){return Object(Fr.jsx)(Nr.Provider,{value:{state:Le,dispatch:_e},children:Object(Fr.jsx)(fp,{isRTL:D,words:k,isEditor:c,menuitem:a,theme:l,services:m,categories:[],company:v,mainaccounts:He})})}})]})})]})},gO=function(){var e=Object(Xe.useContext)(Rr).store,t=null===e||void 0===e?void 0:e.user,n=null===e||void 0===e?void 0:e.lang;return Object(Fr.jsxs)(Jn.a,{children:[!t&&Object(Fr.jsx)(Mr,{lang:n}),t&&Object(Fr.jsx)(xO,{})]})};n(683).config();var wO=Object(ot.b)({plugins:[].concat(Object(at.a)(Object(st.a)().plugins),[ct()()])});var CO=function(){var e=Gn("store",Kn),t=Object(Xe.useReducer)(Yn,e||Kn),n=Object(nt.a)(t,2),a=n[0],r=n[1],o=function(e){var t=e.lang,n=e.themeId,a="ar"===t?mt:ut,r=jt[Number(n)];return Object(pt.a)(Object(bt.a)(Object(bt.a)({},r),a))}({lang:a.lang,themeId:a.themeId}),i=function(e){var t=Yd("ar"===e?Xd:Jd),n=Object(Xe.useState)(t),a=Object(nt.a)(n,2),r=a[0],o=a[1];return Object(Xe.useEffect)((function(){o(t)}),[e]),r}(a.lang);return Object(Xe.useEffect)((function(){Qn("store",a)}),[a]),Object(Fr.jsx)(dt.a,{client:Rt,children:Object(Fr.jsx)(lt.b,{jss:wO,children:Object(Fr.jsx)(rt.a,{theme:o,children:Object(Fr.jsx)(Rr.Provider,{value:{store:a,dispatch:r,translate:i},children:Object(Fr.jsx)(gO,{})})})})})},SO=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function IO(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var NO=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,998)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))};tt.a.render(Object(Fr.jsx)(Ze.a.StrictMode,{children:Object(Fr.jsx)(CO,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");SO?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):IO(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):IO(t,e)}))}}(),NO()}},[[901,1,2]]]);
//# sourceMappingURL=main.5ed8e4cf.chunk.js.map